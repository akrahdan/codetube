(this.webpackJsonpcodefluent=this.webpackJsonpcodefluent||[]).push([[43],{901:function(t,e,i){"use strict";i.r(e),i.d(e,"launch40Phaser",(function(){return m}));var a=i(25),o={backgroundColor:16777215,blackText:"#000",extraLargeFontSize:"48px",fontFamily:"Apercu, sans-serif",gravity:400,jumpForce:700,largeFontSize:"32px",mediumFontSize:"24px",parent:null,platformSpeed:4,platformSpeedIncrement:0,purpleBox:6553828,purpleText:"#6400e4",smallFontSize:"16px",whiteText:"#fff",windowHeight:600,windowWidth:800},s=i(161),n=i(162),r=i(164),h=i(163),c={buildYourOwn:"(B)uild your own",clickToContribute:"(C)lick to contribute",endingInstructions:"Press 'p' to play again or 'b' to build your own.",fourZeroFour:"404",highscore:function(t){return"Highscore: ".concat(t)},looksLikeYoureLost:"Looks like you're lost.",luckilyYoureNotAlone:"Luckily you're not alone.\nHelp Codey return home and get back to coding.",ohNo:"Oh no!",pause:"(P)ause",playAgain:"(P)lay Again",playTheGame:"(P)lay the Game",pressPToPause:"Press 'P' to pause",pressPToUnpause:"Press 'P' to unpause",pressSpaceOrTap:"Press Space or tap the game to jump",score:function(t){return"Score: ".concat(t)},soClose:"So Close!",startingInstructions:"Press 'p' to play, 'b' to build your own, or 'c' to contribute.",unpause:"un(P)ause"};function l(t){var e=t.on;return function(t){Object(r.a)(a,t);var i=Object(h.a)(a);function a(){return Object(s.a)(this,a),i.call(this,{key:"EndScene"})}return Object(n.a)(a,[{key:"preload",value:function(){}},{key:"create",value:function(t){this.createShortcuts(),this.createTextElements(t),this.game.canvas.setAttribute("aria-label",[c.score(t.score),c.highscore(t.highscore),c.soClose,c.pressPToPlayAgain,c.endingInstructions].join(". "))}},{key:"createShortcuts",value:function(){var t=this;this.input.keyboard.addKey("b").on("down",(function(){return t.launchBuildYourOwn()})),this.input.keyboard.addKey("p").on("down",(function(){return t.launchGame()}))}},{key:"createTextElements",value:function(t){var e=this,i=t.score,a=t.highscore;this.add.text(this.game.config.width/2-110,50,c.score(i),{fontFamily:o.fontFamily,fontSize:o.extraLargeFontSize,fontStyle:"bold",color:o.blackText,align:"center"}),this.add.text(this.game.config.width/2-80,110,c.highscore(a),{fontFamily:o.fontFamily,fontSize:o.mediumFontSize,fill:o.blackText}),this.add.text(this.game.config.width/2-35,this.game.config.height/4,c.soClose,{fontFamily:o.fontFamily,fontSize:o.smallFontSize,fill:o.blackText});var s=this.add.rectangle(this.game.config.width/2,this.game.config.height/3+25,210,40,o.purpleBox),n=this.add.rectangle(this.game.config.width/2,this.game.config.height/2-20,210,40,o.backgroundColor);s.setInteractive(),n.setInteractive(),s.on("pointerup",(function(){return e.launchGame()})),n.on("pointerup",(function(){return e.launchBuildYourOwn()})),this.add.text(this.game.config.width/2-40,this.game.config.height/3+15,c.playAgain,{fontFamily:o.fontFamily,fontSize:o.smallFontSize,fill:o.whiteText}),this.add.text(this.game.config.width/2-55,this.game.config.height/2-30,c.buildYourOwn,{fontFamily:o.fontFamily,fontSize:o.smallFontSize,fill:o.purpleText})}},{key:"launchBuildYourOwn",value:function(){e.end("build-your-own"),window.location.href="https://www.codecademy.com/learn/learn-phaser"}},{key:"launchGame",value:function(){e.end("game"),this.scene.start("GameScene"),this.scene.stop("EndScene")}}]),a}(t.phaser.Scene)}function u(t){var e=t.on,i=t.phaser;return function(t){Object(r.a)(l,t);var a=Object(h.a)(l);function l(){var t;return Object(s.a)(this,l),(t=a.call(this,{key:"GameScene"})).isPaused=!1,t}return Object(n.a)(l,[{key:"preload",value:function(){this.load.image("platform","https://static-assets.codecademy.com/assets/40phaser/platform-test.png"),this.load.spritesheet("codey","https://static-assets.codecademy.com/assets/40phaser/codey_sprite.png",{frameWidth:72,frameHeight:72})}},{key:"create",value:function(){var t=this;this.scores={currScore:0,highscore:parseInt(localStorage.getItem("highscore"),10)||0},this.keys={spacebar:this.input.keyboard.addKey(i.Input.Keyboard.KeyCodes.SPACE),pKey:this.input.keyboard.addKey(i.Input.Keyboard.KeyCodes.P)},this.anims.create({key:"run",frames:this.anims.generateFrameNumbers("codey",{start:0,end:3}),frameRate:10,repeat:-1}),this.anims.create({key:"jump",frames:this.anims.generateFrameNumbers("codey",{start:3,end:5}),frameRate:10,repeat:-1}),this.platforms=this.physics.add.group({allowGravity:!1,immovable:!0});for(var e=0;e<5;e+=1)this.addPlatform(110*e);this.addPlatform(625),this.addPlatform(810),this.addPlatform(980),this.player=this.physics.add.sprite(100,this.game.config.height-100,"codey"),this.player.body.checkCollision.up=!1,this.player.body.checkCollision.left=!1,this.player.body.checkCollision.right=!1,this.physics.add.collider(this.player,this.platforms),this.physics.add.collider(this.platforms,this.platforms,(function(t,e){var i=t.body,a=e.body;i.x>a.x?i.y-=60:a.y-=60})),this.input.on("pointerdown",this.jump,this),this.scoreText=this.add.text(16,16,c.score(0),{fontFamily:o.fontFamily,fontSize:o.mediumFontSize,fill:o.blackText}),this.pauseButton=this.add.rectangle(this.game.config.width-70,25,100,30,o.purpleBox),this.pauseButton.setInteractive(),this.pauseButton.text=this.add.text(this.game.config.width-100,14,c.pause,{fontFamily:o.fontFamily,fontSize:o.smallFontSize,fill:o.whiteText}),this.pauseButton.on("pointerup",(function(){t.togglePause()}))}},{key:"addPlatform",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.game.config.width,e=this.game.config.height-50,i=this.physics.add.sprite(t,e,"platform");this.platforms.add(i)}},{key:"jump",value:function(){this.player.body.touching.down&&(this.player.body.setAccelerationY(1e3),this.player.setVelocityY(-o.jumpForce)),e.game("jump")}},{key:"update",value:function(){var t=Math.floor(this.scores.currScore);this.isPaused||(this.scores.currScore+=.2,this.scoreText.setText(c.score(t)),i.Input.Keyboard.JustDown(this.keys.spacebar)&&this.jump(),this.player.body.touching.down?this.player.anims.play("run",!0):this.player.anims.play("jump",!0),this.player.y>this.game.config.height&&(this.scene.stop("GameScene"),this.scores.highscore=Math.max(this.scores.highscore,this.scores.currScore),localStorage.setItem("highscore",Math.floor(this.scores.highscore)),e.game("death"),this.scene.start("EndScene",{score:Math.floor(this.scores.currScore),highscore:Math.floor(this.scores.highscore)})),this.platforms.children.iterate(this.updatePlatforms,this)),i.Input.Keyboard.JustDown(this.keys.pKey)&&this.togglePause();var a=[c.score(t),this.isPaused?c.pressPToUnpause:c.pressPToPause,c.pressSpaceOrTap].join(". ");a!==this.ariaLabel&&(this.ariaLabel=a,this.game.canvas.setAttribute("aria-label",a))}},{key:"togglePause",value:function(){this.isPaused?(e.game("unpause"),this.pauseButton.text.setText(c.pause),this.pauseButton.text.x+=6,this.physics.resume(),this.anims.resumeAll()):(e.game("pause"),this.pauseButton.text.setText(c.unpause),this.pauseButton.text.x-=6,this.physics.pause(),this.anims.pauseAll()),this.isPaused=!this.isPaused}},{key:"updatePlatforms",value:function(t){if(t.x<-t.width){var e=Math.floor(250*Math.random());t.x=this.game.config.width+e}else o.platformSpeedIncrement=this.scores.currScore/500,t.x-=o.platformSpeed*(1+o.platformSpeedIncrement)}}]),l}(i.Scene)}function d(t){var e=t.on;return function(t){Object(r.a)(a,t);var i=Object(h.a)(a);function a(){return Object(s.a)(this,a),i.call(this,{key:"StartScene"})}return Object(n.a)(a,[{key:"preload",value:function(){this.load.image("platform","https://static-assets.codecademy.com/assets/40phaser/platform-test.png"),this.load.image("404image","https://static-assets.codecademy.com/assets/40phaser/404.svg"),this.load.spritesheet("codey","https://static-assets.codecademy.com/assets/40phaser/codey_sprite.png",{frameWidth:72,frameHeight:72})}},{key:"create",value:function(){this.game.canvas.setAttribute("aria-label",[c.fourZeroFour,c.ohNo,c.looksLikeYoureLost,c.luckilyYoureNotAlone,c.startingInstructions].join(". ")),this.createShortcuts(),this.createTextElements(),this.start_player=this.physics.add.sprite(100,this.game.config.height-100,"codey"),this.start_platform=this.physics.add.sprite(100,this.game.config.height-50,"platform"),this.start_player.body.setAllowGravity(!1),this.start_platform.body.setAllowGravity(!1)}},{key:"createShortcuts",value:function(){var t=this;this.input.keyboard.addKey("b").on("down",(function(){return t.launchBuildYourOwn()})),this.input.keyboard.addKey("c").on("down",(function(){return t.launchContribute()})),this.input.keyboard.addKey("p").on("down",(function(){return t.launchGame()}))}},{key:"createTextElements",value:function(){var t=this;this.add.image(this.game.config.width/2,100,"404image"),this.add.text(this.game.config.width/2-70,this.game.config.height/2-100,c.ohNo,{fontFamily:o.fontFamily,fontSize:o.extraLargeFontSize,fontStyle:"bold",color:o.blackText,align:"center"}),this.add.text(this.game.config.width/2-150,this.game.config.height/2-48,c.looksLikeYoureLost,{fontFamily:o.fontFamily,fontSize:o.largeFontSize,fontStyle:"bold",color:o.blackText,align:"center"}),this.add.text(this.game.config.width/2-170,this.game.config.height/2+25,c.luckilyYoureNotAlone,{fontFamily:o.fontFamily,fontSize:o.smallFontSize,color:o.blackText,align:"center"});var e=this.add.rectangle(this.game.config.width/2,this.game.config.height/2+120,220,40,6553828),i=this.add.rectangle(this.game.config.width/2,this.game.config.height/2+170,220,40,o.backgroundColor),a=this.add.rectangle(this.game.config.width-90,this.game.config.height-50,140,30,16777215);e.setInteractive(),i.setInteractive(),a.setInteractive(),e.on("pointerup",(function(){return t.launchGame()})),i.on("pointerup",(function(){return t.launchBuildYourOwn()})),a.on("pointerup",(function(){return t.launchContribute()})),this.add.text(this.game.config.width/2-53,this.game.config.height/2+110,c.playTheGame,{fontFamily:o.fontFamily,fontSize:o.smallFontSize,fill:o.whiteText}),this.add.text(this.game.config.width/2-53,this.game.config.height/2+160,c.buildYourOwn,{fontFamily:o.fontFamily,fontSize:o.smallFontSize,fill:o.purpleText});var s=this.add.text(this.game.config.width-155,this.game.config.height-60,c.clickToContribute,{fontFamily:o.fontFamily,fontSize:o.smallFontSize,fill:o.blackText});s.visible=!1,a.on("pointerover",(function(){s.visible=!0,document.querySelector("body").style.cursor="pointer"})),a.on("pointerout",(function(){s.visible=!1,document.querySelector("body").style.cursor="default"}))}},{key:"launchBuildYourOwn",value:function(){e.start("build-your-own"),window.location.href="https://www.codecademy.com/learn/learn-phaser"}},{key:"launchContribute",value:function(){e.start("contribute"),window.location.href="https://github.com/Codecademy/40Phaser"}},{key:"launchGame",value:function(){e.start("game"),this.scene.start("GameScene"),this.scene.stop("StartScene")}}]),a}(t.phaser.Scene)}var p={debug:!1,on:{end:function(){},game:function(){},start:function(){}},phaser:window.Phaser},m=function(t){t=Object(a.a)(Object(a.a)(Object(a.a)({},p),t),{},{on:Object(a.a)(Object(a.a)({},p.on),t.on)});var e=Object(a.a)(Object(a.a)({},o),t.phaserOptions),i=new t.phaser.Game({type:t.phaser.AUTO,width:e.windowWidth,height:e.windowHeight,backgroundColor:e.backgroundColor,physics:{default:"arcade",arcade:{debug:p.debug,gravity:{y:e.gravity}}},scene:[d(t),u(t),l(t)],parent:e.parent});return i.canvas.setAttribute("role","img"),i};e.default=m}}]);
//# sourceMappingURL=43.0b462105.chunk.js.map