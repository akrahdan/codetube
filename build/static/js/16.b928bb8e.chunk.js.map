{"version":3,"sources":["portal/scenes/Instructor/Editor/components.tsx","portal/scenes/Instructor/Editor/index.tsx","../node_modules/react-autosuggest/dist/compareObjects.js","../node_modules/memoize-one/dist/memoize-one.esm.js","portal/scenes/Instructor/Courses/userPrompt.ts","../node_modules/react-autosuggest/dist/theme.js","../node_modules/react-autosuggest/dist/index.js","../node_modules/react-autosuggest/dist/Autosuggest.js","../node_modules/shallow-equal/arrays/index.js","../node_modules/react-autosuggest/dist/Autowhatever.js","../node_modules/section-iterator/dist/index.js","../node_modules/react-themeable/dist/index.js","../node_modules/react-themeable/node_modules/object-assign/index.js","../node_modules/react-autosuggest/dist/SectionTitle.js","../node_modules/react-autosuggest/dist/ItemList.js","../node_modules/react-autosuggest/dist/Item.js","portal/scenes/Instructor/Projects/Landing/style.module.scss","portal/scenes/Instructor/Projects/Landing/UploadProgress.js","portal/scenes/Instructor/Projects/Landing/index.tsx"],"names":["Button","React","forwardRef","ref","className","props","active","reversed","cx","Icon","Menu","Toolbar","HOTKEYS","LIST_TYPES","RTEditor","handleChange","editorValue","html","DOMParser","parseFromString","initEditValue","deserialize","body","initialValue","useState","value","setValue","renderElement","useCallback","renderLeaf","editor","useMemo","withHistory","withReact","createEditor","onChange","result","map","serialize","join","format","placeholder","spellCheck","autoFocus","onKeyDown","event","hotkey","isHotkey","preventDefault","toggleMark","isMarkActive","Editor","removeMark","addMark","isBlockActive","nodes","match","n","isEditor","SlateElement","isElement","type","marks","Element","attributes","children","element","Leaf","leaf","bold","code","italic","underline","BlockButton","useSlate","onMouseDown","isActive","isList","includes","Transforms","unwrapNodes","split","newProperties","setNodes","block","wrapNodes","toggleBlock","MarkButton","text","node","Text","isText","string","escapeHtml","url","el","nodeType","textContent","Array","from","childNodes","length","nodeName","jsx","getAttribute","_typeof","obj","Symbol","iterator","constructor","prototype","Object","defineProperty","exports","objA","objB","keys","arguments","undefined","aKeys","bKeys","i","len","keysMap","key","aValue","bValue","aValueKeys","bValueKeys","aValueKey","safeIsNaN","Number","isNaN","areInputsEqual","newInputs","lastInputs","first","second","memoizeOne","resultFn","isEqual","lastThis","lastResult","lastArgs","calledOnce","newArgs","_i","this","apply","usePrompt","when","message","history","useHistory","self","useRef","onWindowOrTabClose","window","returnValue","useEffect","current","addEventListener","removeEventListener","mapToAutowhateverTheme","defaultTheme","container","containerOpen","input","inputOpen","inputFocused","suggestionsContainer","suggestionsContainerOpen","suggestionsList","suggestion","suggestionFirst","suggestionHighlighted","sectionContainer","sectionContainerFirst","sectionTitle","theme","module","require","_react","__esModule","cache","_getRequireWildcardCache","has","get","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","hasOwnProperty","call","desc","set","_interopRequireWildcard","_propTypes","_interopRequireDefault","_arrays","_Autowhatever","_theme","WeakMap","ownKeys","object","enumerableOnly","getOwnPropertySymbols","symbols","filter","sym","enumerable","push","_objectSpread","target","source","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","_defineProperties","descriptor","configurable","writable","_possibleConstructorReturn","_assertThisInitialized","ReferenceError","_isNativeReflectConstruct","Reflect","construct","sham","Proxy","Date","toString","e","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","_setPrototypeOf","p","alwaysTrue","REASON_SUGGESTIONS_REVEALED","REASON_INPUT_FOCUSED","REASON_INPUT_CHANGED","REASON_ESCAPE_PRESSED","Autosuggest","_Component","subClass","superClass","TypeError","create","_inherits","Derived","Constructor","protoProps","staticProps","_super","Super","NewTarget","_ref2","_this","_alwaysRenderSuggestions","alwaysRenderSuggestions","instance","_classCallCheck","justClickedOnSuggestionsContainer","detail","document","parentNode","autowhatever","_ref3","sectionIndex","itemIndex","updateHighlightedSuggestion","pressedSuggestion","justSelectedSuggestion","justMouseEntered","setTimeout","multiSection","focus","onSuggestionsClearRequested","data","_this$props","onSuggestionSelected","onSuggestionsFetchRequested","keepSuggestionsOnSelect","shouldKeepSuggestionsOnSelect","suggestionValue","reason","resetHighlightedSuggestion","_this$props2","focusInputOnSuggestionClick","_this$getSuggestionIn","getSuggestionIndices","findSuggestionElement","suggestionIndex","clickedSuggestion","getSuggestion","clickedSuggestionValue","getSuggestionValue","maybeCallOnChange","method","closeSuggestions","onBlur","_this$props3","inputProps","shouldRenderSuggestions","highlightedSuggestion","getHighlightedSuggestion","shouldRender","setState","isFocused","highlightedSectionIndex","highlightedSuggestionIndex","valueBeforeUpDown","isCollapsed","blurEvent","_ref4","onMouseEnter","onSuggestionMouseEnter","onMouseLeave","onSuggestionMouseLeave","onSuggestionMouseDown","onTouchStart","onSuggestionTouchStart","onTouchMove","onSuggestionTouchMove","onClick","onSuggestionClick","_ref5","containerProps","renderSuggestionsContainer","query","getQuery","state","justPressedUpDown","onDocumentMouseDown","onDocumentMouseUp","itemsContainer","nextProps","shouldResetHighlighting","highlightFirstSuggestion","suggestions","willRenderSuggestions","revealSuggestions","prevProps","prevState","_this$props4","onSuggestionHighlighted","prevValue","_this2","shouldResetValueBeforeUpDown","_this$props5","getSectionSuggestions","_this$state","suggestionElement","parseInt","startNode","console","error","Error","newValue","_this$props$inputProp","trim","_this3","_this$props6","renderInputComponent","renderSuggestion","renderSectionTitle","id","_this$state2","_onFocus","onFocus","_onKeyDown","isOpen","items","autowhateverInputProps","scrollTop","keyCode","newHighlightedSectionIndex","newHighlightedItemIndex","getSuggestionValueByIndex","_newValue","willCloseSuggestions","renderSuggestionData","createElement","renderItemsContainer","renderItem","renderItemData","getSectionItems","highlightedItemIndex","itemProps","storeAutowhateverRef","Component","array","isRequired","propName","func","bool","_ref","arrA","arrB","_sectionIterator","_reactThemeable","_SectionTitle","_ItemList","_slicedToArray","arr","isArray","_arrayWithHoles","_arr","_n","_d","_e","_s","next","done","err","_iterableToArrayLimit","minLen","_arrayLikeToArray","slice","name","test","_unsupportedIterableToArray","_nonIterableRest","arr2","emptyObject","Autowhatever","userRef","highlightedItem","section","concat","isInputFocused","nextPrev","_this$sectionIterator2","sectionIterator","setSectionsItems","setSectionIterator","setTheme","ensureHighlightedItemIsVisible","sectionsItems","sectionsLengths","allSectionsAreEmpty","every","itemsCount","keyPrefix","sectionKeyPrefix","isFirstSection","onHighlightedItemChange","getItemId","storeItemsListReference","itemOffsetRelativeToContainer","offsetParent","offsetTop","offsetHeight","renderedItems","renderSections","renderItems","ariaActivedescendant","itemsContainerId","role","inputComponent","autoComplete","storeInputReference","storeItemsContainerReference","oneOfType","number","itemsContainerOpen","itemsList","item","itemFirst","itemHighlighted","sliceIterator","position","_position","nextNonEmptySectionIndex","prev","_position2","prevNonEmptySectionIndex","isLast","_toConsumableArray","_objectAssign","_objectAssign2","truthy","x","classNameDecorator","_len","names","_key","styles","style","propIsEnumerable","propertyIsEnumerable","ToObject","val","ownEnumerableKeys","getOwnPropertyNames","assign","to","s","_compareObjects","SectionTitle","any","_Item","_extends","ItemsList","args","sectionPrefix","isItemPropsFunction","isFirst","isHighlighted","itemKey","itemPropsObj","allItemProps","storeHighlightedItemReference","_objectWithoutProperties","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","sourceSymbolKeys","Item","restProps","storeItemReference","UploadProgress","progress","changeUpload","aria-valuenow","aria-valuemin","aria-valuemax","width","filestack","client","process","searchClient","algoliasearch","LandingPage","getSuggestions","a","inputValue","toLowerCase","initIndex","search","results","hits","hit","courseSuggestions","isAddNew","useFetchInstructorCoursesQuery","useCreateHeadingMutation","createHeading","useEditHeadingMutation","editHeading","locationPayload","useAppSelector","selectLocationPayload","locationPath","selectLocationType","selectedSave","selectSave","selectedProject","selectProject","selectedCourses","selectCourses","dispatch","useAppDispatch","useFetchProjectQuery","isLoading","useUpdateProjectMutation","updateProject","levels","useFetchCourseLevelQuery","categories","useFetchProjectCategoriesQuery","uploading","setUploading","setProgress","setError","setStatus","alert","useAlert","setCategory","setSuggestions","setSuggestionValue","projectUpdate","setProjectUpdate","courses","setCourses","projectCourse","setProjectCourse","tags","setTags","header","heading","description","projects","setHeader","onProgress","eve","log","totalPercent","onUpload","files","upload","then","thumbnail_url","catch","status","suggestInputProps","res","syllabuses","included","outcomes","show","saveCourse","submit","cat","category","newCat","find","data-purpose","classNames","loader","htmlFor","maxLength","title","level","display","closeMenuOnSelect","getOptionLabel","options","getOptionValue","isMulti","goal","tag","tabIndex","alt","src","accept","data-type"],"mappings":"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","file":"static/js/16.b928bb8e.chunk.js","sourcesContent":["import React, { Ref, PropsWithChildren } from 'react'\nimport ReactDOM from 'react-dom'\nimport { cx, css } from '@emotion/css'\n\ninterface BaseProps {\n  className: string\n  [key: string]: unknown\n}\ntype OrNull<T> = T | null\n\nexport const Button = React.forwardRef(\n  (\n    {\n      className,\n      active,\n      reversed,\n      ...props\n    }: PropsWithChildren<\n      {\n        active: boolean\n        reversed: boolean\n      } & BaseProps\n    >,\n    ref: Ref<OrNull<HTMLSpanElement>>\n  ) => (\n    <span\n      {...props}\n      ref={ref}\n      className={cx(\n        className,\n        \n      )}\n    />\n  )\n)\n\nexport const EditorValue = React.forwardRef(\n  (\n    {\n      className,\n      value,\n      ...props\n    }: PropsWithChildren<\n      {\n        value: any\n      } & BaseProps\n    >,\n    ref: Ref<OrNull<null>>\n  ) => {\n    const textLines = value.document.nodes\n      .map(node => node.text)\n      .toArray()\n      .join('\\n')\n    return (\n      <div\n        ref={ref}\n        {...props}\n        className={cx(\n          className,\n          css`\n            margin: 30px -20px 0;\n          `\n        )}\n      >\n        <div\n          className={css`\n            font-size: 14px;\n            padding: 5px 20px;\n            color: #404040;\n            border-top: 2px solid #eeeeee;\n            background: #f8f8f8;\n          `}\n        >\n          Slate's value as text\n        </div>\n        <div\n          className={css`\n            color: #404040;\n            font: 12px monospace;\n            white-space: pre-wrap;\n            padding: 10px 20px;\n            div {\n              margin: 0 0 0.5em;\n            }\n          `}\n        >\n          {textLines}\n        </div>\n      </div>\n    )\n  }\n)\n\nexport const Icon = React.forwardRef(\n  (\n    { className, ...props }: PropsWithChildren<BaseProps>,\n    ref: Ref<OrNull<HTMLSpanElement>>\n  ) => (\n    <span\n      {...props}\n      ref={ref}\n      className={cx(\n        className,\n        \n      )}\n    />\n  )\n)\n\nexport const Instruction = React.forwardRef(\n  (\n    { className, ...props }: PropsWithChildren<BaseProps>,\n    ref: Ref<OrNull<HTMLDivElement>>\n  ) => (\n    <div\n      {...props}\n      ref={ref}\n      className={cx(\n        className,\n       \n      )}\n    />\n  )\n)\n\nexport const Menu = React.forwardRef(\n  (\n    { className, ...props }: PropsWithChildren<BaseProps>,\n    ref: Ref<OrNull<HTMLDivElement>>\n  ) => (\n    <div\n      {...props}\n      ref={ref}\n      className={cx(\n        className,\n        \n      )}\n    />\n  )\n)\n\nexport const Portal = ({ children }) => {\n  return typeof document === 'object'\n    ? ReactDOM.createPortal(children, document.body)\n    : null\n}\n\nexport const Toolbar = React.forwardRef(\n  (\n    { className, ...props }: PropsWithChildren<BaseProps>,\n    ref: Ref<OrNull<HTMLDivElement>>\n  ) => (\n    <Menu\n      {...props}\n      ref={ref}\n      className={cx(\n        className,\n        \n      )}\n    />\n  )\n)","import React, { useCallback, useMemo, useState } from 'react'\nimport isHotkey from 'is-hotkey'\nimport { Editable, withReact, useSlate, Slate } from 'slate-react'\nimport { jsx } from 'slate-hyperscript'\nimport {\n  Editor,\n  Text,\n  Transforms,\n  createEditor,\n  Descendant,\n  Node,\n  Element as SlateElement,\n} from 'slate'\nimport { withHistory } from 'slate-history'\nimport escapeHtml from 'escape-html'\nimport { Button, Icon, Toolbar } from './components'\n\nconst HOTKEYS = {\n  'mod+b': 'bold',\n  'mod+i': 'italic',\n  'mod+u': 'underline',\n  'mod+`': 'code',\n}\n\nconst LIST_TYPES = ['numbered-list', 'bulleted-list', 'list-item']\n\nexport const RTEditor = ({ handleChange, editorValue }) => {\n  const html = editorValue ? new DOMParser().parseFromString(editorValue, 'text/html') : ''\n  const initEditValue = html ? deserialize(html.body) : initialValue\n  const [value, setValue] = useState<Descendant[]>(initEditValue)\n  const renderElement = useCallback(props => <Element {...props} />, [])\n  const renderLeaf = useCallback(props => <Leaf {...props} />, [])\n  const editor = useMemo(() => withHistory(withReact(createEditor())), [])\n  \n  return (\n    <Slate editor={editor} value={value} onChange={value => {\n      setValue(value)\n      const result = value.map(serialize).join('\\n')\n      handleChange(result)\n    }}>\n      <Toolbar className=\"rt-menu-bar-container\">\n        <div className=\"rt-menu-bar fx-lt\">\n          <div className='btn-group'>\n            <MarkButton className=\"cfi cfi-bold\" format=\"bold\" />\n            <MarkButton className=\"cfi cfi-italic\" format=\"italic\" />\n            <BlockButton format=\"numbered-list\" className=\"cfi cfi-list-ol\" />\n            <BlockButton format=\"bulleted-list\" className=\"cfi cfi-list-ul\" />\n          </div>\n          <div className=\"fx\"></div>\n          <div className=\"btn-group\"></div>\n        </div>\n\n      </Toolbar>\n      <div className=\"rt-editor rt-editor--empty rt-editor--wysiwyg-mode \">\n        <Editable\n\n          className=\"ProseMirror\"\n          renderElement={renderElement}\n          renderLeaf={renderLeaf}\n          placeholder=\"Description goes here\"\n          spellCheck\n          autoFocus\n          onKeyDown={event => {\n            for (const hotkey in HOTKEYS) {\n              if (isHotkey(hotkey, event as any)) {\n                event.preventDefault()\n                const mark = HOTKEYS[hotkey]\n                toggleMark(editor, mark)\n              }\n            }\n          }}\n        />\n      </div>\n\n    </Slate>\n  )\n}\n\nconst toggleBlock = (editor, format) => {\n  const isActive = isBlockActive(editor, format)\n  const isList = LIST_TYPES.includes(format)\n\n  Transforms.unwrapNodes(editor, {\n    match: n =>\n      LIST_TYPES.includes(\n        !Editor.isEditor(n) && SlateElement.isElement(n) && n.type\n      ),\n    split: true,\n  })\n  const newProperties: Partial<SlateElement> = {\n    type: isActive ? 'paragraph' : isList ? 'list-item' : format,\n  }\n  Transforms.setNodes(editor, newProperties)\n\n  if (!isActive && isList) {\n    const block = { type: format, children: [] }\n    Transforms.wrapNodes(editor, block)\n  }\n}\n\nconst toggleMark = (editor, format) => {\n  const isActive = isMarkActive(editor, format)\n\n  if (isActive) {\n    Editor.removeMark(editor, format)\n  } else {\n    Editor.addMark(editor, format, true)\n  }\n}\n\nconst isBlockActive = (editor, format) => {\n  const [match] = Editor.nodes(editor, {\n    match: n =>\n      !Editor.isEditor(n) && SlateElement.isElement(n) && n.type === format,\n  })\n\n  return !!match\n}\n\nconst isMarkActive = (editor, format) => {\n  const marks = Editor.marks(editor)\n  return marks ? marks[format] === true : false\n}\n\n\n\nconst Element = ({ attributes, children, element }) => {\n  switch (element.type) {\n\n    case 'bulleted-list':\n      return <ul {...attributes}>{children}</ul>\n\n    case 'list-item':\n      return <li {...attributes}>{children}</li>\n    case 'numbered-list':\n      return <ol {...attributes}>{children}</ol>\n    default:\n      return <p {...attributes}>{children}</p>\n  }\n}\n\nconst Leaf = ({ attributes, children, leaf }) => {\n  if (leaf.bold) {\n    children = <strong>{children}</strong>\n  }\n\n  if (leaf.code) {\n    children = <code>{children}</code>\n  }\n\n  if (leaf.italic) {\n    children = <em>{children}</em>\n  }\n\n  if (leaf.underline) {\n    children = <u>{children}</u>\n  }\n\n  return <span {...attributes}>{children}</span>\n}\n\nconst BlockButton = ({ format, className }) => {\n  const editor = useSlate()\n  return (\n    <Button\n      className='btn btn-link'\n      active={isBlockActive(editor, format)}\n      onMouseDown={event => {\n        event.preventDefault()\n        toggleBlock(editor, format)\n      }}\n    >\n      <Icon className={className}></Icon>\n    </Button>\n  )\n}\n\nconst MarkButton = ({ format, className }) => {\n  const editor = useSlate()\n  return (\n    <Button\n      className=\"btn btn-link\"\n      active={isMarkActive(editor, format)}\n      onMouseDown={event => {\n        event.preventDefault()\n        toggleMark(editor, format)\n      }}\n    >\n      <Icon className={className}></Icon>\n    </Button>\n  )\n}\n\nconst initialValue: Descendant[] = [\n  {\n    type: 'paragraph',\n    children: [\n      { text: '' },\n\n\n    ],\n  },\n\n]\n\n\nconst serialize = (node) => {\n  if (Text.isText(node)) {\n    let string = escapeHtml(node.text)\n    if (node.bold) {\n      string = `<strong>${string}</strong>`\n    }\n    if (node.italic) {\n      string = `<em>${string}</em>`\n    }\n    return string\n  }\n\n  const children = node.children.map(n => serialize(n)).join('')\n\n  switch (node.type) {\n    case 'quote':\n      return `<blockquote><p>${children}</p></blockquote>`\n    case 'paragraph':\n      return `<p>${children}</p>`\n    case 'bulleted-list':\n      return `<ul>${children}</ul>`\n    case 'list-item':\n      return `<li>${children}</li>`\n    case 'numbered-list':\n      return `<ol>${children}</ol>`\n\n    case 'link':\n      return `<a href=\"${escapeHtml(node.url)}\">${children}</a>`\n    default:\n      return children\n  }\n}\n\nconst deserialize = el => {\n  if (el.nodeType === 3) {\n    return el.textContent\n  } else if (el.nodeType !== 1) {\n    return null\n  }\n\n  let children = Array.from(el.childNodes).map(deserialize)\n\n  if (children.length === 0) {\n    children = [{ text: '' }]\n  }\n\n  switch (el.nodeName) {\n    case 'BODY':\n      return jsx('fragment', {}, children)\n    case 'BR':\n      return '\\n'\n    case 'BLOCKQUOTE':\n      return jsx('element', { type: 'quote' }, children)\n    case 'P':\n      return jsx('element', { type: 'paragraph' }, children)\n    case 'UL':\n      return jsx('element', { type: 'bulleted-list' }, children)\n    case 'OL':\n      return jsx('element', { type: 'numbered-list' }, children)\n    case 'LI':\n      return jsx('element', { type: 'list-item' }, children)\n    case 'A':\n      return jsx(\n        'element',\n        { type: 'link', url: el.getAttribute('href') },\n        children\n      )\n    default:\n      return el.textContent\n  }\n}\n\nexport default RTEditor","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = compareObjects;\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction compareObjects(objA, objB) {\n  var keys = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n\n  if (objA === objB) {\n    return false;\n  }\n\n  var aKeys = Object.keys(objA);\n  var bKeys = Object.keys(objB);\n\n  if (aKeys.length !== bKeys.length) {\n    return true;\n  }\n\n  var keysMap = {};\n  var i, len;\n\n  for (i = 0, len = keys.length; i < len; i++) {\n    keysMap[keys[i]] = true;\n  }\n\n  for (i = 0, len = aKeys.length; i < len; i++) {\n    var key = aKeys[i];\n    var aValue = objA[key];\n    var bValue = objB[key];\n\n    if (aValue === bValue) {\n      continue;\n    }\n\n    if (!keysMap[key] || aValue === null || bValue === null || _typeof(aValue) !== 'object' || _typeof(bValue) !== 'object') {\n      return true;\n    }\n\n    var aValueKeys = Object.keys(aValue);\n    var bValueKeys = Object.keys(bValue);\n\n    if (aValueKeys.length !== bValueKeys.length) {\n      return true;\n    }\n\n    for (var n = 0, length = aValueKeys.length; n < length; n++) {\n      var aValueKey = aValueKeys[n];\n\n      if (aValue[aValueKey] !== bValue[aValueKey]) {\n        return true;\n      }\n    }\n  }\n\n  return false;\n}","var safeIsNaN = Number.isNaN ||\n    function ponyfill(value) {\n        return typeof value === 'number' && value !== value;\n    };\nfunction isEqual(first, second) {\n    if (first === second) {\n        return true;\n    }\n    if (safeIsNaN(first) && safeIsNaN(second)) {\n        return true;\n    }\n    return false;\n}\nfunction areInputsEqual(newInputs, lastInputs) {\n    if (newInputs.length !== lastInputs.length) {\n        return false;\n    }\n    for (var i = 0; i < newInputs.length; i++) {\n        if (!isEqual(newInputs[i], lastInputs[i])) {\n            return false;\n        }\n    }\n    return true;\n}\n\nfunction memoizeOne(resultFn, isEqual) {\n    if (isEqual === void 0) { isEqual = areInputsEqual; }\n    var lastThis;\n    var lastArgs = [];\n    var lastResult;\n    var calledOnce = false;\n    function memoized() {\n        var newArgs = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            newArgs[_i] = arguments[_i];\n        }\n        if (calledOnce && lastThis === this && isEqual(newArgs, lastArgs)) {\n            return lastResult;\n        }\n        lastResult = resultFn.apply(this, newArgs);\n        calledOnce = true;\n        lastThis = this;\n        lastArgs = newArgs;\n        return lastResult;\n    }\n    return memoized;\n}\n\nexport default memoizeOne;\n","import { useEffect, useRef } from 'react';\nimport { useHistory } from 'react-router-dom';\n\nexport const usePrompt = (when: boolean, message: string = 'Are you sure you want to quit without saving your changes?') => {\n  const history = useHistory();\n\n  const self = useRef(null);\n\n  const onWindowOrTabClose = event => {\n    if (!when) {\n      return;\n    }\n\n    if (typeof event == 'undefined') {\n      event = window.event;\n    }\n\n    if (event) {\n      event.returnValue = message;\n    }\n\n    return message;\n  };\n\n  useEffect(() => {\n    if (when) {\n      self.current = history.block(message as any);\n    } else {\n      self.current = null;\n    }\n\n    window.addEventListener('beforeunload', onWindowOrTabClose);\n\n    return () => {\n      if (self.current) {\n        self.current();\n        self.current = null;\n      }\n\n      window.removeEventListener('beforeunload', onWindowOrTabClose);\n    }\n  }, [message, when]);\n};","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.mapToAutowhateverTheme = exports.defaultTheme = void 0;\nvar defaultTheme = {\n  container: 'react-autosuggest__container',\n  containerOpen: 'react-autosuggest__container--open',\n  input: 'react-autosuggest__input',\n  inputOpen: 'react-autosuggest__input--open',\n  inputFocused: 'react-autosuggest__input--focused',\n  suggestionsContainer: 'react-autosuggest__suggestions-container',\n  suggestionsContainerOpen: 'react-autosuggest__suggestions-container--open',\n  suggestionsList: 'react-autosuggest__suggestions-list',\n  suggestion: 'react-autosuggest__suggestion',\n  suggestionFirst: 'react-autosuggest__suggestion--first',\n  suggestionHighlighted: 'react-autosuggest__suggestion--highlighted',\n  sectionContainer: 'react-autosuggest__section-container',\n  sectionContainerFirst: 'react-autosuggest__section-container--first',\n  sectionTitle: 'react-autosuggest__section-title'\n};\nexports.defaultTheme = defaultTheme;\n\nvar mapToAutowhateverTheme = function mapToAutowhateverTheme(theme) {\n  var result = {};\n\n  for (var key in theme) {\n    switch (key) {\n      case 'suggestionsContainer':\n        result['itemsContainer'] = theme[key];\n        break;\n\n      case 'suggestionsContainerOpen':\n        result['itemsContainerOpen'] = theme[key];\n        break;\n\n      case 'suggestion':\n        result['item'] = theme[key];\n        break;\n\n      case 'suggestionFirst':\n        result['itemFirst'] = theme[key];\n        break;\n\n      case 'suggestionHighlighted':\n        result['itemHighlighted'] = theme[key];\n        break;\n\n      case 'suggestionsList':\n        result['itemsList'] = theme[key];\n        break;\n\n      default:\n        result[key] = theme[key];\n    }\n  }\n\n  return result;\n};\n\nexports.mapToAutowhateverTheme = mapToAutowhateverTheme;","\"use strict\";\n\nmodule.exports = require('./Autosuggest')[\"default\"];","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _arrays = _interopRequireDefault(require(\"shallow-equal/arrays\"));\n\nvar _Autowhatever = _interopRequireDefault(require(\"./Autowhatever\"));\n\nvar _theme = require(\"./theme\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar alwaysTrue = function alwaysTrue() {\n  return true;\n};\n\nvar defaultShouldRenderSuggestions = function defaultShouldRenderSuggestions(value) {\n  return value.trim().length > 0;\n};\n\nvar defaultRenderSuggestionsContainer = function defaultRenderSuggestionsContainer(_ref) {\n  var containerProps = _ref.containerProps,\n      children = _ref.children;\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", containerProps, children);\n};\n\nvar REASON_SUGGESTIONS_REVEALED = 'suggestions-revealed';\nvar REASON_SUGGESTIONS_UPDATED = 'suggestions-updated';\nvar REASON_SUGGESTION_SELECTED = 'suggestion-selected';\nvar REASON_INPUT_FOCUSED = 'input-focused';\nvar REASON_INPUT_CHANGED = 'input-changed';\nvar REASON_INPUT_BLURRED = 'input-blurred';\nvar REASON_ESCAPE_PRESSED = 'escape-pressed';\n\nvar Autosuggest = /*#__PURE__*/function (_Component) {\n  _inherits(Autosuggest, _Component);\n\n  var _super = _createSuper(Autosuggest);\n\n  function Autosuggest(_ref2) {\n    var _this;\n\n    var _alwaysRenderSuggestions = _ref2.alwaysRenderSuggestions;\n\n    _classCallCheck(this, Autosuggest);\n\n    _this = _super.call(this);\n\n    _defineProperty(_assertThisInitialized(_this), \"onDocumentMouseDown\", function (event) {\n      _this.justClickedOnSuggestionsContainer = false;\n      var node = event.detail && event.detail.target || // This is for testing only. Please show me a better way to emulate this.\n      event.target;\n\n      while (node !== null && node !== document) {\n        if (node.getAttribute && node.getAttribute('data-suggestion-index') !== null) {\n          // Suggestion was clicked\n          return;\n        }\n\n        if (node === _this.suggestionsContainer) {\n          // Something else inside suggestions container was clicked\n          _this.justClickedOnSuggestionsContainer = true;\n          return;\n        }\n\n        node = node.parentNode;\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"storeAutowhateverRef\", function (autowhatever) {\n      if (autowhatever !== null) {\n        _this.autowhatever = autowhatever;\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSuggestionMouseEnter\", function (event, _ref3) {\n      var sectionIndex = _ref3.sectionIndex,\n          itemIndex = _ref3.itemIndex;\n\n      _this.updateHighlightedSuggestion(sectionIndex, itemIndex);\n\n      if (event.target === _this.pressedSuggestion) {\n        _this.justSelectedSuggestion = true;\n      }\n\n      _this.justMouseEntered = true;\n      setTimeout(function () {\n        _this.justMouseEntered = false;\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"highlightFirstSuggestion\", function () {\n      _this.updateHighlightedSuggestion(_this.props.multiSection ? 0 : null, 0);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onDocumentMouseUp\", function () {\n      if (_this.pressedSuggestion && !_this.justSelectedSuggestion) {\n        _this.input.focus();\n      }\n\n      _this.pressedSuggestion = null;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSuggestionMouseDown\", function (event) {\n      // Checking if this.justSelectedSuggestion is already true to not duplicate touch events in chrome\n      // See: https://github.com/facebook/react/issues/9809#issuecomment-413978405\n      if (!_this.justSelectedSuggestion) {\n        _this.justSelectedSuggestion = true;\n        _this.pressedSuggestion = event.target;\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSuggestionsClearRequested\", function () {\n      var onSuggestionsClearRequested = _this.props.onSuggestionsClearRequested;\n      onSuggestionsClearRequested && onSuggestionsClearRequested();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSuggestionSelected\", function (event, data) {\n      var _this$props = _this.props,\n          alwaysRenderSuggestions = _this$props.alwaysRenderSuggestions,\n          onSuggestionSelected = _this$props.onSuggestionSelected,\n          onSuggestionsFetchRequested = _this$props.onSuggestionsFetchRequested;\n      onSuggestionSelected && onSuggestionSelected(event, data);\n\n      var keepSuggestionsOnSelect = _this.props.shouldKeepSuggestionsOnSelect(data.suggestion);\n\n      if (alwaysRenderSuggestions || keepSuggestionsOnSelect) {\n        onSuggestionsFetchRequested({\n          value: data.suggestionValue,\n          reason: REASON_SUGGESTION_SELECTED\n        });\n      } else {\n        _this.onSuggestionsClearRequested();\n      }\n\n      _this.resetHighlightedSuggestion();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSuggestionClick\", function (event) {\n      var _this$props2 = _this.props,\n          alwaysRenderSuggestions = _this$props2.alwaysRenderSuggestions,\n          focusInputOnSuggestionClick = _this$props2.focusInputOnSuggestionClick;\n\n      var _this$getSuggestionIn = _this.getSuggestionIndices(_this.findSuggestionElement(event.target)),\n          sectionIndex = _this$getSuggestionIn.sectionIndex,\n          suggestionIndex = _this$getSuggestionIn.suggestionIndex;\n\n      var clickedSuggestion = _this.getSuggestion(sectionIndex, suggestionIndex);\n\n      var clickedSuggestionValue = _this.props.getSuggestionValue(clickedSuggestion);\n\n      _this.maybeCallOnChange(event, clickedSuggestionValue, 'click');\n\n      _this.onSuggestionSelected(event, {\n        suggestion: clickedSuggestion,\n        suggestionValue: clickedSuggestionValue,\n        suggestionIndex: suggestionIndex,\n        sectionIndex: sectionIndex,\n        method: 'click'\n      });\n\n      var keepSuggestionsOnSelect = _this.props.shouldKeepSuggestionsOnSelect(clickedSuggestion);\n\n      if (!(alwaysRenderSuggestions || keepSuggestionsOnSelect)) {\n        _this.closeSuggestions();\n      }\n\n      if (focusInputOnSuggestionClick === true) {\n        _this.input.focus();\n      } else {\n        _this.onBlur();\n      }\n\n      setTimeout(function () {\n        _this.justSelectedSuggestion = false;\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onBlur\", function () {\n      var _this$props3 = _this.props,\n          inputProps = _this$props3.inputProps,\n          shouldRenderSuggestions = _this$props3.shouldRenderSuggestions;\n      var value = inputProps.value,\n          onBlur = inputProps.onBlur;\n\n      var highlightedSuggestion = _this.getHighlightedSuggestion();\n\n      var shouldRender = shouldRenderSuggestions(value, REASON_INPUT_BLURRED);\n\n      _this.setState({\n        isFocused: false,\n        highlightedSectionIndex: null,\n        highlightedSuggestionIndex: null,\n        highlightedSuggestion: null,\n        valueBeforeUpDown: null,\n        isCollapsed: !shouldRender\n      });\n\n      onBlur && onBlur(_this.blurEvent, {\n        highlightedSuggestion: highlightedSuggestion\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSuggestionMouseLeave\", function (event) {\n      _this.resetHighlightedSuggestion(false); // shouldResetValueBeforeUpDown\n\n\n      if (_this.justSelectedSuggestion && event.target === _this.pressedSuggestion) {\n        _this.justSelectedSuggestion = false;\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSuggestionTouchStart\", function () {\n      _this.justSelectedSuggestion = true; // todo: event.preventDefault when https://github.com/facebook/react/issues/2043\n      // todo: gets released so onSuggestionMouseDown won't fire in chrome\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSuggestionTouchMove\", function () {\n      _this.justSelectedSuggestion = false;\n      _this.pressedSuggestion = null;\n\n      _this.input.focus();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"itemProps\", function (_ref4) {\n      var sectionIndex = _ref4.sectionIndex,\n          itemIndex = _ref4.itemIndex;\n      return {\n        'data-section-index': sectionIndex,\n        'data-suggestion-index': itemIndex,\n        onMouseEnter: _this.onSuggestionMouseEnter,\n        onMouseLeave: _this.onSuggestionMouseLeave,\n        onMouseDown: _this.onSuggestionMouseDown,\n        onTouchStart: _this.onSuggestionTouchStart,\n        onTouchMove: _this.onSuggestionTouchMove,\n        onClick: _this.onSuggestionClick\n      };\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"renderSuggestionsContainer\", function (_ref5) {\n      var containerProps = _ref5.containerProps,\n          children = _ref5.children;\n      var renderSuggestionsContainer = _this.props.renderSuggestionsContainer;\n      return renderSuggestionsContainer({\n        containerProps: containerProps,\n        children: children,\n        query: _this.getQuery()\n      });\n    });\n\n    _this.state = {\n      isFocused: false,\n      isCollapsed: !_alwaysRenderSuggestions,\n      highlightedSectionIndex: null,\n      highlightedSuggestionIndex: null,\n      highlightedSuggestion: null,\n      valueBeforeUpDown: null\n    };\n    _this.justPressedUpDown = false;\n    _this.justMouseEntered = false;\n    _this.pressedSuggestion = null;\n    return _this;\n  }\n\n  _createClass(Autosuggest, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      document.addEventListener('mousedown', this.onDocumentMouseDown);\n      document.addEventListener('mouseup', this.onDocumentMouseUp);\n      this.input = this.autowhatever.input;\n      this.suggestionsContainer = this.autowhatever.itemsContainer;\n    } // eslint-disable-next-line camelcase, react/sort-comp\n\n  }, {\n    key: \"UNSAFE_componentWillReceiveProps\",\n    value: function UNSAFE_componentWillReceiveProps(nextProps) {\n      // When highlightFirstSuggestion becomes deactivated, if the first suggestion was\n      // set, we should reset the suggestion back to the unselected default state.\n      var shouldResetHighlighting = this.state.highlightedSuggestionIndex === 0 && this.props.highlightFirstSuggestion && !nextProps.highlightFirstSuggestion;\n\n      if ((0, _arrays[\"default\"])(nextProps.suggestions, this.props.suggestions)) {\n        if (nextProps.highlightFirstSuggestion && nextProps.suggestions.length > 0 && this.justPressedUpDown === false && this.justMouseEntered === false) {\n          this.highlightFirstSuggestion();\n        } else if (shouldResetHighlighting) {\n          this.resetHighlightedSuggestion();\n        }\n      } else {\n        if (this.willRenderSuggestions(nextProps, REASON_SUGGESTIONS_UPDATED)) {\n          if (this.state.isCollapsed && !this.justSelectedSuggestion) {\n            this.revealSuggestions();\n          }\n\n          if (shouldResetHighlighting) {\n            this.resetHighlightedSuggestion();\n          }\n        } else {\n          this.resetHighlightedSuggestion();\n        }\n      }\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      var _this$props4 = this.props,\n          suggestions = _this$props4.suggestions,\n          onSuggestionHighlighted = _this$props4.onSuggestionHighlighted,\n          highlightFirstSuggestion = _this$props4.highlightFirstSuggestion;\n\n      if (!(0, _arrays[\"default\"])(suggestions, prevProps.suggestions) && suggestions.length > 0 && highlightFirstSuggestion) {\n        this.highlightFirstSuggestion();\n        return;\n      }\n\n      if (onSuggestionHighlighted) {\n        var highlightedSuggestion = this.getHighlightedSuggestion();\n        var prevHighlightedSuggestion = prevState.highlightedSuggestion;\n\n        if (highlightedSuggestion != prevHighlightedSuggestion) {\n          onSuggestionHighlighted({\n            suggestion: highlightedSuggestion\n          });\n        }\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      document.removeEventListener('mousedown', this.onDocumentMouseDown);\n      document.removeEventListener('mouseup', this.onDocumentMouseUp);\n    }\n  }, {\n    key: \"updateHighlightedSuggestion\",\n    value: function updateHighlightedSuggestion(sectionIndex, suggestionIndex, prevValue) {\n      var _this2 = this;\n\n      this.setState(function (state) {\n        var valueBeforeUpDown = state.valueBeforeUpDown;\n\n        if (suggestionIndex === null) {\n          valueBeforeUpDown = null;\n        } else if (valueBeforeUpDown === null && typeof prevValue !== 'undefined') {\n          valueBeforeUpDown = prevValue;\n        }\n\n        return {\n          highlightedSectionIndex: sectionIndex,\n          highlightedSuggestionIndex: suggestionIndex,\n          highlightedSuggestion: suggestionIndex === null ? null : _this2.getSuggestion(sectionIndex, suggestionIndex),\n          valueBeforeUpDown: valueBeforeUpDown\n        };\n      });\n    }\n  }, {\n    key: \"resetHighlightedSuggestion\",\n    value: function resetHighlightedSuggestion() {\n      var shouldResetValueBeforeUpDown = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n      this.setState(function (state) {\n        var valueBeforeUpDown = state.valueBeforeUpDown;\n        return {\n          highlightedSectionIndex: null,\n          highlightedSuggestionIndex: null,\n          highlightedSuggestion: null,\n          valueBeforeUpDown: shouldResetValueBeforeUpDown ? null : valueBeforeUpDown\n        };\n      });\n    }\n  }, {\n    key: \"revealSuggestions\",\n    value: function revealSuggestions() {\n      this.setState({\n        isCollapsed: false\n      });\n    }\n  }, {\n    key: \"closeSuggestions\",\n    value: function closeSuggestions() {\n      this.setState({\n        highlightedSectionIndex: null,\n        highlightedSuggestionIndex: null,\n        highlightedSuggestion: null,\n        valueBeforeUpDown: null,\n        isCollapsed: true\n      });\n    }\n  }, {\n    key: \"getSuggestion\",\n    value: function getSuggestion(sectionIndex, suggestionIndex) {\n      var _this$props5 = this.props,\n          suggestions = _this$props5.suggestions,\n          multiSection = _this$props5.multiSection,\n          getSectionSuggestions = _this$props5.getSectionSuggestions;\n\n      if (multiSection) {\n        return getSectionSuggestions(suggestions[sectionIndex])[suggestionIndex];\n      }\n\n      return suggestions[suggestionIndex];\n    }\n  }, {\n    key: \"getHighlightedSuggestion\",\n    value: function getHighlightedSuggestion() {\n      var _this$state = this.state,\n          highlightedSectionIndex = _this$state.highlightedSectionIndex,\n          highlightedSuggestionIndex = _this$state.highlightedSuggestionIndex;\n\n      if (highlightedSuggestionIndex === null) {\n        return null;\n      }\n\n      return this.getSuggestion(highlightedSectionIndex, highlightedSuggestionIndex);\n    }\n  }, {\n    key: \"getSuggestionValueByIndex\",\n    value: function getSuggestionValueByIndex(sectionIndex, suggestionIndex) {\n      var getSuggestionValue = this.props.getSuggestionValue;\n      return getSuggestionValue(this.getSuggestion(sectionIndex, suggestionIndex));\n    }\n  }, {\n    key: \"getSuggestionIndices\",\n    value: function getSuggestionIndices(suggestionElement) {\n      var sectionIndex = suggestionElement.getAttribute('data-section-index');\n      var suggestionIndex = suggestionElement.getAttribute('data-suggestion-index');\n      return {\n        sectionIndex: typeof sectionIndex === 'string' ? parseInt(sectionIndex, 10) : null,\n        suggestionIndex: parseInt(suggestionIndex, 10)\n      };\n    }\n  }, {\n    key: \"findSuggestionElement\",\n    value: function findSuggestionElement(startNode) {\n      var node = startNode;\n\n      do {\n        if (node.getAttribute && node.getAttribute('data-suggestion-index') !== null) {\n          return node;\n        }\n\n        node = node.parentNode;\n      } while (node !== null);\n\n      console.error('Clicked element:', startNode); // eslint-disable-line no-console\n\n      throw new Error(\"Couldn't find suggestion element\");\n    }\n  }, {\n    key: \"maybeCallOnChange\",\n    value: function maybeCallOnChange(event, newValue, method) {\n      var _this$props$inputProp = this.props.inputProps,\n          value = _this$props$inputProp.value,\n          onChange = _this$props$inputProp.onChange;\n\n      if (newValue !== value) {\n        onChange(event, {\n          newValue: newValue,\n          method: method\n        });\n      }\n    }\n  }, {\n    key: \"willRenderSuggestions\",\n    value: function willRenderSuggestions(props, reason) {\n      var suggestions = props.suggestions,\n          inputProps = props.inputProps,\n          shouldRenderSuggestions = props.shouldRenderSuggestions;\n      var value = inputProps.value;\n      return suggestions.length > 0 && shouldRenderSuggestions(value, reason);\n    }\n  }, {\n    key: \"getQuery\",\n    value: function getQuery() {\n      var inputProps = this.props.inputProps;\n      var value = inputProps.value;\n      var valueBeforeUpDown = this.state.valueBeforeUpDown;\n      return (valueBeforeUpDown === null ? value : valueBeforeUpDown).trim();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var _this$props6 = this.props,\n          suggestions = _this$props6.suggestions,\n          renderInputComponent = _this$props6.renderInputComponent,\n          onSuggestionsFetchRequested = _this$props6.onSuggestionsFetchRequested,\n          renderSuggestion = _this$props6.renderSuggestion,\n          inputProps = _this$props6.inputProps,\n          multiSection = _this$props6.multiSection,\n          renderSectionTitle = _this$props6.renderSectionTitle,\n          id = _this$props6.id,\n          getSectionSuggestions = _this$props6.getSectionSuggestions,\n          theme = _this$props6.theme,\n          getSuggestionValue = _this$props6.getSuggestionValue,\n          alwaysRenderSuggestions = _this$props6.alwaysRenderSuggestions,\n          highlightFirstSuggestion = _this$props6.highlightFirstSuggestion,\n          containerProps = _this$props6.containerProps;\n      var _this$state2 = this.state,\n          isFocused = _this$state2.isFocused,\n          isCollapsed = _this$state2.isCollapsed,\n          highlightedSectionIndex = _this$state2.highlightedSectionIndex,\n          highlightedSuggestionIndex = _this$state2.highlightedSuggestionIndex,\n          valueBeforeUpDown = _this$state2.valueBeforeUpDown;\n      var shouldRenderSuggestions = alwaysRenderSuggestions ? alwaysTrue : this.props.shouldRenderSuggestions;\n      var value = inputProps.value,\n          _onFocus = inputProps.onFocus,\n          _onKeyDown = inputProps.onKeyDown;\n      var willRenderSuggestions = this.willRenderSuggestions(this.props, 'render');\n      var isOpen = alwaysRenderSuggestions || isFocused && !isCollapsed && willRenderSuggestions;\n      var items = isOpen ? suggestions : [];\n\n      var autowhateverInputProps = _objectSpread({}, inputProps, {\n        onFocus: function onFocus(event) {\n          if (!_this3.justSelectedSuggestion && !_this3.justClickedOnSuggestionsContainer) {\n            var shouldRender = shouldRenderSuggestions(value, REASON_INPUT_FOCUSED);\n\n            _this3.setState({\n              isFocused: true,\n              isCollapsed: !shouldRender\n            });\n\n            _onFocus && _onFocus(event);\n\n            if (shouldRender) {\n              onSuggestionsFetchRequested({\n                value: value,\n                reason: REASON_INPUT_FOCUSED\n              });\n            }\n          }\n        },\n        onBlur: function onBlur(event) {\n          if (_this3.justClickedOnSuggestionsContainer) {\n            _this3.input.focus();\n\n            return;\n          }\n\n          _this3.blurEvent = event;\n\n          if (!_this3.justSelectedSuggestion) {\n            _this3.onBlur();\n\n            _this3.onSuggestionsClearRequested();\n          }\n        },\n        onChange: function onChange(event) {\n          var value = event.target.value;\n          var shouldRender = shouldRenderSuggestions(value, REASON_INPUT_CHANGED);\n\n          _this3.maybeCallOnChange(event, value, 'type');\n\n          if (_this3.suggestionsContainer) {\n            _this3.suggestionsContainer.scrollTop = 0;\n          }\n\n          _this3.setState(_objectSpread({}, highlightFirstSuggestion ? {} : {\n            highlightedSectionIndex: null,\n            highlightedSuggestionIndex: null,\n            highlightedSuggestion: null\n          }, {\n            valueBeforeUpDown: null,\n            isCollapsed: !shouldRender\n          }));\n\n          if (shouldRender) {\n            onSuggestionsFetchRequested({\n              value: value,\n              reason: REASON_INPUT_CHANGED\n            });\n          } else {\n            _this3.onSuggestionsClearRequested();\n          }\n        },\n        onKeyDown: function onKeyDown(event, data) {\n          var keyCode = event.keyCode;\n\n          switch (keyCode) {\n            case 40: // ArrowDown\n\n            case 38:\n              // ArrowUp\n              if (isCollapsed) {\n                if (shouldRenderSuggestions(value, REASON_SUGGESTIONS_REVEALED)) {\n                  onSuggestionsFetchRequested({\n                    value: value,\n                    reason: REASON_SUGGESTIONS_REVEALED\n                  });\n\n                  _this3.revealSuggestions();\n\n                  event.preventDefault(); // We act on the key.\n                }\n              } else if (suggestions.length > 0) {\n                var newHighlightedSectionIndex = data.newHighlightedSectionIndex,\n                    newHighlightedItemIndex = data.newHighlightedItemIndex;\n                var newValue;\n\n                if (newHighlightedItemIndex === null) {\n                  // valueBeforeUpDown can be null if, for example, user\n                  // hovers on the first suggestion and then pressed Up.\n                  // If that happens, use the original input value.\n                  newValue = valueBeforeUpDown === null ? value : valueBeforeUpDown;\n                } else {\n                  newValue = _this3.getSuggestionValueByIndex(newHighlightedSectionIndex, newHighlightedItemIndex);\n                }\n\n                _this3.updateHighlightedSuggestion(newHighlightedSectionIndex, newHighlightedItemIndex, value);\n\n                _this3.maybeCallOnChange(event, newValue, keyCode === 40 ? 'down' : 'up');\n\n                event.preventDefault(); // We act on the key.\n              }\n\n              _this3.justPressedUpDown = true;\n              setTimeout(function () {\n                _this3.justPressedUpDown = false;\n              });\n              break;\n            // Enter\n\n            case 13:\n              {\n                // See #388\n                if (event.keyCode === 229) {\n                  break;\n                }\n\n                var highlightedSuggestion = _this3.getHighlightedSuggestion();\n\n                if (isOpen && !alwaysRenderSuggestions) {\n                  _this3.closeSuggestions();\n                }\n\n                if (highlightedSuggestion != null) {\n                  event.preventDefault();\n\n                  var _newValue = getSuggestionValue(highlightedSuggestion);\n\n                  _this3.maybeCallOnChange(event, _newValue, 'enter');\n\n                  _this3.onSuggestionSelected(event, {\n                    suggestion: highlightedSuggestion,\n                    suggestionValue: _newValue,\n                    suggestionIndex: highlightedSuggestionIndex,\n                    sectionIndex: highlightedSectionIndex,\n                    method: 'enter'\n                  });\n\n                  _this3.justSelectedSuggestion = true;\n                  setTimeout(function () {\n                    _this3.justSelectedSuggestion = false;\n                  });\n                }\n\n                break;\n              }\n            // Escape\n\n            case 27:\n              {\n                if (isOpen) {\n                  // If input.type === 'search', the browser clears the input\n                  // when Escape is pressed. We want to disable this default\n                  // behaviour so that, when suggestions are shown, we just hide\n                  // them, without clearing the input.\n                  event.preventDefault();\n                }\n\n                var willCloseSuggestions = isOpen && !alwaysRenderSuggestions;\n\n                if (valueBeforeUpDown === null) {\n                  // Didn't interact with Up/Down\n                  if (!willCloseSuggestions) {\n                    var _newValue2 = '';\n\n                    _this3.maybeCallOnChange(event, _newValue2, 'escape');\n\n                    if (shouldRenderSuggestions(_newValue2, REASON_ESCAPE_PRESSED)) {\n                      onSuggestionsFetchRequested({\n                        value: _newValue2,\n                        reason: REASON_ESCAPE_PRESSED\n                      });\n                    } else {\n                      _this3.onSuggestionsClearRequested();\n                    }\n                  }\n                } else {\n                  // Interacted with Up/Down\n                  _this3.maybeCallOnChange(event, valueBeforeUpDown, 'escape');\n                }\n\n                if (willCloseSuggestions) {\n                  _this3.onSuggestionsClearRequested();\n\n                  _this3.closeSuggestions();\n                } else {\n                  _this3.resetHighlightedSuggestion();\n                }\n\n                break;\n              }\n          }\n\n          _onKeyDown && _onKeyDown(event);\n        }\n      });\n\n      var renderSuggestionData = {\n        query: this.getQuery()\n      };\n      return /*#__PURE__*/_react[\"default\"].createElement(_Autowhatever[\"default\"], {\n        multiSection: multiSection,\n        items: items,\n        renderInputComponent: renderInputComponent,\n        renderItemsContainer: this.renderSuggestionsContainer,\n        renderItem: renderSuggestion,\n        renderItemData: renderSuggestionData,\n        renderSectionTitle: renderSectionTitle,\n        getSectionItems: getSectionSuggestions,\n        highlightedSectionIndex: highlightedSectionIndex,\n        highlightedItemIndex: highlightedSuggestionIndex,\n        containerProps: containerProps,\n        inputProps: autowhateverInputProps,\n        itemProps: this.itemProps,\n        theme: (0, _theme.mapToAutowhateverTheme)(theme),\n        id: id,\n        ref: this.storeAutowhateverRef\n      });\n    }\n  }]);\n\n  return Autosuggest;\n}(_react.Component);\n\nexports[\"default\"] = Autosuggest;\n\n_defineProperty(Autosuggest, \"propTypes\", {\n  suggestions: _propTypes[\"default\"].array.isRequired,\n  onSuggestionsFetchRequested: function onSuggestionsFetchRequested(props, propName) {\n    var onSuggestionsFetchRequested = props[propName];\n\n    if (typeof onSuggestionsFetchRequested !== 'function') {\n      throw new Error(\"'onSuggestionsFetchRequested' must be implemented. See: https://github.com/moroshko/react-autosuggest#onSuggestionsFetchRequestedProp\");\n    }\n  },\n  onSuggestionsClearRequested: function onSuggestionsClearRequested(props, propName) {\n    var onSuggestionsClearRequested = props[propName];\n\n    if (props.alwaysRenderSuggestions === false && typeof onSuggestionsClearRequested !== 'function') {\n      throw new Error(\"'onSuggestionsClearRequested' must be implemented. See: https://github.com/moroshko/react-autosuggest#onSuggestionsClearRequestedProp\");\n    }\n  },\n  shouldKeepSuggestionsOnSelect: _propTypes[\"default\"].func,\n  onSuggestionSelected: _propTypes[\"default\"].func,\n  onSuggestionHighlighted: _propTypes[\"default\"].func,\n  renderInputComponent: _propTypes[\"default\"].func,\n  renderSuggestionsContainer: _propTypes[\"default\"].func,\n  getSuggestionValue: _propTypes[\"default\"].func.isRequired,\n  renderSuggestion: _propTypes[\"default\"].func.isRequired,\n  inputProps: function inputProps(props, propName) {\n    var inputProps = props[propName];\n\n    if (!inputProps) {\n      throw new Error(\"'inputProps' must be passed.\");\n    }\n\n    if (!Object.prototype.hasOwnProperty.call(inputProps, 'value')) {\n      throw new Error(\"'inputProps' must have 'value'.\");\n    }\n\n    if (!Object.prototype.hasOwnProperty.call(inputProps, 'onChange')) {\n      throw new Error(\"'inputProps' must have 'onChange'.\");\n    }\n  },\n  shouldRenderSuggestions: _propTypes[\"default\"].func,\n  alwaysRenderSuggestions: _propTypes[\"default\"].bool,\n  multiSection: _propTypes[\"default\"].bool,\n  renderSectionTitle: function renderSectionTitle(props, propName) {\n    var renderSectionTitle = props[propName];\n\n    if (props.multiSection === true && typeof renderSectionTitle !== 'function') {\n      throw new Error(\"'renderSectionTitle' must be implemented. See: https://github.com/moroshko/react-autosuggest#renderSectionTitleProp\");\n    }\n  },\n  getSectionSuggestions: function getSectionSuggestions(props, propName) {\n    var getSectionSuggestions = props[propName];\n\n    if (props.multiSection === true && typeof getSectionSuggestions !== 'function') {\n      throw new Error(\"'getSectionSuggestions' must be implemented. See: https://github.com/moroshko/react-autosuggest#getSectionSuggestionsProp\");\n    }\n  },\n  focusInputOnSuggestionClick: _propTypes[\"default\"].bool,\n  highlightFirstSuggestion: _propTypes[\"default\"].bool,\n  theme: _propTypes[\"default\"].object,\n  id: _propTypes[\"default\"].string,\n  containerProps: _propTypes[\"default\"].object // Arbitrary container props\n\n});\n\n_defineProperty(Autosuggest, \"defaultProps\", {\n  renderSuggestionsContainer: defaultRenderSuggestionsContainer,\n  shouldRenderSuggestions: defaultShouldRenderSuggestions,\n  alwaysRenderSuggestions: false,\n  multiSection: false,\n  shouldKeepSuggestionsOnSelect: function shouldKeepSuggestionsOnSelect() {\n    return false;\n  },\n  focusInputOnSuggestionClick: true,\n  highlightFirstSuggestion: false,\n  theme: _theme.defaultTheme,\n  id: '1',\n  containerProps: {}\n});","'use strict';\n\nfunction shallowEqualArrays(arrA, arrB) {\n  if (arrA === arrB) {\n    return true;\n  }\n\n  if (!arrA || !arrB) {\n    return false;\n  }\n\n  var len = arrA.length;\n\n  if (arrB.length !== len) {\n    return false;\n  }\n\n  for (var i = 0; i < len; i++) {\n    if (arrA[i] !== arrB[i]) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nmodule.exports = shallowEqualArrays;\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _sectionIterator = _interopRequireDefault(require(\"section-iterator\"));\n\nvar _reactThemeable = _interopRequireDefault(require(\"react-themeable\"));\n\nvar _SectionTitle = _interopRequireDefault(require(\"./SectionTitle\"));\n\nvar _ItemList = _interopRequireDefault(require(\"./ItemList\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(n); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar emptyObject = {};\n\nvar defaultRenderInputComponent = function defaultRenderInputComponent(props) {\n  return /*#__PURE__*/_react[\"default\"].createElement(\"input\", props);\n};\n\nvar defaultRenderItemsContainer = function defaultRenderItemsContainer(_ref) {\n  var containerProps = _ref.containerProps,\n      children = _ref.children;\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", containerProps, children);\n};\n\nvar defaultTheme = {\n  container: 'react-autowhatever__container',\n  containerOpen: 'react-autowhatever__container--open',\n  input: 'react-autowhatever__input',\n  inputOpen: 'react-autowhatever__input--open',\n  inputFocused: 'react-autowhatever__input--focused',\n  itemsContainer: 'react-autowhatever__items-container',\n  itemsContainerOpen: 'react-autowhatever__items-container--open',\n  itemsList: 'react-autowhatever__items-list',\n  item: 'react-autowhatever__item',\n  itemFirst: 'react-autowhatever__item--first',\n  itemHighlighted: 'react-autowhatever__item--highlighted',\n  sectionContainer: 'react-autowhatever__section-container',\n  sectionContainerFirst: 'react-autowhatever__section-container--first',\n  sectionTitle: 'react-autowhatever__section-title'\n};\n\nvar Autowhatever = /*#__PURE__*/function (_Component) {\n  _inherits(Autowhatever, _Component);\n\n  var _super = _createSuper(Autowhatever);\n\n  function Autowhatever(props) {\n    var _this;\n\n    _classCallCheck(this, Autowhatever);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"storeInputReference\", function (input) {\n      if (input !== null) {\n        _this.input = input;\n      }\n\n      var userRef = _this.props.inputProps.ref;\n\n      if (userRef) {\n        if (typeof userRef === 'function') {\n          userRef(input);\n        } else if (_typeof(userRef) === 'object' && Object.prototype.hasOwnProperty.call(userRef, 'current')) {\n          userRef.current = input;\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"storeItemsContainerReference\", function (itemsContainer) {\n      if (itemsContainer !== null) {\n        _this.itemsContainer = itemsContainer;\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onHighlightedItemChange\", function (highlightedItem) {\n      _this.highlightedItem = highlightedItem;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getItemId\", function (sectionIndex, itemIndex) {\n      if (itemIndex === null) {\n        return null;\n      }\n\n      var id = _this.props.id;\n      var section = sectionIndex === null ? '' : \"section-\".concat(sectionIndex);\n      return \"react-autowhatever-\".concat(id, \"-\").concat(section, \"-item-\").concat(itemIndex);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onFocus\", function (event) {\n      var inputProps = _this.props.inputProps;\n\n      _this.setState({\n        isInputFocused: true\n      });\n\n      inputProps.onFocus && inputProps.onFocus(event);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onBlur\", function (event) {\n      var inputProps = _this.props.inputProps;\n\n      _this.setState({\n        isInputFocused: false\n      });\n\n      inputProps.onBlur && inputProps.onBlur(event);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onKeyDown\", function (event) {\n      var _this$props = _this.props,\n          inputProps = _this$props.inputProps,\n          highlightedSectionIndex = _this$props.highlightedSectionIndex,\n          highlightedItemIndex = _this$props.highlightedItemIndex;\n      var keyCode = event.keyCode;\n\n      switch (keyCode) {\n        case 40: // ArrowDown\n\n        case 38:\n          {\n            // ArrowUp\n            var nextPrev = keyCode === 40 ? 'next' : 'prev';\n\n            var _this$sectionIterator = _this.sectionIterator[nextPrev]([highlightedSectionIndex, highlightedItemIndex]),\n                _this$sectionIterator2 = _slicedToArray(_this$sectionIterator, 2),\n                newHighlightedSectionIndex = _this$sectionIterator2[0],\n                newHighlightedItemIndex = _this$sectionIterator2[1];\n\n            inputProps.onKeyDown(event, {\n              newHighlightedSectionIndex: newHighlightedSectionIndex,\n              newHighlightedItemIndex: newHighlightedItemIndex\n            });\n            break;\n          }\n\n        default:\n          inputProps.onKeyDown(event, {\n            highlightedSectionIndex: highlightedSectionIndex,\n            highlightedItemIndex: highlightedItemIndex\n          });\n      }\n    });\n\n    _this.highlightedItem = null;\n    _this.state = {\n      isInputFocused: false\n    };\n\n    _this.setSectionsItems(props);\n\n    _this.setSectionIterator(props);\n\n    _this.setTheme(props);\n\n    return _this;\n  }\n\n  _createClass(Autowhatever, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.ensureHighlightedItemIsVisible();\n    } // eslint-disable-next-line camelcase, react/sort-comp\n\n  }, {\n    key: \"UNSAFE_componentWillReceiveProps\",\n    value: function UNSAFE_componentWillReceiveProps(nextProps) {\n      if (nextProps.items !== this.props.items) {\n        this.setSectionsItems(nextProps);\n      }\n\n      if (nextProps.items !== this.props.items || nextProps.multiSection !== this.props.multiSection) {\n        this.setSectionIterator(nextProps);\n      }\n\n      if (nextProps.theme !== this.props.theme) {\n        this.setTheme(nextProps);\n      }\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      this.ensureHighlightedItemIsVisible();\n    }\n  }, {\n    key: \"setSectionsItems\",\n    value: function setSectionsItems(props) {\n      if (props.multiSection) {\n        this.sectionsItems = props.items.map(function (section) {\n          return props.getSectionItems(section);\n        });\n        this.sectionsLengths = this.sectionsItems.map(function (items) {\n          return items.length;\n        });\n        this.allSectionsAreEmpty = this.sectionsLengths.every(function (itemsCount) {\n          return itemsCount === 0;\n        });\n      }\n    }\n  }, {\n    key: \"setSectionIterator\",\n    value: function setSectionIterator(props) {\n      this.sectionIterator = (0, _sectionIterator[\"default\"])({\n        multiSection: props.multiSection,\n        data: props.multiSection ? this.sectionsLengths : props.items.length\n      });\n    }\n  }, {\n    key: \"setTheme\",\n    value: function setTheme(props) {\n      this.theme = (0, _reactThemeable[\"default\"])(props.theme);\n    }\n  }, {\n    key: \"renderSections\",\n    value: function renderSections() {\n      var _this2 = this;\n\n      if (this.allSectionsAreEmpty) {\n        return null;\n      }\n\n      var theme = this.theme;\n      var _this$props2 = this.props,\n          id = _this$props2.id,\n          items = _this$props2.items,\n          renderItem = _this$props2.renderItem,\n          renderItemData = _this$props2.renderItemData,\n          renderSectionTitle = _this$props2.renderSectionTitle,\n          highlightedSectionIndex = _this$props2.highlightedSectionIndex,\n          highlightedItemIndex = _this$props2.highlightedItemIndex,\n          itemProps = _this$props2.itemProps;\n      return items.map(function (section, sectionIndex) {\n        var keyPrefix = \"react-autowhatever-\".concat(id, \"-\");\n        var sectionKeyPrefix = \"\".concat(keyPrefix, \"section-\").concat(sectionIndex, \"-\");\n        var isFirstSection = sectionIndex === 0; // `key` is provided by theme()\n\n        /* eslint-disable react/jsx-key */\n\n        return /*#__PURE__*/_react[\"default\"].createElement(\"div\", theme(\"\".concat(sectionKeyPrefix, \"container\"), 'sectionContainer', isFirstSection && 'sectionContainerFirst'), /*#__PURE__*/_react[\"default\"].createElement(_SectionTitle[\"default\"], {\n          section: section,\n          renderSectionTitle: renderSectionTitle,\n          theme: theme,\n          sectionKeyPrefix: sectionKeyPrefix\n        }), /*#__PURE__*/_react[\"default\"].createElement(_ItemList[\"default\"], {\n          items: _this2.sectionsItems[sectionIndex],\n          itemProps: itemProps,\n          renderItem: renderItem,\n          renderItemData: renderItemData,\n          sectionIndex: sectionIndex,\n          highlightedItemIndex: highlightedSectionIndex === sectionIndex ? highlightedItemIndex : null,\n          onHighlightedItemChange: _this2.onHighlightedItemChange,\n          getItemId: _this2.getItemId,\n          theme: theme,\n          keyPrefix: keyPrefix,\n          ref: _this2.storeItemsListReference\n        }));\n        /* eslint-enable react/jsx-key */\n      });\n    }\n  }, {\n    key: \"renderItems\",\n    value: function renderItems() {\n      var items = this.props.items;\n\n      if (items.length === 0) {\n        return null;\n      }\n\n      var theme = this.theme;\n      var _this$props3 = this.props,\n          id = _this$props3.id,\n          renderItem = _this$props3.renderItem,\n          renderItemData = _this$props3.renderItemData,\n          highlightedSectionIndex = _this$props3.highlightedSectionIndex,\n          highlightedItemIndex = _this$props3.highlightedItemIndex,\n          itemProps = _this$props3.itemProps;\n      return /*#__PURE__*/_react[\"default\"].createElement(_ItemList[\"default\"], {\n        items: items,\n        itemProps: itemProps,\n        renderItem: renderItem,\n        renderItemData: renderItemData,\n        highlightedItemIndex: highlightedSectionIndex === null ? highlightedItemIndex : null,\n        onHighlightedItemChange: this.onHighlightedItemChange,\n        getItemId: this.getItemId,\n        theme: theme,\n        keyPrefix: \"react-autowhatever-\".concat(id, \"-\")\n      });\n    }\n  }, {\n    key: \"ensureHighlightedItemIsVisible\",\n    value: function ensureHighlightedItemIsVisible() {\n      var highlightedItem = this.highlightedItem;\n\n      if (!highlightedItem) {\n        return;\n      }\n\n      var itemsContainer = this.itemsContainer;\n      var itemOffsetRelativeToContainer = highlightedItem.offsetParent === itemsContainer ? highlightedItem.offsetTop : highlightedItem.offsetTop - itemsContainer.offsetTop;\n      var scrollTop = itemsContainer.scrollTop; // Top of the visible area\n\n      if (itemOffsetRelativeToContainer < scrollTop) {\n        // Item is off the top of the visible area\n        scrollTop = itemOffsetRelativeToContainer;\n      } else if (itemOffsetRelativeToContainer + highlightedItem.offsetHeight > scrollTop + itemsContainer.offsetHeight) {\n        // Item is off the bottom of the visible area\n        scrollTop = itemOffsetRelativeToContainer + highlightedItem.offsetHeight - itemsContainer.offsetHeight;\n      }\n\n      if (scrollTop !== itemsContainer.scrollTop) {\n        itemsContainer.scrollTop = scrollTop;\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var theme = this.theme;\n      var _this$props4 = this.props,\n          id = _this$props4.id,\n          multiSection = _this$props4.multiSection,\n          renderInputComponent = _this$props4.renderInputComponent,\n          renderItemsContainer = _this$props4.renderItemsContainer,\n          highlightedSectionIndex = _this$props4.highlightedSectionIndex,\n          highlightedItemIndex = _this$props4.highlightedItemIndex;\n      var isInputFocused = this.state.isInputFocused;\n      var renderedItems = multiSection ? this.renderSections() : this.renderItems();\n      var isOpen = renderedItems !== null;\n      var ariaActivedescendant = this.getItemId(highlightedSectionIndex, highlightedItemIndex);\n      var itemsContainerId = \"react-autowhatever-\".concat(id);\n\n      var containerProps = _objectSpread({\n        role: 'combobox',\n        'aria-haspopup': 'listbox',\n        'aria-owns': itemsContainerId,\n        'aria-expanded': isOpen\n      }, theme(\"react-autowhatever-\".concat(id, \"-container\"), 'container', isOpen && 'containerOpen'), {}, this.props.containerProps);\n\n      var inputComponent = renderInputComponent(_objectSpread({\n        type: 'text',\n        value: '',\n        autoComplete: 'off',\n        'aria-autocomplete': 'list',\n        'aria-controls': itemsContainerId,\n        'aria-activedescendant': ariaActivedescendant\n      }, theme(\"react-autowhatever-\".concat(id, \"-input\"), 'input', isOpen && 'inputOpen', isInputFocused && 'inputFocused'), {}, this.props.inputProps, {\n        onFocus: this.onFocus,\n        onBlur: this.onBlur,\n        onKeyDown: this.props.inputProps.onKeyDown && this.onKeyDown,\n        ref: this.storeInputReference\n      }));\n      var itemsContainer = renderItemsContainer({\n        containerProps: _objectSpread({\n          id: itemsContainerId,\n          role: 'listbox'\n        }, theme(\"react-autowhatever-\".concat(id, \"-items-container\"), 'itemsContainer', isOpen && 'itemsContainerOpen'), {\n          ref: this.storeItemsContainerReference\n        }),\n        children: renderedItems\n      });\n      return /*#__PURE__*/_react[\"default\"].createElement(\"div\", containerProps, inputComponent, itemsContainer);\n    }\n  }]);\n\n  return Autowhatever;\n}(_react.Component);\n\nexports[\"default\"] = Autowhatever;\n\n_defineProperty(Autowhatever, \"propTypes\", {\n  id: _propTypes[\"default\"].string,\n  // Used in aria-* attributes. If multiple Autowhatever's are rendered on a page, they must have unique ids.\n  multiSection: _propTypes[\"default\"].bool,\n  // Indicates whether a multi section layout should be rendered.\n  renderInputComponent: _propTypes[\"default\"].func,\n  // When specified, it is used to render the input element.\n  renderItemsContainer: _propTypes[\"default\"].func,\n  // Renders the items container.\n  items: _propTypes[\"default\"].array.isRequired,\n  // Array of items or sections to render.\n  renderItem: _propTypes[\"default\"].func,\n  // This function renders a single item.\n  renderItemData: _propTypes[\"default\"].object,\n  // Arbitrary data that will be passed to renderItem()\n  renderSectionTitle: _propTypes[\"default\"].func,\n  // This function gets a section and renders its title.\n  getSectionItems: _propTypes[\"default\"].func,\n  // This function gets a section and returns its items, which will be passed into `renderItem` for rendering.\n  containerProps: _propTypes[\"default\"].object,\n  // Arbitrary container props\n  inputProps: _propTypes[\"default\"].object,\n  // Arbitrary input props\n  itemProps: _propTypes[\"default\"].oneOfType([// Arbitrary item props\n  _propTypes[\"default\"].object, _propTypes[\"default\"].func]),\n  highlightedSectionIndex: _propTypes[\"default\"].number,\n  // Section index of the highlighted item\n  highlightedItemIndex: _propTypes[\"default\"].number,\n  // Highlighted item index (within a section)\n  theme: _propTypes[\"default\"].oneOfType([// Styles. See: https://github.com/markdalgleish/react-themeable\n  _propTypes[\"default\"].object, _propTypes[\"default\"].array])\n});\n\n_defineProperty(Autowhatever, \"defaultProps\", {\n  id: '1',\n  multiSection: false,\n  renderInputComponent: defaultRenderInputComponent,\n  renderItemsContainer: defaultRenderItemsContainer,\n  renderItem: function renderItem() {\n    throw new Error('`renderItem` must be provided');\n  },\n  renderItemData: emptyObject,\n  renderSectionTitle: function renderSectionTitle() {\n    throw new Error('`renderSectionTitle` must be provided');\n  },\n  getSectionItems: function getSectionItems() {\n    throw new Error('`getSectionItems` must be provided');\n  },\n  containerProps: emptyObject,\n  inputProps: emptyObject,\n  itemProps: emptyObject,\n  highlightedSectionIndex: null,\n  highlightedItemIndex: null,\n  theme: defaultTheme\n});","\"use strict\";\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nmodule.exports = function (_ref) {\n  var data = _ref.data;\n  var multiSection = _ref.multiSection;\n\n  function nextNonEmptySectionIndex(sectionIndex) {\n    if (sectionIndex === null) {\n      sectionIndex = 0;\n    } else {\n      sectionIndex++;\n    }\n\n    while (sectionIndex < data.length && data[sectionIndex] === 0) {\n      sectionIndex++;\n    }\n\n    return sectionIndex === data.length ? null : sectionIndex;\n  }\n\n  function prevNonEmptySectionIndex(sectionIndex) {\n    if (sectionIndex === null) {\n      sectionIndex = data.length - 1;\n    } else {\n      sectionIndex--;\n    }\n\n    while (sectionIndex >= 0 && data[sectionIndex] === 0) {\n      sectionIndex--;\n    }\n\n    return sectionIndex === -1 ? null : sectionIndex;\n  }\n\n  function next(position) {\n    var _position = _slicedToArray(position, 2);\n\n    var sectionIndex = _position[0];\n    var itemIndex = _position[1];\n\n\n    if (multiSection) {\n      if (itemIndex === null || itemIndex === data[sectionIndex] - 1) {\n        sectionIndex = nextNonEmptySectionIndex(sectionIndex);\n\n        if (sectionIndex === null) {\n          return [null, null];\n        }\n\n        return [sectionIndex, 0];\n      }\n\n      return [sectionIndex, itemIndex + 1];\n    }\n\n    if (data === 0 || itemIndex === data - 1) {\n      return [null, null];\n    }\n\n    if (itemIndex === null) {\n      return [null, 0];\n    }\n\n    return [null, itemIndex + 1];\n  }\n\n  function prev(position) {\n    var _position2 = _slicedToArray(position, 2);\n\n    var sectionIndex = _position2[0];\n    var itemIndex = _position2[1];\n\n\n    if (multiSection) {\n      if (itemIndex === null || itemIndex === 0) {\n        sectionIndex = prevNonEmptySectionIndex(sectionIndex);\n\n        if (sectionIndex === null) {\n          return [null, null];\n        }\n\n        return [sectionIndex, data[sectionIndex] - 1];\n      }\n\n      return [sectionIndex, itemIndex - 1];\n    }\n\n    if (data === 0 || itemIndex === 0) {\n      return [null, null];\n    }\n\n    if (itemIndex === null) {\n      return [null, data - 1];\n    }\n\n    return [null, itemIndex - 1];\n  }\n\n  function isLast(position) {\n    return next(position)[1] === null;\n  }\n\n  return {\n    next: next,\n    prev: prev,\n    isLast: isLast\n  };\n};\n","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i]; return arr2; } else { return Array.from(arr); } }\n\nvar _objectAssign = require('object-assign');\n\nvar _objectAssign2 = _interopRequireDefault(_objectAssign);\n\nvar truthy = function truthy(x) {\n  return x;\n};\n\nexports['default'] = function (input) {\n  var _ref = Array.isArray(input) && input.length === 2 ? input : [input, null];\n\n  var _ref2 = _slicedToArray(_ref, 2);\n\n  var theme = _ref2[0];\n  var classNameDecorator = _ref2[1];\n\n  return function (key) {\n    for (var _len = arguments.length, names = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      names[_key - 1] = arguments[_key];\n    }\n\n    var styles = names.map(function (name) {\n      return theme[name];\n    }).filter(truthy);\n\n    return typeof styles[0] === 'string' || typeof classNameDecorator === 'function' ? { key: key, className: classNameDecorator ? classNameDecorator.apply(undefined, _toConsumableArray(styles)) : styles.join(' ') } : { key: key, style: _objectAssign2['default'].apply(undefined, [{}].concat(_toConsumableArray(styles))) };\n  };\n};\n\nmodule.exports = exports['default'];","'use strict';\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction ToObject(val) {\n\tif (val == null) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction ownEnumerableKeys(obj) {\n\tvar keys = Object.getOwnPropertyNames(obj);\n\n\tif (Object.getOwnPropertySymbols) {\n\t\tkeys = keys.concat(Object.getOwnPropertySymbols(obj));\n\t}\n\n\treturn keys.filter(function (key) {\n\t\treturn propIsEnumerable.call(obj, key);\n\t});\n}\n\nmodule.exports = Object.assign || function (target, source) {\n\tvar from;\n\tvar keys;\n\tvar to = ToObject(target);\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = arguments[s];\n\t\tkeys = ownEnumerableKeys(Object(from));\n\n\t\tfor (var i = 0; i < keys.length; i++) {\n\t\t\tto[keys[i]] = from[keys[i]];\n\t\t}\n\t}\n\n\treturn to;\n};\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _compareObjects = _interopRequireDefault(require(\"./compareObjects\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar SectionTitle = /*#__PURE__*/function (_Component) {\n  _inherits(SectionTitle, _Component);\n\n  var _super = _createSuper(SectionTitle);\n\n  function SectionTitle() {\n    _classCallCheck(this, SectionTitle);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(SectionTitle, [{\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps) {\n      return (0, _compareObjects[\"default\"])(nextProps, this.props);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          section = _this$props.section,\n          renderSectionTitle = _this$props.renderSectionTitle,\n          theme = _this$props.theme,\n          sectionKeyPrefix = _this$props.sectionKeyPrefix;\n      var sectionTitle = renderSectionTitle(section);\n\n      if (!sectionTitle) {\n        return null;\n      }\n\n      return /*#__PURE__*/_react[\"default\"].createElement(\"div\", theme(\"\".concat(sectionKeyPrefix, \"title\"), 'sectionTitle'), sectionTitle);\n    }\n  }]);\n\n  return SectionTitle;\n}(_react.Component);\n\nexports[\"default\"] = SectionTitle;\n\n_defineProperty(SectionTitle, \"propTypes\", {\n  section: _propTypes[\"default\"].any.isRequired,\n  renderSectionTitle: _propTypes[\"default\"].func.isRequired,\n  theme: _propTypes[\"default\"].func.isRequired,\n  sectionKeyPrefix: _propTypes[\"default\"].string.isRequired\n});","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _Item = _interopRequireDefault(require(\"./Item\"));\n\nvar _compareObjects = _interopRequireDefault(require(\"./compareObjects\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar ItemsList = /*#__PURE__*/function (_Component) {\n  _inherits(ItemsList, _Component);\n\n  var _super = _createSuper(ItemsList);\n\n  function ItemsList() {\n    var _this;\n\n    _classCallCheck(this, ItemsList);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"storeHighlightedItemReference\", function (highlightedItem) {\n      _this.props.onHighlightedItemChange(highlightedItem === null ? null : highlightedItem.item);\n    });\n\n    return _this;\n  }\n\n  _createClass(ItemsList, [{\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps) {\n      return (0, _compareObjects[\"default\"])(nextProps, this.props, ['itemProps']);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          items = _this$props.items,\n          itemProps = _this$props.itemProps,\n          renderItem = _this$props.renderItem,\n          renderItemData = _this$props.renderItemData,\n          sectionIndex = _this$props.sectionIndex,\n          highlightedItemIndex = _this$props.highlightedItemIndex,\n          getItemId = _this$props.getItemId,\n          theme = _this$props.theme,\n          keyPrefix = _this$props.keyPrefix;\n      var sectionPrefix = sectionIndex === null ? keyPrefix : \"\".concat(keyPrefix, \"section-\").concat(sectionIndex, \"-\");\n      var isItemPropsFunction = typeof itemProps === 'function';\n      return /*#__PURE__*/_react[\"default\"].createElement(\"ul\", _extends({\n        role: \"listbox\"\n      }, theme(\"\".concat(sectionPrefix, \"items-list\"), 'itemsList')), items.map(function (item, itemIndex) {\n        var isFirst = itemIndex === 0;\n        var isHighlighted = itemIndex === highlightedItemIndex;\n        var itemKey = \"\".concat(sectionPrefix, \"item-\").concat(itemIndex);\n        var itemPropsObj = isItemPropsFunction ? itemProps({\n          sectionIndex: sectionIndex,\n          itemIndex: itemIndex\n        }) : itemProps;\n\n        var allItemProps = _objectSpread({\n          id: getItemId(sectionIndex, itemIndex),\n          'aria-selected': isHighlighted\n        }, theme(itemKey, 'item', isFirst && 'itemFirst', isHighlighted && 'itemHighlighted'), {}, itemPropsObj);\n\n        if (isHighlighted) {\n          allItemProps.ref = _this2.storeHighlightedItemReference;\n        } // `key` is provided by theme()\n\n        /* eslint-disable react/jsx-key */\n\n\n        return /*#__PURE__*/_react[\"default\"].createElement(_Item[\"default\"], _extends({}, allItemProps, {\n          sectionIndex: sectionIndex,\n          isHighlighted: isHighlighted,\n          itemIndex: itemIndex,\n          item: item,\n          renderItem: renderItem,\n          renderItemData: renderItemData\n        }));\n        /* eslint-enable react/jsx-key */\n      }));\n    }\n  }]);\n\n  return ItemsList;\n}(_react.Component);\n\nexports[\"default\"] = ItemsList;\n\n_defineProperty(ItemsList, \"propTypes\", {\n  items: _propTypes[\"default\"].array.isRequired,\n  itemProps: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].object, _propTypes[\"default\"].func]),\n  renderItem: _propTypes[\"default\"].func.isRequired,\n  renderItemData: _propTypes[\"default\"].object.isRequired,\n  sectionIndex: _propTypes[\"default\"].number,\n  highlightedItemIndex: _propTypes[\"default\"].number,\n  onHighlightedItemChange: _propTypes[\"default\"].func.isRequired,\n  getItemId: _propTypes[\"default\"].func.isRequired,\n  theme: _propTypes[\"default\"].func.isRequired,\n  keyPrefix: _propTypes[\"default\"].string.isRequired\n});\n\n_defineProperty(ItemsList, \"defaultProps\", {\n  sectionIndex: null\n});","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _compareObjects = _interopRequireDefault(require(\"./compareObjects\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar Item = /*#__PURE__*/function (_Component) {\n  _inherits(Item, _Component);\n\n  var _super = _createSuper(Item);\n\n  function Item() {\n    var _this;\n\n    _classCallCheck(this, Item);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"storeItemReference\", function (item) {\n      if (item !== null) {\n        _this.item = item;\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onMouseEnter\", function (event) {\n      var _this$props = _this.props,\n          sectionIndex = _this$props.sectionIndex,\n          itemIndex = _this$props.itemIndex;\n\n      _this.props.onMouseEnter(event, {\n        sectionIndex: sectionIndex,\n        itemIndex: itemIndex\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onMouseLeave\", function (event) {\n      var _this$props2 = _this.props,\n          sectionIndex = _this$props2.sectionIndex,\n          itemIndex = _this$props2.itemIndex;\n\n      _this.props.onMouseLeave(event, {\n        sectionIndex: sectionIndex,\n        itemIndex: itemIndex\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onMouseDown\", function (event) {\n      var _this$props3 = _this.props,\n          sectionIndex = _this$props3.sectionIndex,\n          itemIndex = _this$props3.itemIndex;\n\n      _this.props.onMouseDown(event, {\n        sectionIndex: sectionIndex,\n        itemIndex: itemIndex\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onClick\", function (event) {\n      var _this$props4 = _this.props,\n          sectionIndex = _this$props4.sectionIndex,\n          itemIndex = _this$props4.itemIndex;\n\n      _this.props.onClick(event, {\n        sectionIndex: sectionIndex,\n        itemIndex: itemIndex\n      });\n    });\n\n    return _this;\n  }\n\n  _createClass(Item, [{\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps) {\n      return (0, _compareObjects[\"default\"])(nextProps, this.props, ['renderItemData']);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props5 = this.props,\n          isHighlighted = _this$props5.isHighlighted,\n          item = _this$props5.item,\n          renderItem = _this$props5.renderItem,\n          renderItemData = _this$props5.renderItemData,\n          restProps = _objectWithoutProperties(_this$props5, [\"isHighlighted\", \"item\", \"renderItem\", \"renderItemData\"]);\n\n      delete restProps.sectionIndex;\n      delete restProps.itemIndex;\n\n      if (typeof restProps.onMouseEnter === 'function') {\n        restProps.onMouseEnter = this.onMouseEnter;\n      }\n\n      if (typeof restProps.onMouseLeave === 'function') {\n        restProps.onMouseLeave = this.onMouseLeave;\n      }\n\n      if (typeof restProps.onMouseDown === 'function') {\n        restProps.onMouseDown = this.onMouseDown;\n      }\n\n      if (typeof restProps.onClick === 'function') {\n        restProps.onClick = this.onClick;\n      }\n\n      return /*#__PURE__*/_react[\"default\"].createElement(\"li\", _extends({\n        role: \"option\"\n      }, restProps, {\n        ref: this.storeItemReference\n      }), renderItem(item, _objectSpread({\n        isHighlighted: isHighlighted\n      }, renderItemData)));\n    }\n  }]);\n\n  return Item;\n}(_react.Component);\n\nexports[\"default\"] = Item;\n\n_defineProperty(Item, \"propTypes\", {\n  sectionIndex: _propTypes[\"default\"].number,\n  isHighlighted: _propTypes[\"default\"].bool.isRequired,\n  itemIndex: _propTypes[\"default\"].number.isRequired,\n  item: _propTypes[\"default\"].any.isRequired,\n  renderItem: _propTypes[\"default\"].func.isRequired,\n  renderItemData: _propTypes[\"default\"].object.isRequired,\n  onMouseEnter: _propTypes[\"default\"].func,\n  onMouseLeave: _propTypes[\"default\"].func,\n  onMouseDown: _propTypes[\"default\"].func,\n  onClick: _propTypes[\"default\"].func\n});","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"style_loader__3Nyb7\"};","export const UploadProgress = ({ progress, changeUpload }) => {\n  return (\n    <span className=\"file-uploader--progressBarWrapper--2lCJU input-group\">\n      <div className=\"file-uploader--progressBar--3WNS9 progress\">\n        <div\n          role=\"progressbar\"\n          className=\"progress-bar\"\n          aria-valuenow={100}\n          aria-valuemin={0}\n          aria-valuemax={100}\n          style={{ width: `${progress}% `}}\n        >\n          {`${progress}%`}\n        </div>\n      </div>\n      <span className=\"input-group-btn\">\n        <button type=\"button\"\n        onClick={changeUpload}\n         className=\"btn btn-default\">\n          Change\n        </button>\n      </span>\n    </span>\n  );\n};\n","import Select from 'react-select';\nimport { CoursePlayerResponse, CourseResponse, useFetchCourseLevelQuery, useFetchInstructorCoursesQuery } from \"services/courses\";\nimport { useFetchProjectCategoriesQuery } from \"services/projects\";\nimport { useFetchProjectQuery, useUpdateProjectMutation, useEditHeadingMutation, useCreateHeadingMutation } from \"services/projects\";\nimport type { HeaderDescription } from \"services/projects\";\nimport { selectLocationPayload, selectLocationType } from \"state/location/selectors\";\nimport { useAppSelector, useAppDispatch } from \"store/hooks\";\n\nimport { selectSave, selectCourses } from \"state/course/courseSplice\";\nimport { useState, useEffect } from \"react\";\nimport * as client from 'filestack-js';\nimport Player from 'react-player';\nimport Autosuggest from 'react-autosuggest';\nimport { defaultTheme } from 'react-autosuggest/dist/theme'\nimport algoliasearch from \"algoliasearch/lite\";\nimport { autoSearch } from \"services/courses\";\nimport type { ProjectEntityResponse, ProjectEntityRequest, Course } from \"services/projects\";\nimport { UploadProgress } from \"./UploadProgress\";\nimport { RTEditor } from 'portal/scenes/Instructor/Editor';\nimport classNames from \"classnames\";\nimport { usePrompt } from \"../../Courses/userPrompt\";\nimport { useAlert } from \"react-alert\";\nimport type { CategoryResponse } from \"services/courses\";\nimport styles from './style.module.scss'\nimport { saveCourse } from \"state/course/courseSplice\";\nimport { selectProject } from \"state/project/projectSplice\";\nimport { values } from 'lodash';\n\n\nconst filestack = client.Filestack(process.env.REACT_APP_FILESTACK_APP_KEY, {})\n\nconst searchClient = algoliasearch(\n  process.env.REACT_APP_ALGOLIA_APP_ID,\n  process.env.REACT_APP_ALGOLIA_SEARCH_KEY\n);\n\nexport const LandingPage = () => {\n  const getSuggestions = async (query: string) => {\n    const inputValue = query.trim().toLowerCase();\n    const inputLength = inputValue.length;\n    if (inputLength === 0) return []\n    const results = await searchClient.initIndex('tags_index').search(inputValue)\n    const suggestions = results.hits.map(hit => {\n      return hit\n    })\n\n    const courseSuggestions = [...suggestions, { isAddNew: true }]\n    return courseSuggestions\n  }\n\n\n  const { data: coursesQuery } = useFetchInstructorCoursesQuery()\n  const [createHeading] = useCreateHeadingMutation()\n  const [editHeading] = useEditHeadingMutation()\n  const locationPayload = useAppSelector(selectLocationPayload);\n  const locationPath = useAppSelector(selectLocationType);\n  const selectedSave = useAppSelector(selectSave);\n  const selectedProject = useAppSelector(selectProject)\n  const selectedCourses = useAppSelector(selectCourses)\n  const dispatch = useAppDispatch()\n  const { data: project, isLoading } = useFetchProjectQuery(locationPayload.id)\n  const [updateProject] = useUpdateProjectMutation()\n\n  const { data: levels } = useFetchCourseLevelQuery()\n  const { data: categories } = useFetchProjectCategoriesQuery()\n  const [uploading, setUploading] = useState(false)\n  const [progress, setProgress] = useState(0)\n\n  const [error, setError] = useState(null)\n  const [status, setStatus] = useState('Progress')\n  const [files, setFiles] = useState(null);\n  const alert = useAlert()\n  const [category, setCategory] = useState<CategoryResponse>()\n  const [suggestions, setSuggestions] = useState([]);\n  const [suggestionValue, setSuggestionValue] = useState('');\n  const [projectUpdate, setProjectUpdate] = useState<ProjectEntityResponse>(selectedProject)\n  const [courses, setCourses] = useState<CoursePlayerResponse[]>(selectedCourses)\n  const [course, setCourse] = useState<CoursePlayerResponse>()\n  const [projectCourse, setProjectCourse] = useState<CoursePlayerResponse[]>(selectedProject ? selectedProject.courses : [])\n  const [tags, setTags] = useState<string[]>(selectedProject ? selectedProject.tags : []);\n  const [header, setHeader] = useState<HeaderDescription>(selectedProject ? selectedProject.header : {\n    heading: '',\n    description: '',\n    id: null,\n    projects: []\n  })\n  usePrompt(true)\n  const onProgress = eve => {\n    console.log(eve.totalPercent)\n    setProgress(eve.totalPercent)\n\n  }\n  const onUpload = async (files, onProgress) => {\n    setError(null)\n    setStatus('Progress')\n    setUploading(true)\n\n    filestack.upload(files, { onProgress })\n      .then(results => {\n        setProjectUpdate({\n          ...projectUpdate,\n          thumbnail_url: results.url\n        })\n      }).catch(err => {\n        setStatus('Failed')\n        console.log(err)\n        setError(err.status)\n      })\n  }\n\n  useEffect(() => {\n     setProjectCourse(selectedProject?.courses)\n  }, [selectedProject])\n\n\n\n\n\n  const renderSuggestion = suggestion => {\n\n    if (suggestion.isAddNew) {\n\n      return (\n        <div className=\"course-labels--propose-label--1zROI\">\n          <a role=\"button\" tabIndex={0}>Propose new topic {suggestionValue}\n          </a>\n        </div>\n\n      );\n    }\n    console.log('Suggestions: ', suggestion.name)\n\n    return <span className=\"course-labels--course-label--1Vi_C label label-default\">{suggestion.name}</span>;\n  };\n\n  const theme = {\n    ...defaultTheme,\n    container: 'autosuggest-theme--container--aLRPK',\n    itemsContainer: 'label-manager--suggestions-container--2TqhD',\n    item: 'autosuggest-theme--suggestion--Ut3Fu',\n  }\n  const onSuggestionsFetchRequested = ({ value }) => {\n    getSuggestions(value)\n      .then(results => setSuggestions(results))\n\n  }\n  const handleSuggestionChange = (event, { newValue, method }) => {\n    setSuggestionValue(newValue)\n  }\n\n  const suggestInputProps = {\n    placeholder: 'Type suggestion',\n    value: suggestionValue,\n    className: 'form-control',\n    onChange: handleSuggestionChange\n  }\n\n  useEffect(() => {\n\n    if (selectedSave.locationPath == locationPath) {\n      if (header) {\n        if (selectedProject.header) {\n          editHeading({\n            ...header,\n            projects: [projectUpdate.id]\n          }).then((res: {\n            data: HeaderDescription\n          }) => {\n            const { header, ...body } = projectUpdate\n            updateProject({\n              ...body,\n              tags,\n              syllabuses: body?.syllabuses?.map(item => item.id),\n              included: body.included?.map(item => item?.id),\n              outcomes: body.outcomes?.map(item => item?.id),\n              \n              courses: projectCourse.map(item => Number(item.id)),\n              \n\n            }).then((res: { data: ProjectEntityResponse }) => {\n              if (res.data && res.data.id) {\n                alert.show(\"Your changes have been saved successfully\")\n                setProjectUpdate(res.data)\n                dispatch(saveCourse({\n                  submit: false,\n                  locationPath: null\n                }))\n              }\n\n            }).catch(err => {\n              alert.error(err)\n              dispatch(saveCourse({\n                submit: false,\n                locationPath: null\n              }))\n            })\n          })\n        } else {\n          createHeading({\n            heading: header.heading,\n            description: header.description,\n            projects: [projectUpdate.id]\n          }).then((res: {\n            data: HeaderDescription\n          }) => {\n            const { header, ...body } = projectUpdate\n            updateProject({\n              ...body,\n              tags,\n              syllabuses: body?.syllabuses?.map(item => item.id),\n              included: body.included?.map(item => item?.id),\n              outcomes: body.outcomes?.map(item => item?.id),\n              courses: projectCourse.map(item => Number(item.id))\n            }).then((res: { data: ProjectEntityResponse }) => {\n              if (res.data && res.data.id) {\n                alert.show(\"Your changes have been saved successfully\")\n                setProjectUpdate(res.data)\n                dispatch(saveCourse({\n                  submit: false,\n                  locationPath: null\n                }))\n              }\n\n            }).catch(err => {\n              alert.error(err)\n              dispatch(saveCourse({\n                submit: false,\n                locationPath: null\n              }))\n            })\n          })\n        }\n      }\n\n    }\n  }, [selectedSave])\n\n  useEffect(() => {\n    setProjectUpdate(selectedProject)\n    setTags(selectedProject ? selectedProject.tags : [])\n    setHeader(selectedProject ? selectedProject.header : null)\n    const cat = selectedProject && selectedProject.category\n    const newCat = categories && categories.find(item => item.id == cat)\n    if (newCat) {\n      setCategory(newCat)\n    }\n\n  }, [selectedProject])\n\n\n  useEffect(() => {\n    setCourses(selectedCourses)\n  }, [selectedCourses])\n\n  if (isLoading || !projectUpdate) {\n\n    return (\n      <div className=\"ud-app-loader\">\n        <div className=\"sub-header--wrapper--3Vunm\">\n          <div className=\"sub-header--main-content--22it3\">\n            <h2\n              data-purpose=\"page-title\"\n              className=\"font-heading-serif-xl sub-header--title--2VD8q\"\n            >\n              Project landing page\n            </h2>\n          </div>\n        </div>\n        <div className=\"main-content--wrap_component--2TEkz\">\n          <form>\n            <div className=\"form-group\">\n              <div className={classNames(\"cfi-medium\", \"cfi\", \"cfi-circle-loader\",\n                styles.loader)}>\n\n              </div>\n            </div>\n          </form>\n\n        </div>\n\n\n      </div>\n    );\n  }\n\n  const validateFileType = (fileItem) => {\n    var fileType = fileItem.filetype; // image/png image/jpeg\n    var rootType = fileType.split(\"/\")[0];\n    switch (rootType) {\n      case \"image\":\n        return 'File';\n      default:\n        return 'Video';\n    }\n  }\n\n  return (\n    <div>\n      <div className=\"sub-header--wrapper--3Vunm\">\n        <div className=\"sub-header--main-content--22it3\">\n          <h2\n            data-purpose=\"page-title\"\n            className=\"font-heading-serif-xl sub-header--title--2VD8q\"\n          >\n            Project landing page\n          </h2>\n        </div>\n      </div>\n      <div className=\"main-content--wrap_component--2TEkz\">\n\n        <form >\n          <div className=\"form-group\">\n            <label htmlFor=\"title\" className=\"control-label\">\n              Project title\n            </label>\n            <div className=\"form-control-counter-container\">\n              <input\n                placeholder=\"Insert your course title.\"\n                name=\"title\"\n                data-purpose=\"edit-course-title\"\n                maxLength={60}\n                value={projectUpdate.title}\n                onChange={(event) => setProjectUpdate({\n                  ...projectUpdate,\n                  title: event.target.value\n                })}\n                id=\"title\"\n                className=\"form-control\"\n              />\n              <div\n                className=\"form-control-counter\"\n                data-purpose=\"form-control-counter\"\n              >\n                {projectUpdate.title ? projectUpdate.title.length : null}\n              </div>\n            </div>\n          </div>\n          <div className=\"form-group\">\n            <label htmlFor=\"headline\" className=\"control-label\">\n              Project header heading\n            </label>\n            <div className=\"form-control-counter-container\">\n              <input\n                placeholder=\"Insert your course subtitle.\"\n                name=\"headline\"\n                value={header ? header.heading ? header.heading : '' : ''}\n                onChange={event => setHeader({\n                  ...header,\n                  heading: event.target.value\n                })}\n                maxLength={120}\n                id=\"headline\"\n                className=\"form-control\"\n              />\n              <div\n                className=\"form-control-counter\"\n                data-purpose=\"form-control-counter\"\n              >\n                {header ? header.heading ? header.heading.length : null : null}\n              </div>\n            </div>\n          </div>\n\n          <div className=\"form-group\">\n            <label htmlFor=\"description\" className=\"control-label\">\n              Project header description\n            </label>\n            <RTEditor editorValue={header ? header.description : ''} handleChange={(value) =>\n              setHeader(\n                {\n                  ...header,\n                  description: value\n                }\n              )} />\n          </div>\n          <div>\n\n            <div className=\"form-group\">\n              <label htmlFor=\"description\" className=\"control-label\">\n                Project description\n              </label>\n              <RTEditor editorValue={projectUpdate ? projectUpdate.description : ''} handleChange={(value) =>\n                setProjectUpdate(\n                  {\n                    ...projectUpdate,\n                    description: value\n                  }\n                )} />\n            </div>\n            <div>\n              <p>Basic info</p>\n              <div className=\"course-basics-form--inline-fields--3ZuU2\">\n                <div className=\"form-group\">\n                  <label\n                    htmlFor=\"instructional_level\"\n                    className=\"sr-only control-label\"\n                  >\n                    Project instructional level\n                  </label>\n                  <div className=\"form-control-single-select-container\">\n                    <select\n                      title=\"Instructional level\"\n                      id=\"instructional_level\"\n                      className=\"form-control\"\n                      value={projectUpdate.level || -1}\n                      onChange={event => setProjectUpdate({\n                        ...projectUpdate,\n                        level: event.target.value\n                      })}\n                    >\n                      <option value={-1}>-- Select Level --</option>\n                      {levels && levels.map(level => <option key={level.name} value={level.name}>{level.display}</option>)}\n\n                    </select>\n                  </div>\n                </div>\n                <div className=\"form-group\">\n                  <label htmlFor=\"category\" className=\"sr-only control-label\">\n                    Project category\n                  </label>\n                  <div className=\"form-control-single-select-container\">\n                    <select\n                      title=\"Category\"\n                      id=\"category\"\n                      value={projectUpdate.category || -1}\n                      onChange={(event) => {\n                        const newCat = categories && categories.find(cat => cat.id == Number(event.target.value))\n                        if (newCat) setProjectUpdate({\n                          ...projectUpdate,\n                          category: newCat.id\n                        })\n                        setCategory(newCat)\n                      }}\n                      className=\"form-control\"\n                    >\n                      <option value={-1}>-- Select Category --</option>\n                      {categories && categories.map(category => <option key={category.id} value={category.id}>{category.title}</option>)}\n\n                    </select>\n                  </div>\n                </div>\n\n              </div>\n\n              <p>Select Courses for this project</p>\n              <div className=\"course-basics-form--inline-fields--3ZuU2\">\n\n                <div className=\"form-group\">\n                  <label htmlFor=\"courses\" className=\"sr-only control-label\">\n                    Project courses\n                  </label>\n                  <Select\n                    closeMenuOnSelect={false}\n                    onChange={value => {\n                      console.log(value)\n                     value && setProjectCourse(value as CoursePlayerResponse[])\n                    }}\n                    value = {projectCourse}\n                  \n                    getOptionLabel={options => options.title}\n                    getOptionValue={options => options.id.toString()}\n                    isMulti\n                    options={courses}\n\n                  />\n                </div>\n\n              </div>\n\n              <div className=\"form-group\">\n                <label htmlFor=\"headline\" className=\"control-label\">\n                  Let your students know the overall goal of this project\n                </label>\n                <div className=\"form-control-counter-container\">\n                  <input\n                    placeholder=\"Insert your course subtitle.\"\n                    name=\"headline\"\n                    value={projectUpdate.goal || ''}\n                    onChange={event => setProjectUpdate({\n                      ...projectUpdate,\n                      goal: event.target.value\n                    })}\n                    maxLength={120}\n                    id=\"headline\"\n                    className=\"form-control\"\n                  />\n                  <div\n                    className=\"form-control-counter\"\n                    data-purpose=\"form-control-counter\"\n                  >\n                    {projectUpdate.goal ? projectUpdate.goal.length : null}\n                  </div>\n                </div>\n              </div>\n              <div className=\"form-group\">\n                <div>\n                  <div>\n                    <div className=\"label-manager--sublabel--kpb1O\">\n                      <span data-purpose=\"safely-set-inner-html:label-manager:what-is-taught\">\n                        What is <strong>primarily</strong> taught in your project?\n                      </span>\n                      <span className=\"label-manager--tooltip-icon--15XkO overlay-with-pointer cfi cfi-info-circle\" />\n                    </div>\n                  </div>\n                  <div className=\"m0 row\">\n                    <div className=\"col-sm-6 pl0 pr0\">\n                      <span className=\"course-labels--course-labels--gbBja\">\n                        {tags && tags.map(tag => (\n                          <>\n                            <span\n                              key={tag}\n                              className=\"course-labels--course-label--1Vi_C label label-default\"\n                            >\n                              <span>{tag}</span>\n                              <span\n                                className=\"cfi cfi-close course-labels--course-label__icon--cBTbb\"\n\n                                role=\"button\"\n                                tabIndex={0}\n                              />\n                            </span>\n                          </>\n                        ))}\n\n                      </span>\n                      <Autosuggest\n                        suggestions={suggestions}\n                        renderSuggestion={renderSuggestion}\n                        inputProps={suggestInputProps}\n                        theme={theme}\n                        onSuggestionSelected={(event, { suggestion }) => {\n                          if (suggestion.isAddNew) {\n                            setTags([\n                              ...tags,\n                              suggestionValue\n                            ])\n                          } else {\n                            setTags([\n                              ...tags,\n                              suggestion.name\n                            ])\n                          }\n                        }}\n                        onSuggestionsClearRequested={() => {\n                          setSuggestions([])\n                        }}\n                        getSuggestionValue={(suggestion) => {\n                          if (suggestion.isAddNew) return suggestionValue\n                          return suggestion.name\n                        }}\n                        onSuggestionsFetchRequested={onSuggestionsFetchRequested} />\n                    </div>\n\n                  </div>\n\n\n                </div>\n              </div>\n            </div>\n            <div className=\"form-group\">\n              <label className=\"control-label\">Course image</label>\n              <div>\n                <div className=\"image-upload-preview-with-crop--stack--URrDD\">\n                  <div className=\"image-upload-preview-with-crop--previewWrapper--1eYsy\">\n                    <div className=\"image-upload-preview-with-crop--imageWrapper--fNINE\">\n                      <img\n\n                        alt=\"Course image\"\n\n                        src={projectUpdate.thumbnail_url ? projectUpdate.thumbnail_url : \"https://s.udemycdn.com/course/750x422/placeholder.jpg\"}\n                      />\n                    </div>\n                    <div className=\"image-upload-preview-with-crop--tips--17Lj2\" />\n                  </div>\n                  <div className=\"image-upload-preview-with-crop--form-element--2Nnsf\">\n                    <div>\n                      <p>\n                        <span>\n                          Upload your project image here. Important guidelines: 750x422 pixels;\n                          .jpg, .jpeg,. gif, or .png. no text on the image.\n                        </span>\n                      </p>\n                    </div>\n                    <div\n                      className=\"file-uploader--file-selector--SGCns\"\n\n                    >\n                      {uploading ? <UploadProgress progress={progress} changeUpload={() => setUploading(!uploading)} /> : (\n                        <><input\n                          accept=\".gif,.jpg,.jpeg,.png\"\n                          type=\"file\"\n                          onChange={event => onUpload(event.target.files[0], onProgress)}\n                          id=\"FileUploaderS3-0--24\"\n                          className=\"sr-only\"\n                        />\n                          <label htmlFor=\"FileUploaderS3-0--24\">\n                            <span className=\"input-group\">\n                              <div className=\"form-control file-uploader--fake-file-input--1_ohV\">\n                                No file selected\n                              </div>\n                              <span className=\"input-group-btn\">\n                                <div data-type=\"button\" className=\"btn btn-default\">\n                                  Upload File\n                                </div>\n                              </span>\n                            </span>\n                          </label>\n                        </>)}\n                    </div>\n                    <input type=\"hidden\" />\n                  </div>\n                </div>\n              </div>\n            </div>\n\n\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default LandingPage;\n"],"sourceRoot":""}