function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function _iterableToArrayLimit(arr, i) { if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }

import { ArrowChevronDownIcon } from '@codecademy/gamut-icons';
import { theme } from '@codecademy/gamut-styles';
import { css } from '@emotion/react';
import React, { useMemo, useState } from 'react';
import ReactSelect, { components as SelectDropdownElements } from 'react-select';
import { colorStates, conditionalBorderStyles, formDropdownStyles, formFieldStyles } from './styles/shared';
import { parseOptions } from './utils';
var DropdownIndicator = SelectDropdownElements.DropdownIndicator,
    SelectContainer = SelectDropdownElements.SelectContainer;

var ChevronDropdown = function ChevronDropdown(props) {
  return /*#__PURE__*/React.createElement(DropdownIndicator, props, /*#__PURE__*/React.createElement(ArrowChevronDownIcon, {
    size: 16
  }));
};

var CustomContainer = function CustomContainer(_ref) {
  var children = _ref.children,
      rest = _objectWithoutProperties(_ref, ["children"]);

  var inputProps = rest.selectProps.inputProps;
  var value = rest.hasValue ? rest.getValue()[0].value : '';
  return /*#__PURE__*/React.createElement(SelectContainer, rest, children, /*#__PURE__*/React.createElement("input", _extends({
    type: "hidden",
    value: value
  }, inputProps)));
};

var selectBaseStyles = function selectBaseStyles(_ref2) {
  var error = _ref2.error,
      activated = _ref2.activated,
      isFocused = _ref2.isFocused,
      isDisabled = _ref2.isDisabled;
  return /*#__PURE__*/css(formFieldStyles, " ", conditionalBorderStyles({
    error: error,
    activated: activated,
    isFocused: isFocused,
    isDisabled: isDisabled
  }), " line-height:", theme.lineHeight.base, ";display:flex;;label:selectBaseStyles;" + (process.env.NODE_ENV === "production" ? "" : "/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9Gb3JtL1NlbGVjdERyb3Bkb3duLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUE2RWdDIiwiZmlsZSI6Ii4uLy4uL3NyYy9Gb3JtL1NlbGVjdERyb3Bkb3duLnRzeCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFycm93Q2hldnJvbkRvd25JY29uIH0gZnJvbSAnQGNvZGVjYWRlbXkvZ2FtdXQtaWNvbnMnO1xuaW1wb3J0IHsgdGhlbWUgfSBmcm9tICdAY29kZWNhZGVteS9nYW11dC1zdHlsZXMnO1xuaW1wb3J0IHsgY3NzIH0gZnJvbSAnQGVtb3Rpb24vcmVhY3QnO1xuaW1wb3J0IFJlYWN0LCB7XG4gIFJlYWN0Tm9kZSxcbiAgU2VsZWN0SFRNTEF0dHJpYnV0ZXMsXG4gIHVzZU1lbW8sXG4gIHVzZVN0YXRlLFxufSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUmVhY3RTZWxlY3QsIHtcbiAgY29tcG9uZW50cyBhcyBTZWxlY3REcm9wZG93bkVsZW1lbnRzLFxuICBDb250YWluZXJQcm9wcyxcbiAgSW5kaWNhdG9yUHJvcHMsXG4gIE5hbWVkUHJvcHMsXG4gIE9wdGlvblR5cGVCYXNlLFxuICBTdHlsZXNDb25maWcsXG59IGZyb20gJ3JlYWN0LXNlbGVjdCc7XG5cbmltcG9ydCB7IFNlbGVjdENvbXBvbmVudFByb3BzIH0gZnJvbSAnLi9TZWxlY3QnO1xuaW1wb3J0IHtcbiAgY29sb3JTdGF0ZXMsXG4gIGNvbmRpdGlvbmFsQm9yZGVyU3R5bGVzLFxuICBmb3JtRHJvcGRvd25TdHlsZXMsXG4gIGZvcm1GaWVsZFN0eWxlcyxcbn0gZnJvbSAnLi9zdHlsZXMvc2hhcmVkJztcbmltcG9ydCB7IGNvbmRpdGlvbmFsU3R5bGVQcm9wcyB9IGZyb20gJy4vc3R5bGVzL3NoYXJlZC1zeXN0ZW0tcHJvcHMnO1xuaW1wb3J0IHsgcGFyc2VPcHRpb25zIH0gZnJvbSAnLi91dGlscyc7XG5cbmNvbnN0IHsgRHJvcGRvd25JbmRpY2F0b3IsIFNlbGVjdENvbnRhaW5lciB9ID0gU2VsZWN0RHJvcGRvd25FbGVtZW50cztcblxudHlwZSBTZWxlY3REcm9wZG93bkJhc2VQcm9wcyA9IE9taXQ8XG4gIFNlbGVjdENvbXBvbmVudFByb3BzLFxuICAnb25DaGFuZ2UnIHwgJ2RlZmF1bHRWYWx1ZSdcbj47XG5pbnRlcmZhY2UgU2VsZWN0RHJvcGRvd25Qcm9wc1xuICBleHRlbmRzIFNlbGVjdERyb3Bkb3duQmFzZVByb3BzLFxuICAgIFBpY2s8TmFtZWRQcm9wcywgJ29uQ2hhbmdlJz4sXG4gICAgUGljazxTZWxlY3RIVE1MQXR0cmlidXRlczxIVE1MU2VsZWN0RWxlbWVudD4sICd2YWx1ZScgfCAnZGlzYWJsZWQnPiB7XG4gIGlucHV0UHJvcHM/OiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuPjtcbiAgbmFtZT86IHN0cmluZztcbiAgcGxhY2Vob2xkZXI/OiBzdHJpbmc7XG59XG5cbnR5cGUgT3B0aW9uU3RyaWN0ID0ge1xuICBsYWJlbDogc3RyaW5nO1xuICB2YWx1ZTogc3RyaW5nO1xufTtcblxudHlwZSBDdXN0b21Db250YWluZXJQcm9wcyA9IENvbnRhaW5lclByb3BzPE9wdGlvblN0cmljdCwgZmFsc2U+ICYge1xuICBjaGlsZHJlbj86IFJlYWN0Tm9kZVtdO1xufTtcblxuY29uc3QgQ2hldnJvbkRyb3Bkb3duID0gKHByb3BzOiBJbmRpY2F0b3JQcm9wczxPcHRpb25UeXBlQmFzZSwgZmFsc2U+KSA9PiB7XG4gIHJldHVybiAoXG4gICAgPERyb3Bkb3duSW5kaWNhdG9yIHsuLi5wcm9wc30+XG4gICAgICA8QXJyb3dDaGV2cm9uRG93bkljb24gc2l6ZT17MTZ9IC8+XG4gICAgPC9Ecm9wZG93bkluZGljYXRvcj5cbiAgKTtcbn07XG5cbmNvbnN0IEN1c3RvbUNvbnRhaW5lciA9ICh7IGNoaWxkcmVuLCAuLi5yZXN0IH06IEN1c3RvbUNvbnRhaW5lclByb3BzKSA9PiB7XG4gIGNvbnN0IHsgaW5wdXRQcm9wcyB9ID0gcmVzdC5zZWxlY3RQcm9wcztcbiAgY29uc3QgdmFsdWUgPSByZXN0Lmhhc1ZhbHVlID8gcmVzdC5nZXRWYWx1ZSgpWzBdLnZhbHVlIDogJyc7XG5cbiAgcmV0dXJuIChcbiAgICA8U2VsZWN0Q29udGFpbmVyIHsuLi5yZXN0fT5cbiAgICAgIHtjaGlsZHJlbn1cbiAgICAgIDxpbnB1dCB0eXBlPVwiaGlkZGVuXCIgdmFsdWU9e3ZhbHVlfSB7Li4uaW5wdXRQcm9wc30gLz5cbiAgICA8L1NlbGVjdENvbnRhaW5lcj5cbiAgKTtcbn07XG5cbmNvbnN0IHNlbGVjdEJhc2VTdHlsZXMgPSAoe1xuICBlcnJvcixcbiAgYWN0aXZhdGVkLFxuICBpc0ZvY3VzZWQsXG4gIGlzRGlzYWJsZWQsXG59OiBjb25kaXRpb25hbFN0eWxlUHJvcHMpID0+IGNzc2BcbiAgJHtmb3JtRmllbGRTdHlsZXN9XG4gICR7Y29uZGl0aW9uYWxCb3JkZXJTdHlsZXMoeyBlcnJvciwgYWN0aXZhdGVkLCBpc0ZvY3VzZWQsIGlzRGlzYWJsZWQgfSl9XG4gIGxpbmUtaGVpZ2h0OiAke3RoZW1lLmxpbmVIZWlnaHQuYmFzZX07XG4gIGRpc3BsYXk6IGZsZXg7XG5gO1xuXG5jb25zdCBlcnJvckNvbG9yU3RhdGUgPSAoZXJyb3I6IGJvb2xlYW4pID0+IHtcbiAgY29uc3QgY29sb3IgPSBlcnJvciA/IGNvbG9yU3RhdGVzLmVycm9yLmNvbG9yIDogY29sb3JTdGF0ZXMuYmFzZS5jb2xvcjtcbiAgcmV0dXJuIGNvbG9yO1xufTtcblxuY29uc3QgY3VzdG9tU3R5bGVzOiBTdHlsZXNDb25maWc8T3B0aW9uVHlwZUJhc2UsIGZhbHNlPiA9IHtcbiAgZHJvcGRvd25JbmRpY2F0b3I6IChwcm92aWRlZCwgc3RhdGUpID0+ICh7XG4gICAgY29sb3I6IGVycm9yQ29sb3JTdGF0ZShzdGF0ZS5zZWxlY3RQcm9wcy5lcnJvciksXG4gICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgIHBhZGRpbmc6ICcwJyxcbiAgICBwb2ludGVyRXZlbnRzOiAnbm9uZScsXG4gIH0pLFxuXG4gIGNvbnRhaW5lcjogKHByb3ZpZGVkKSA9PiAoe1xuICAgIC4uLnByb3ZpZGVkLFxuICAgIHBvaW50ZXJFdmVudHM6ICd2aXNpYmxlJyxcbiAgICBjdXJzb3I6ICdwb2ludGVyJyxcbiAgICB3aWR0aDogJzEwMCUnLFxuICAgIG1pbldpZHRoOiAnN3JlbScsXG4gIH0pLFxuXG4gIG1lbnU6IChwcm92aWRlZCwgc3RhdGUpID0+ICh7XG4gICAgLi4ucHJvdmlkZWQsXG4gICAgLi4uZm9ybURyb3Bkb3duU3R5bGVzKHN0YXRlLnNlbGVjdFByb3BzLmVycm9yKSxcbiAgfSksXG5cbiAgb3B0aW9uOiAocHJvdmlkZWQsIHN0YXRlKSA9PiAoe1xuICAgIHBhZGRpbmc6ICcxNHB4IDExcHggMTRweCAxMXB4JyxcbiAgICBjdXJzb3I6ICdwb2ludGVyJyxcbiAgICBiYWNrZ3JvdW5kQ29sb3I6XG4gICAgICAoc3RhdGUuaXNTZWxlY3RlZCAmJiBjb2xvclN0YXRlcy5kcm9wZG93bi5zZWxlY3RlZC5iYWNrZ3JvdW5kQ29sb3IpIHx8XG4gICAgICAoc3RhdGUuaXNGb2N1c2VkICYmIGNvbG9yU3RhdGVzLmRyb3Bkb3duLmZvY3VzZWQuYmFja2dyb3VuZENvbG9yKSB8fFxuICAgICAgJ3RyYW5zcGFyZW50JyxcbiAgICAnJjpob3Zlcic6IHtcbiAgICAgIGJhY2tncm91bmRDb2xvcjogY29sb3JTdGF0ZXMuZHJvcGRvd24uZm9jdXNlZC5iYWNrZ3JvdW5kQ29sb3IsXG4gICAgfSxcbiAgfSksXG5cbiAgY29udHJvbDogKHByb3ZpZGVkLCBzdGF0ZSkgPT4gKHtcbiAgICAuLi5zZWxlY3RCYXNlU3R5bGVzKHtcbiAgICAgIGVycm9yOiBzdGF0ZS5zZWxlY3RQcm9wcy5lcnJvcixcbiAgICAgIGFjdGl2YXRlZDogc3RhdGUuc2VsZWN0UHJvcHMuYWN0aXZhdGVkLFxuICAgICAgaXNGb2N1c2VkOiBzdGF0ZS5pc0ZvY3VzZWQsXG4gICAgICBpc0Rpc2FibGVkOiBzdGF0ZS5pc0Rpc2FibGVkLFxuICAgIH0pLFxuICB9KSxcblxuICBzaW5nbGVWYWx1ZTogKHByb3ZpZGVkLCBzdGF0ZSkgPT4gKHtcbiAgICBjb2xvcjogZXJyb3JDb2xvclN0YXRlKHN0YXRlLnNlbGVjdFByb3BzLmVycm9yKSxcbiAgICBkaXNwbGF5OiAnZmxleCcsXG4gIH0pLFxuXG4gIHZhbHVlQ29udGFpbmVyOiAocHJvdmlkZWQpID0+ICh7XG4gICAgLi4ucHJvdmlkZWQsXG4gICAgcGFkZGluZzogMCxcbiAgfSksXG59O1xuXG5jb25zdCBkZWZhdWx0UHJvcHMgPSB7XG4gIG5hbWU6IHVuZGVmaW5lZCxcbiAgaXNTZWFyY2hhYmxlOiBmYWxzZSxcbiAgaXNNdWx0aTogZmFsc2UsXG4gIHN0eWxlczogY3VzdG9tU3R5bGVzLFxuICBjb21wb25lbnRzOiB7XG4gICAgRHJvcGRvd25JbmRpY2F0b3I6IENoZXZyb25Ecm9wZG93bixcbiAgICBJbmRpY2F0b3JTZXBhcmF0b3I6ICgpID0+IG51bGwsXG4gICAgU2VsZWN0Q29udGFpbmVyOiBDdXN0b21Db250YWluZXIsXG4gIH0sXG59O1xuXG5leHBvcnQgY29uc3QgU2VsZWN0RHJvcGRvd246IFJlYWN0LkZDPFNlbGVjdERyb3Bkb3duUHJvcHM+ID0gKHtcbiAgb3B0aW9ucyxcbiAgZXJyb3IsXG4gIGlkLFxuICBkaXNhYmxlZCxcbiAgb25DaGFuZ2UsXG4gIHZhbHVlID0gdW5kZWZpbmVkLFxuICBuYW1lLFxuICBwbGFjZWhvbGRlciA9ICdTZWxlY3QgYW4gb3B0aW9uJyxcbiAgaW5wdXRQcm9wcyxcbiAgLi4ucmVzdFxufSkgPT4ge1xuICBjb25zdCBbYWN0aXZhdGVkLCBzZXRBY3RpdmF0ZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBiYXNlSW5wdXRQcm9wcyA9IHsgbmFtZSB9O1xuXG4gIGNvbnN0IGNoYW5nZUhhbmRsZXIgPSAob3B0aW9uRXZlbnQ6IE9wdGlvblN0cmljdCkgPT4ge1xuICAgIG9uQ2hhbmdlPy4ob3B0aW9uRXZlbnQsIHtcbiAgICAgIGFjdGlvbjogJ3NlbGVjdC1vcHRpb24nLFxuICAgICAgb3B0aW9uOiBvcHRpb25FdmVudCxcbiAgICB9KTtcbiAgICBzZXRBY3RpdmF0ZWQodHJ1ZSk7XG4gIH07XG5cbiAgY29uc3Qgc2VsZWN0T3B0aW9ucyA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIHJldHVybiBwYXJzZU9wdGlvbnMoeyBvcHRpb25zLCBpZCB9KTtcbiAgfSwgW29wdGlvbnMsIGlkXSk7XG5cbiAgY29uc3QgcGFyc2VkVmFsdWUgPSB1c2VNZW1vKCgpID0+IHtcbiAgICBjb25zdCBjdXJyZW50VmFsdWUgPSBzZWxlY3RPcHRpb25zLmZpbmQoXG4gICAgICAoeyB2YWx1ZTogb3B0aW9uVmFsdWUgfSkgPT4gb3B0aW9uVmFsdWUgPT09IHZhbHVlXG4gICAgKTtcblxuICAgIHJldHVybiBjdXJyZW50VmFsdWU7XG4gIH0sIFtzZWxlY3RPcHRpb25zLCB2YWx1ZV0pO1xuXG4gIHJldHVybiAoXG4gICAgPFJlYWN0U2VsZWN0XG4gICAgICB7Li4uZGVmYXVsdFByb3BzfVxuICAgICAgaWQ9e2lkIHx8IHJlc3QuaHRtbEZvcn1cbiAgICAgIHZhbHVlPXtwYXJzZWRWYWx1ZX1cbiAgICAgIGFjdGl2YXRlZD17YWN0aXZhdGVkfVxuICAgICAgZXJyb3I9e0Jvb2xlYW4oZXJyb3IpfVxuICAgICAgb25DaGFuZ2U9e2NoYW5nZUhhbmRsZXJ9XG4gICAgICBpbnB1dFByb3BzPXt7IC4uLmlucHV0UHJvcHMsIC4uLmJhc2VJbnB1dFByb3BzIH19XG4gICAgICBpc0Rpc2FibGVkPXtkaXNhYmxlZH1cbiAgICAgIG9wdGlvbnM9e3NlbGVjdE9wdGlvbnN9XG4gICAgICBwbGFjZWhvbGRlcj17cGxhY2Vob2xkZXJ9XG4gICAgICB7Li4ucmVzdH1cbiAgICAvPlxuICApO1xufTtcbiJdfQ== */"));
};

var errorColorState = function errorColorState(error) {
  var color = error ? colorStates.error.color : colorStates.base.color;
  return color;
};

var customStyles = {
  dropdownIndicator: function dropdownIndicator(provided, state) {
    return {
      color: errorColorState(state.selectProps.error),
      display: 'flex',
      padding: '0',
      pointerEvents: 'none'
    };
  },
  container: function container(provided) {
    return _objectSpread(_objectSpread({}, provided), {}, {
      pointerEvents: 'visible',
      cursor: 'pointer',
      width: '100%',
      minWidth: '7rem'
    });
  },
  menu: function menu(provided, state) {
    return _objectSpread(_objectSpread({}, provided), formDropdownStyles(state.selectProps.error));
  },
  option: function option(provided, state) {
    return {
      padding: '14px 11px 14px 11px',
      cursor: 'pointer',
      backgroundColor: state.isSelected && colorStates.dropdown.selected.backgroundColor || state.isFocused && colorStates.dropdown.focused.backgroundColor || 'transparent',
      '&:hover': {
        backgroundColor: colorStates.dropdown.focused.backgroundColor
      }
    };
  },
  control: function control(provided, state) {
    return _objectSpread({}, selectBaseStyles({
      error: state.selectProps.error,
      activated: state.selectProps.activated,
      isFocused: state.isFocused,
      isDisabled: state.isDisabled
    }));
  },
  singleValue: function singleValue(provided, state) {
    return {
      color: errorColorState(state.selectProps.error),
      display: 'flex'
    };
  },
  valueContainer: function valueContainer(provided) {
    return _objectSpread(_objectSpread({}, provided), {}, {
      padding: 0
    });
  }
};
var defaultProps = {
  name: undefined,
  isSearchable: false,
  isMulti: false,
  styles: customStyles,
  components: {
    DropdownIndicator: ChevronDropdown,
    IndicatorSeparator: function IndicatorSeparator() {
      return null;
    },
    SelectContainer: CustomContainer
  }
};
export var SelectDropdown = function SelectDropdown(_ref3) {
  var options = _ref3.options,
      error = _ref3.error,
      id = _ref3.id,
      disabled = _ref3.disabled,
      onChange = _ref3.onChange,
      _ref3$value = _ref3.value,
      value = _ref3$value === void 0 ? undefined : _ref3$value,
      name = _ref3.name,
      _ref3$placeholder = _ref3.placeholder,
      placeholder = _ref3$placeholder === void 0 ? 'Select an option' : _ref3$placeholder,
      inputProps = _ref3.inputProps,
      rest = _objectWithoutProperties(_ref3, ["options", "error", "id", "disabled", "onChange", "value", "name", "placeholder", "inputProps"]);

  var _useState = useState(false),
      _useState2 = _slicedToArray(_useState, 2),
      activated = _useState2[0],
      setActivated = _useState2[1];

  var baseInputProps = {
    name: name
  };

  var changeHandler = function changeHandler(optionEvent) {
    onChange === null || onChange === void 0 ? void 0 : onChange(optionEvent, {
      action: 'select-option',
      option: optionEvent
    });
    setActivated(true);
  };

  var selectOptions = useMemo(function () {
    return parseOptions({
      options: options,
      id: id
    });
  }, [options, id]);
  var parsedValue = useMemo(function () {
    var currentValue = selectOptions.find(function (_ref4) {
      var optionValue = _ref4.value;
      return optionValue === value;
    });
    return currentValue;
  }, [selectOptions, value]);
  return /*#__PURE__*/React.createElement(ReactSelect, _extends({}, defaultProps, {
    id: id || rest.htmlFor,
    value: parsedValue,
    activated: activated,
    error: Boolean(error),
    onChange: changeHandler,
    inputProps: _objectSpread(_objectSpread({}, inputProps), baseInputProps),
    isDisabled: disabled,
    options: selectOptions,
    placeholder: placeholder
  }, rest));
};