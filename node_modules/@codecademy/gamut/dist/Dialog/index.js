import _styled from "@emotion/styled/base";

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }

import { MiniDeleteIcon } from '@codecademy/gamut-icons';
import { system } from '@codecademy/gamut-styles';
import React from 'react';
import { Box } from '../Box';
import { FillButton, IconButton, TextButton } from '../Button';
import { FloatingCard } from '../FloatingCard/FloatingCard';
import { Overlay } from '../Overlay';
import { Text } from '../Typography';

var ShroudedOverlay = /*#__PURE__*/_styled(Overlay, {
  target: "e1nbypmr1",
  label: "ShroudedOverlay"
})(system.css({
  bg: 'shadow-opaque'
}), process.env.NODE_ENV === "production" ? "" : "/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9EaWFsb2cvaW5kZXgudHN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQVd3QiIsImZpbGUiOiIuLi8uLi9zcmMvRGlhbG9nL2luZGV4LnRzeCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE1pbmlEZWxldGVJY29uIH0gZnJvbSAnQGNvZGVjYWRlbXkvZ2FtdXQtaWNvbnMnO1xuaW1wb3J0IHsgc3lzdGVtIH0gZnJvbSAnQGNvZGVjYWRlbXkvZ2FtdXQtc3R5bGVzJztcbmltcG9ydCBzdHlsZWQgZnJvbSAnQGVtb3Rpb24vc3R5bGVkJztcbmltcG9ydCBSZWFjdCwgeyBDb21wb25lbnRQcm9wcyB9IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IHsgQm94IH0gZnJvbSAnLi4vQm94JztcbmltcG9ydCB7IEZpbGxCdXR0b24sIEljb25CdXR0b24sIFRleHRCdXR0b24gfSBmcm9tICcuLi9CdXR0b24nO1xuaW1wb3J0IHsgRmxvYXRpbmdDYXJkIH0gZnJvbSAnLi4vRmxvYXRpbmdDYXJkL0Zsb2F0aW5nQ2FyZCc7XG5pbXBvcnQgeyBPdmVybGF5LCBPdmVybGF5UHJvcHMgfSBmcm9tICcuLi9PdmVybGF5JztcbmltcG9ydCB7IFRleHQgfSBmcm9tICcuLi9UeXBvZ3JhcGh5JztcblxuY29uc3QgU2hyb3VkZWRPdmVybGF5ID0gc3R5bGVkKE92ZXJsYXkpKHN5c3RlbS5jc3MoeyBiZzogJ3NoYWRvdy1vcGFxdWUnIH0pKTtcblxuZXhwb3J0IGludGVyZmFjZSBEaWFsb2dQcm9wc1xuICBleHRlbmRzIFBpY2s8XG4gICAgT3ZlcmxheVByb3BzLFxuICAgICdpc09wZW4nIHwgJ29uUmVxdWVzdENsb3NlJyB8ICdjbGlja091dHNpZGVDbG9zZXMnIHwgJ2VzY2FwZUNsb3NlcydcbiAgPiB7XG4gIHNpemU/OiBDb21wb25lbnRQcm9wczx0eXBlb2YgRGlhbG9nQ29udGFpbmVyPlsnc2l6ZSddO1xuICB0aXRsZTogUmVhY3QuUmVhY3ROb2RlO1xuICBjaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlO1xuICBjb25maXJtQ3RhOiB7XG4gICAgY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZTtcbiAgICBvbkNsaWNrPzogKCkgPT4gdm9pZDtcbiAgfTtcbiAgY2FuY2VsQ3RhPzoge1xuICAgIGNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGU7XG4gICAgb25DbGljaz86ICgpID0+IHZvaWQ7XG4gIH07XG59XG5cbmNvbnN0IERpYWxvZ0NvbnRhaW5lciA9IHN0eWxlZChGbG9hdGluZ0NhcmQpKFxuICBzeXN0ZW0udmFyaWFudCh7XG4gICAgcHJvcDogJ3NpemUnLFxuICAgIGRlZmF1bHRWYXJpYW50OiAnc21hbGwnLFxuICAgIGJhc2U6IHtcbiAgICAgIGRpc3BsYXk6ICdncmlkJyxcbiAgICAgIHA6IDI0LFxuICAgICAgcm93R2FwOiAxMixcbiAgICAgIGNvbHVtbkdhcDogMTYsXG4gICAgICBncmlkVGVtcGxhdGVDb2x1bW5zOiAnMWZyIG1pbi1jb250ZW50IDJyZW0nLFxuICAgICAgZ3JpZFRlbXBsYXRlUm93czogJ21heC1jb250ZW50IDFmciBtYXgtY29udGVudCcsXG4gICAgICBncmlkVGVtcGxhdGVBcmVhczogYCd0aXRsZSB0aXRsZSBjbG9zZSdcbiAgJ2NvbnRlbnQgY29udGVudCBjb250ZW50J1xuICAnY2FuY2VsIGNvbmZpcm0gY29uZmlybSdgLFxuICAgIH0sXG4gICAgdmFyaWFudHM6IHtcbiAgICAgIHNtYWxsOiB7IHdpZHRoOiAnNDAwcHgnLCBtaW5IZWlnaHQ6ICcxNzBweCcgfSxcbiAgICAgIG1lZGl1bTogeyB3aWR0aDogJzU0MHB4JywgbWluSGVpZ2h0OiAnMjQwcHgnIH0sXG4gICAgfSxcbiAgfSlcbik7XG5cbmV4cG9ydCBjb25zdCBEaWFsb2c6IFJlYWN0LkZDPERpYWxvZ1Byb3BzPiA9ICh7XG4gIHRpdGxlLFxuICBjaGlsZHJlbixcbiAgY29uZmlybUN0YSxcbiAgY2FuY2VsQ3RhLFxuICBvblJlcXVlc3RDbG9zZSxcbiAgc2l6ZSA9ICdzbWFsbCcsXG4gIC4uLnJlc3Rcbn0pID0+IHtcbiAgY29uc3Qgb25Db25maXJtID0gKCkgPT4ge1xuICAgIG9uUmVxdWVzdENsb3NlKCk7XG4gICAgY29uZmlybUN0YS5vbkNsaWNrPy4oKTtcbiAgfTtcblxuICBjb25zdCBvbkNhbmNlbCA9ICgpID0+IHtcbiAgICBvblJlcXVlc3RDbG9zZSgpO1xuICAgIGNhbmNlbEN0YT8ub25DbGljaz8uKCk7XG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICA8U2hyb3VkZWRPdmVybGF5IG9uUmVxdWVzdENsb3NlPXtvbkNhbmNlbH0gey4uLnJlc3R9PlxuICAgICAgPERpYWxvZ0NvbnRhaW5lclxuICAgICAgICBzaXplPXtzaXplfVxuICAgICAgICBhcmlhLWhpZGRlbj1cImZhbHNlXCJcbiAgICAgICAgYXJpYS1tb2RhbD1cInRydWVcIlxuICAgICAgICByb2xlPVwiZGlhbG9nXCJcbiAgICAgICAgcGF0dGVybj1cImNoZWNrZXJEZW5zZVwiXG4gICAgICA+XG4gICAgICAgIDxUZXh0IGFzPVwiaDJcIiBmb250U2l6ZT17MjB9IGxpbmVIZWlnaHQ9XCJiYXNlXCIgZ3JpZEFyZWE9XCJ0aXRsZVwiPlxuICAgICAgICAgIHt0aXRsZX1cbiAgICAgICAgPC9UZXh0PlxuICAgICAgICA8SWNvbkJ1dHRvblxuICAgICAgICAgIGFyaWEtbGFiZWw9XCJDbG9zZSBEaWFsb2dcIlxuICAgICAgICAgIHNpemU9XCJzbWFsbFwiXG4gICAgICAgICAgYWxpZ25TZWxmPVwic3RhcnRcIlxuICAgICAgICAgIHZhcmlhbnQ9XCJzZWNvbmRhcnlcIlxuICAgICAgICAgIGljb249e01pbmlEZWxldGVJY29ufVxuICAgICAgICAgIG9uQ2xpY2s9e29uQ2FuY2VsfVxuICAgICAgICAgIGdyaWRBcmVhPVwiY2xvc2VcIlxuICAgICAgICAvPlxuICAgICAgICA8Qm94IGFzPVwiZGl2XCIgZ3JpZEFyZWE9XCJjb250ZW50XCIgZGF0YS10ZXN0aWQ9XCJkaWFsb2ctY29udGVudFwiPlxuICAgICAgICAgIHtjaGlsZHJlbn1cbiAgICAgICAgPC9Cb3g+XG4gICAgICAgIHtjYW5jZWxDdGEgJiYgKFxuICAgICAgICAgIDxUZXh0QnV0dG9uXG4gICAgICAgICAgICB7Li4uY2FuY2VsQ3RhfVxuICAgICAgICAgICAgb25DbGljaz17b25DYW5jZWx9XG4gICAgICAgICAgICBqdXN0aWZ5U2VsZj1cImVuZFwiXG4gICAgICAgICAgICBncmlkQXJlYT1cImNhbmNlbFwiXG4gICAgICAgICAgLz5cbiAgICAgICAgKX1cbiAgICAgICAgPEZpbGxCdXR0b24gey4uLmNvbmZpcm1DdGF9IG9uQ2xpY2s9e29uQ29uZmlybX0gZ3JpZEFyZWE9XCJjb25maXJtXCIgLz5cbiAgICAgIDwvRGlhbG9nQ29udGFpbmVyPlxuICAgIDwvU2hyb3VkZWRPdmVybGF5PlxuICApO1xufTtcbiJdfQ== */");

var DialogContainer = /*#__PURE__*/_styled(FloatingCard, {
  target: "e1nbypmr0",
  label: "DialogContainer"
})(system.variant({
  prop: 'size',
  defaultVariant: 'small',
  base: {
    display: 'grid',
    p: 24,
    rowGap: 12,
    columnGap: 16,
    gridTemplateColumns: '1fr min-content 2rem',
    gridTemplateRows: 'max-content 1fr max-content',
    gridTemplateAreas: "'title title close'\n  'content content content'\n  'cancel confirm confirm'"
  },
  variants: {
    small: {
      width: '400px',
      minHeight: '170px'
    },
    medium: {
      width: '540px',
      minHeight: '240px'
    }
  }
}), process.env.NODE_ENV === "production" ? "" : "/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9EaWFsb2cvaW5kZXgudHN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQStCd0IiLCJmaWxlIjoiLi4vLi4vc3JjL0RpYWxvZy9pbmRleC50c3giLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBNaW5pRGVsZXRlSWNvbiB9IGZyb20gJ0Bjb2RlY2FkZW15L2dhbXV0LWljb25zJztcbmltcG9ydCB7IHN5c3RlbSB9IGZyb20gJ0Bjb2RlY2FkZW15L2dhbXV0LXN0eWxlcyc7XG5pbXBvcnQgc3R5bGVkIGZyb20gJ0BlbW90aW9uL3N0eWxlZCc7XG5pbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50UHJvcHMgfSBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCB7IEJveCB9IGZyb20gJy4uL0JveCc7XG5pbXBvcnQgeyBGaWxsQnV0dG9uLCBJY29uQnV0dG9uLCBUZXh0QnV0dG9uIH0gZnJvbSAnLi4vQnV0dG9uJztcbmltcG9ydCB7IEZsb2F0aW5nQ2FyZCB9IGZyb20gJy4uL0Zsb2F0aW5nQ2FyZC9GbG9hdGluZ0NhcmQnO1xuaW1wb3J0IHsgT3ZlcmxheSwgT3ZlcmxheVByb3BzIH0gZnJvbSAnLi4vT3ZlcmxheSc7XG5pbXBvcnQgeyBUZXh0IH0gZnJvbSAnLi4vVHlwb2dyYXBoeSc7XG5cbmNvbnN0IFNocm91ZGVkT3ZlcmxheSA9IHN0eWxlZChPdmVybGF5KShzeXN0ZW0uY3NzKHsgYmc6ICdzaGFkb3ctb3BhcXVlJyB9KSk7XG5cbmV4cG9ydCBpbnRlcmZhY2UgRGlhbG9nUHJvcHNcbiAgZXh0ZW5kcyBQaWNrPFxuICAgIE92ZXJsYXlQcm9wcyxcbiAgICAnaXNPcGVuJyB8ICdvblJlcXVlc3RDbG9zZScgfCAnY2xpY2tPdXRzaWRlQ2xvc2VzJyB8ICdlc2NhcGVDbG9zZXMnXG4gID4ge1xuICBzaXplPzogQ29tcG9uZW50UHJvcHM8dHlwZW9mIERpYWxvZ0NvbnRhaW5lcj5bJ3NpemUnXTtcbiAgdGl0bGU6IFJlYWN0LlJlYWN0Tm9kZTtcbiAgY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZTtcbiAgY29uZmlybUN0YToge1xuICAgIGNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGU7XG4gICAgb25DbGljaz86ICgpID0+IHZvaWQ7XG4gIH07XG4gIGNhbmNlbEN0YT86IHtcbiAgICBjaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlO1xuICAgIG9uQ2xpY2s/OiAoKSA9PiB2b2lkO1xuICB9O1xufVxuXG5jb25zdCBEaWFsb2dDb250YWluZXIgPSBzdHlsZWQoRmxvYXRpbmdDYXJkKShcbiAgc3lzdGVtLnZhcmlhbnQoe1xuICAgIHByb3A6ICdzaXplJyxcbiAgICBkZWZhdWx0VmFyaWFudDogJ3NtYWxsJyxcbiAgICBiYXNlOiB7XG4gICAgICBkaXNwbGF5OiAnZ3JpZCcsXG4gICAgICBwOiAyNCxcbiAgICAgIHJvd0dhcDogMTIsXG4gICAgICBjb2x1bW5HYXA6IDE2LFxuICAgICAgZ3JpZFRlbXBsYXRlQ29sdW1uczogJzFmciBtaW4tY29udGVudCAycmVtJyxcbiAgICAgIGdyaWRUZW1wbGF0ZVJvd3M6ICdtYXgtY29udGVudCAxZnIgbWF4LWNvbnRlbnQnLFxuICAgICAgZ3JpZFRlbXBsYXRlQXJlYXM6IGAndGl0bGUgdGl0bGUgY2xvc2UnXG4gICdjb250ZW50IGNvbnRlbnQgY29udGVudCdcbiAgJ2NhbmNlbCBjb25maXJtIGNvbmZpcm0nYCxcbiAgICB9LFxuICAgIHZhcmlhbnRzOiB7XG4gICAgICBzbWFsbDogeyB3aWR0aDogJzQwMHB4JywgbWluSGVpZ2h0OiAnMTcwcHgnIH0sXG4gICAgICBtZWRpdW06IHsgd2lkdGg6ICc1NDBweCcsIG1pbkhlaWdodDogJzI0MHB4JyB9LFxuICAgIH0sXG4gIH0pXG4pO1xuXG5leHBvcnQgY29uc3QgRGlhbG9nOiBSZWFjdC5GQzxEaWFsb2dQcm9wcz4gPSAoe1xuICB0aXRsZSxcbiAgY2hpbGRyZW4sXG4gIGNvbmZpcm1DdGEsXG4gIGNhbmNlbEN0YSxcbiAgb25SZXF1ZXN0Q2xvc2UsXG4gIHNpemUgPSAnc21hbGwnLFxuICAuLi5yZXN0XG59KSA9PiB7XG4gIGNvbnN0IG9uQ29uZmlybSA9ICgpID0+IHtcbiAgICBvblJlcXVlc3RDbG9zZSgpO1xuICAgIGNvbmZpcm1DdGEub25DbGljaz8uKCk7XG4gIH07XG5cbiAgY29uc3Qgb25DYW5jZWwgPSAoKSA9PiB7XG4gICAgb25SZXF1ZXN0Q2xvc2UoKTtcbiAgICBjYW5jZWxDdGE/Lm9uQ2xpY2s/LigpO1xuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPFNocm91ZGVkT3ZlcmxheSBvblJlcXVlc3RDbG9zZT17b25DYW5jZWx9IHsuLi5yZXN0fT5cbiAgICAgIDxEaWFsb2dDb250YWluZXJcbiAgICAgICAgc2l6ZT17c2l6ZX1cbiAgICAgICAgYXJpYS1oaWRkZW49XCJmYWxzZVwiXG4gICAgICAgIGFyaWEtbW9kYWw9XCJ0cnVlXCJcbiAgICAgICAgcm9sZT1cImRpYWxvZ1wiXG4gICAgICAgIHBhdHRlcm49XCJjaGVja2VyRGVuc2VcIlxuICAgICAgPlxuICAgICAgICA8VGV4dCBhcz1cImgyXCIgZm9udFNpemU9ezIwfSBsaW5lSGVpZ2h0PVwiYmFzZVwiIGdyaWRBcmVhPVwidGl0bGVcIj5cbiAgICAgICAgICB7dGl0bGV9XG4gICAgICAgIDwvVGV4dD5cbiAgICAgICAgPEljb25CdXR0b25cbiAgICAgICAgICBhcmlhLWxhYmVsPVwiQ2xvc2UgRGlhbG9nXCJcbiAgICAgICAgICBzaXplPVwic21hbGxcIlxuICAgICAgICAgIGFsaWduU2VsZj1cInN0YXJ0XCJcbiAgICAgICAgICB2YXJpYW50PVwic2Vjb25kYXJ5XCJcbiAgICAgICAgICBpY29uPXtNaW5pRGVsZXRlSWNvbn1cbiAgICAgICAgICBvbkNsaWNrPXtvbkNhbmNlbH1cbiAgICAgICAgICBncmlkQXJlYT1cImNsb3NlXCJcbiAgICAgICAgLz5cbiAgICAgICAgPEJveCBhcz1cImRpdlwiIGdyaWRBcmVhPVwiY29udGVudFwiIGRhdGEtdGVzdGlkPVwiZGlhbG9nLWNvbnRlbnRcIj5cbiAgICAgICAgICB7Y2hpbGRyZW59XG4gICAgICAgIDwvQm94PlxuICAgICAgICB7Y2FuY2VsQ3RhICYmIChcbiAgICAgICAgICA8VGV4dEJ1dHRvblxuICAgICAgICAgICAgey4uLmNhbmNlbEN0YX1cbiAgICAgICAgICAgIG9uQ2xpY2s9e29uQ2FuY2VsfVxuICAgICAgICAgICAganVzdGlmeVNlbGY9XCJlbmRcIlxuICAgICAgICAgICAgZ3JpZEFyZWE9XCJjYW5jZWxcIlxuICAgICAgICAgIC8+XG4gICAgICAgICl9XG4gICAgICAgIDxGaWxsQnV0dG9uIHsuLi5jb25maXJtQ3RhfSBvbkNsaWNrPXtvbkNvbmZpcm19IGdyaWRBcmVhPVwiY29uZmlybVwiIC8+XG4gICAgICA8L0RpYWxvZ0NvbnRhaW5lcj5cbiAgICA8L1Nocm91ZGVkT3ZlcmxheT5cbiAgKTtcbn07XG4iXX0= */");

export var Dialog = function Dialog(_ref) {
  var title = _ref.title,
      children = _ref.children,
      confirmCta = _ref.confirmCta,
      cancelCta = _ref.cancelCta,
      onRequestClose = _ref.onRequestClose,
      _ref$size = _ref.size,
      size = _ref$size === void 0 ? 'small' : _ref$size,
      rest = _objectWithoutProperties(_ref, ["title", "children", "confirmCta", "cancelCta", "onRequestClose", "size"]);

  var onConfirm = function onConfirm() {
    var _confirmCta$onClick;

    onRequestClose();
    (_confirmCta$onClick = confirmCta.onClick) === null || _confirmCta$onClick === void 0 ? void 0 : _confirmCta$onClick.call(confirmCta);
  };

  var onCancel = function onCancel() {
    var _cancelCta$onClick;

    onRequestClose();
    cancelCta === null || cancelCta === void 0 ? void 0 : (_cancelCta$onClick = cancelCta.onClick) === null || _cancelCta$onClick === void 0 ? void 0 : _cancelCta$onClick.call(cancelCta);
  };

  return /*#__PURE__*/React.createElement(ShroudedOverlay, _extends({
    onRequestClose: onCancel
  }, rest), /*#__PURE__*/React.createElement(DialogContainer, {
    size: size,
    "aria-hidden": "false",
    "aria-modal": "true",
    role: "dialog",
    pattern: "checkerDense"
  }, /*#__PURE__*/React.createElement(Text, {
    as: "h2",
    fontSize: 20,
    lineHeight: "base",
    gridArea: "title"
  }, title), /*#__PURE__*/React.createElement(IconButton, {
    "aria-label": "Close Dialog",
    size: "small",
    alignSelf: "start",
    variant: "secondary",
    icon: MiniDeleteIcon,
    onClick: onCancel,
    gridArea: "close"
  }), /*#__PURE__*/React.createElement(Box, {
    as: "div",
    gridArea: "content",
    "data-testid": "dialog-content"
  }, children), cancelCta && /*#__PURE__*/React.createElement(TextButton, _extends({}, cancelCta, {
    onClick: onCancel,
    justifySelf: "end",
    gridArea: "cancel"
  })), /*#__PURE__*/React.createElement(FillButton, _extends({}, confirmCta, {
    onClick: onConfirm,
    gridArea: "confirm"
  }))));
};