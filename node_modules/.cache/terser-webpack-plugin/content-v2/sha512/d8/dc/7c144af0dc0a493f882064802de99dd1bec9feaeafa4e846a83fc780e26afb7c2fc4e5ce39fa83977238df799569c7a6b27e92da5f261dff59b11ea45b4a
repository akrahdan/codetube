{"code":"(this.webpackJsonpcodefluent=this.webpackJsonpcodefluent||[]).push([[31],{880:function(e,t,c){\"use strict\";c.r(t),c.d(t,\"CoursePricing\",(function(){return p}));var a=c(59),s=c(0),n=c(70),i=c(42),l=c(71),r=c(77),d=c(46),o=c(5),b=c(69),j=c.n(b),u=c(8),p=function(){var e=Object(d.d)(),t=Object(o.G)().data,c=Object(o.I)().data,b=Object(o.g)(),p=Object(a.a)(b,1)[0],m=Object(o.Q)(),h=Object(a.a)(m,1)[0],O=(Object(i.b)(r.c),Object(i.b)(n.b)),x=(Object(o.L)(O.id).data,Object(i.b)(n.b)),v=(Object(o.H)(x.id).data,Object(i.b)(l.f)),f=Object(s.useState)(!1),y=Object(a.a)(f,2),g=y[0],N=y[1],w=Object(s.useState)(!1),k=Object(a.a)(w,2),S=k[0],C=k[1],I=Object(s.useState)({name:\"USD\",display:\"USD\"}),P=Object(a.a)(I,2),D=P[0],_=P[1],z=Object(s.useState)({name:\"100\",display:\"100\"}),E=Object(a.a)(z,2),G=E[0],J=E[1];return Object(s.useEffect)((function(){v&&(_({name:v.currency,display:v.currency}),J({name:v.amount,display:v.amount}))}),[v]),Object(u.jsxs)(\"div\",{children:[Object(u.jsx)(\"div\",{className:\"sub-header--wrapper--3Vunm\",children:Object(u.jsx)(\"div\",{className:\"sub-header--main-content--22it3\",children:Object(u.jsx)(\"h2\",{\"data-purpose\":\"page-title\",className:\"font-heading-serif-xl sub-header--title--2VD8q\",children:\"Pricing\"})})}),Object(u.jsx)(\"div\",{className:\"main-content--wrap_component--2TEkz\",children:Object(u.jsx)(\"div\",{\"data-purpose\":\"price-route\",children:Object(u.jsx)(\"div\",{className:\"mb30\",children:Object(u.jsxs)(\"div\",{children:[Object(u.jsxs)(\"div\",{\"data-name\":\"owner-opt-in\",children:[Object(u.jsx)(\"h4\",{className:\"blockLabel\",children:\"Course Price Tier\"}),Object(u.jsxs)(\"div\",{className:\"mb30 mt20\",children:[Object(u.jsx)(\"p\",{\"data-purpose\":\"safely-set-inner-html:price-form:link-to-price-tier-matrix\",children:\"Please select the price tier for your course below and click 'Save'.\"}),Object(u.jsx)(\"span\",{\"data-purpose\":\"practice-course-message\"})]})]}),Object(u.jsx)(\"div\",{className:\"fx-jsb db-sm mt10\",children:Object(u.jsx)(\"div\",{className:\"fx-jsb\",children:Object(u.jsxs)(\"div\",{className:\"pr20\",children:[Object(u.jsx)(\"div\",{className:\"dib\",style:{verticalAlign:\"top\"},children:Object(u.jsx)(\"div\",{\"data-purpose\":\"price-select\",className:\"price-select--price-select--3gmzG form-group\",children:Object(u.jsxs)(\"div\",{className:\"df\",children:[Object(u.jsx)(\"div\",{className:\"fx-jsb mr20\",children:Object(u.jsxs)(\"div\",{className:j()(\"dropdown btn-group btn-group-default\",{open:g}),children:[Object(u.jsxs)(\"button\",{onClick:function(){return N(!g)},id:\"select-currency\",role:\"button\",\"aria-haspopup\":\"true\",\"aria-expanded\":\"false\",type:\"button\",className:\"dropdown-toggle btn btn-default\",style:{paddingRight:\"26px\"},children:[D.display,Object(u.jsx)(\"span\",{style:{position:\"absolute\",right:\"12px\"},children:Object(u.jsx)(\"span\",{className:\"dropdown-caret cfi cfi-angle-down\"})})]}),Object(u.jsx)(\"ul\",{role:\"menu\",className:\"dropdown-menu\",\"aria-labelledby\":\"select-currency\",children:t&&t.map((function(e){return Object(u.jsx)(\"li\",{role:\"presentation\",children:Object(u.jsx)(\"a\",{onClick:function(){_(e),N(!g)},role:\"menuitem\",tabIndex:-1,children:e.display})},e.name)}))})]})}),Object(u.jsx)(\"div\",{className:\"fx-jsb mr20\",children:Object(u.jsxs)(\"div\",{className:j()(\"dropdown btn-group btn-group-default\",{open:S}),children:[Object(u.jsxs)(\"button\",{onClick:function(){return C(!S)},id:\"select-amount\",role:\"button\",\"aria-haspopup\":\"true\",\"aria-expanded\":\"false\",type:\"button\",className:\"dropdown-toggle btn btn-default\",style:{paddingRight:\"26px\"},children:[Object(u.jsxs)(\"div\",{className:\"dib\",children:[Object(u.jsx)(\"div\",{className:\"price-select--price-select__title-spacer--3OZvO\",children:Object(u.jsx)(\"span\",{children:\"\".concat(D.display,\" \").concat(G.display)})}),\"\".concat(D.display,\" \").concat(G.display)]}),Object(u.jsx)(\"span\",{style:{position:\"absolute\",right:\"12px\"},children:Object(u.jsx)(\"span\",{className:\"dropdown-caret cfi cfi-angle-down\"})})]}),Object(u.jsxs)(\"ul\",{role:\"menu\",className:\"dropdown-menu\",\"aria-labelledby\":\"select-amount\",children:[Object(u.jsx)(\"li\",{role:\"presentation\",className:\"active\",children:Object(u.jsx)(\"a\",{\"data-purpose\":\"select-amount-\",role:\"menuitem\",tabIndex:-1,children:\"Select\"})}),c&&c.map((function(e,t){return Object(u.jsx)(\"li\",{role:\"presentation\",children:Object(u.jsxs)(\"a\",{onClick:function(){J(e),C(!S)},role:\"menuitem\",tabIndex:-1,children:[D.display,\" \",e.display,Object(u.jsxs)(\"span\",{className:\"text-midnight-lighter\",children:[\"(tier \",t+1,\")\"]})]})},e.name)}))]})]})})]})})}),Object(u.jsx)(\"div\",{className:\"dib\",children:Object(u.jsx)(\"button\",{onClick:function(){(null===v||void 0===v?void 0:v.amount)?h({course:x.id,amount:G.name,currency:D.name}).then((function(t){var c;(null===t||void 0===t||null===(c=t.data)||void 0===c?void 0:c.amount)&&e.show(\"Your changes have been saved\")})):p({course:x.id,amount:G.name,currency:D.name}).then((function(t){var c;(null===t||void 0===t||null===(c=t.data)||void 0===c?void 0:c.amount)&&e.show(\"Your changes have been saved\")}))},disabled:!D||!G,type:\"submit\",className:\"btn btn-secondary btn-block\",children:\"Save\"})})]})})})]})})})})]})};t.default=p}}]);","name":"static/js/31.a55f8ef5.chunk.js","map":{"version":3,"sources":["static/js/31.a55f8ef5.chunk.js"],"names":["this","push","880","module","__webpack_exports__","__webpack_require__","r","d","CoursePricing","_Users_akrah_Documents_dev_readux_src_codefluent_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_1__","state_location_selectors__WEBPACK_IMPORTED_MODULE_2__","store_hooks__WEBPACK_IMPORTED_MODULE_3__","state_course_courseSplice__WEBPACK_IMPORTED_MODULE_4__","state_curriculum_currriculumSplice__WEBPACK_IMPORTED_MODULE_5__","react_alert__WEBPACK_IMPORTED_MODULE_6__","services_courses__WEBPACK_IMPORTED_MODULE_7__","classnames__WEBPACK_IMPORTED_MODULE_8__","classnames__WEBPACK_IMPORTED_MODULE_8___default","n","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__","alert","Object","currencies","data","tiers","_useCreatePricingMuta","createPricing","_useUpdatePricingMuta","updatePricing","locationPayload","payload","id","pricing","_useState","_useState2","toggleCurrency","setToggleCurrency","_useState3","_useState4","toggleTier","setToggleTier","_useState5","name","display","_useState6","currency","setCurrency","_useState7","_useState8","amount","setAmount","children","className","data-purpose","data-name","style","verticalAlign","open","onClick","role","aria-haspopup","aria-expanded","type","paddingRight","position","right","aria-labelledby","map","curr","tabIndex","concat","tier","index","course","then","res","_res$data","show","_res$data2","disabled"],"mappings":"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"},"input":"(this[\"webpackJsonpcodefluent\"] = this[\"webpackJsonpcodefluent\"] || []).push([[31],{\n\n/***/ 880:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CoursePricing\", function() { return CoursePricing; });\n/* harmony import */ var _Users_akrah_Documents_dev_readux_src_codefluent_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(59);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(0);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var state_location_selectors__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(70);\n/* harmony import */ var store_hooks__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(42);\n/* harmony import */ var state_course_courseSplice__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(71);\n/* harmony import */ var state_curriculum_currriculumSplice__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(77);\n/* harmony import */ var react_alert__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(46);\n/* harmony import */ var services_courses__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(5);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(69);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(8);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__);\nvar CoursePricing=function CoursePricing(){var alert=Object(react_alert__WEBPACK_IMPORTED_MODULE_6__[/* useAlert */ \"d\"])();var _useFetchPricingCurre=Object(services_courses__WEBPACK_IMPORTED_MODULE_7__[/* useFetchPricingCurrencyQuery */ \"G\"])(),currencies=_useFetchPricingCurre.data;var _useFetchPricingTierQ=Object(services_courses__WEBPACK_IMPORTED_MODULE_7__[/* useFetchPricingTierQuery */ \"I\"])(),tiers=_useFetchPricingTierQ.data;var _useCreatePricingMuta=Object(services_courses__WEBPACK_IMPORTED_MODULE_7__[/* useCreatePricingMutation */ \"g\"])(),_useCreatePricingMuta2=Object(_Users_akrah_Documents_dev_readux_src_codefluent_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(_useCreatePricingMuta,1),createPricing=_useCreatePricingMuta2[0];var _useUpdatePricingMuta=Object(services_courses__WEBPACK_IMPORTED_MODULE_7__[/* useUpdatePricingMutation */ \"Q\"])(),_useUpdatePricingMuta2=Object(_Users_akrah_Documents_dev_readux_src_codefluent_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(_useUpdatePricingMuta,1),updatePricing=_useUpdatePricingMuta2[0];var selectedSections=Object(store_hooks__WEBPACK_IMPORTED_MODULE_3__[/* useAppSelector */ \"b\"])(state_curriculum_currriculumSplice__WEBPACK_IMPORTED_MODULE_5__[/* selectSections */ \"c\"]);var locationPayload=Object(store_hooks__WEBPACK_IMPORTED_MODULE_3__[/* useAppSelector */ \"b\"])(state_location_selectors__WEBPACK_IMPORTED_MODULE_2__[/* selectLocationPayload */ \"b\"]);var _useFetchSectionsQuer=Object(services_courses__WEBPACK_IMPORTED_MODULE_7__[/* useFetchSectionsQuery */ \"L\"])(locationPayload.id),querySections=_useFetchSectionsQuer.data;var payload=Object(store_hooks__WEBPACK_IMPORTED_MODULE_3__[/* useAppSelector */ \"b\"])(state_location_selectors__WEBPACK_IMPORTED_MODULE_2__[/* selectLocationPayload */ \"b\"]);var _useFetchPricingQuery=Object(services_courses__WEBPACK_IMPORTED_MODULE_7__[/* useFetchPricingQuery */ \"H\"])(payload.id),pricingQuery=_useFetchPricingQuery.data;var pricing=Object(store_hooks__WEBPACK_IMPORTED_MODULE_3__[/* useAppSelector */ \"b\"])(state_course_courseSplice__WEBPACK_IMPORTED_MODULE_4__[/* selectPricing */ \"f\"]);var _useState=Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useState\"])(false),_useState2=Object(_Users_akrah_Documents_dev_readux_src_codefluent_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(_useState,2),toggleCurrency=_useState2[0],setToggleCurrency=_useState2[1];var _useState3=Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useState\"])(false),_useState4=Object(_Users_akrah_Documents_dev_readux_src_codefluent_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(_useState3,2),toggleTier=_useState4[0],setToggleTier=_useState4[1];var _useState5=Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useState\"])({name:\"USD\",display:\"USD\"}),_useState6=Object(_Users_akrah_Documents_dev_readux_src_codefluent_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(_useState5,2),currency=_useState6[0],setCurrency=_useState6[1];var _useState7=Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useState\"])({name:'100',display:\"100\"}),_useState8=Object(_Users_akrah_Documents_dev_readux_src_codefluent_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(_useState7,2),amount=_useState8[0],setAmount=_useState8[1];Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useEffect\"])(function(){if(pricing){setCurrency({name:pricing.currency,display:pricing.currency});setAmount({name:pricing.amount,display:pricing.amount});}},[pricing]);return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsx\"])(\"div\",{className:\"sub-header--wrapper--3Vunm\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsx\"])(\"div\",{className:\"sub-header--main-content--22it3\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsx\"])(\"h2\",{\"data-purpose\":\"page-title\",className:\"font-heading-serif-xl sub-header--title--2VD8q\",children:\"Pricing\"})})}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsx\"])(\"div\",{className:\"main-content--wrap_component--2TEkz\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsx\"])(\"div\",{\"data-purpose\":\"price-route\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsx\"])(\"div\",{className:\"mb30\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsxs\"])(\"div\",{\"data-name\":\"owner-opt-in\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsx\"])(\"h4\",{className:\"blockLabel\",children:\"Course Price Tier\"}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsxs\"])(\"div\",{className:\"mb30 mt20\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsx\"])(\"p\",{\"data-purpose\":\"safely-set-inner-html:price-form:link-to-price-tier-matrix\",children:\"Please select the price tier for your course below and click 'Save'.\"}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsx\"])(\"span\",{\"data-purpose\":\"practice-course-message\"})]})]}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsx\"])(\"div\",{className:\"fx-jsb db-sm mt10\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsx\"])(\"div\",{className:\"fx-jsb\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsxs\"])(\"div\",{className:\"pr20\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsx\"])(\"div\",{className:\"dib\",style:{verticalAlign:\"top\"},children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsx\"])(\"div\",{\"data-purpose\":\"price-select\",className:\"price-select--price-select--3gmzG form-group\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsxs\"])(\"div\",{className:\"df\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsx\"])(\"div\",{className:\"fx-jsb mr20\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsxs\"])(\"div\",{className:classnames__WEBPACK_IMPORTED_MODULE_8___default()(\"dropdown btn-group btn-group-default\",{open:toggleCurrency}),children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsxs\"])(\"button\",{onClick:function onClick(){return setToggleCurrency(!toggleCurrency);},id:\"select-currency\",role:\"button\",\"aria-haspopup\":\"true\",\"aria-expanded\":\"false\",type:\"button\",className:\"dropdown-toggle btn btn-default\",style:{paddingRight:\"26px\"},children:[currency.display,/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsx\"])(\"span\",{style:{position:\"absolute\",right:\"12px\"},children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsx\"])(\"span\",{className:\"dropdown-caret cfi cfi-angle-down\"})})]}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsx\"])(\"ul\",{role:\"menu\",className:\"dropdown-menu\",\"aria-labelledby\":\"select-currency\",children:currencies&&currencies.map(function(curr){return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsx\"])(\"li\",{role:\"presentation\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsx\"])(\"a\",{onClick:function onClick(){setCurrency(curr);setToggleCurrency(!toggleCurrency);},role:\"menuitem\",tabIndex:-1,children:curr.display})},curr.name);})})]})}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsx\"])(\"div\",{className:\"fx-jsb mr20\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsxs\"])(\"div\",{className:classnames__WEBPACK_IMPORTED_MODULE_8___default()(\"dropdown btn-group btn-group-default\",{open:toggleTier}),children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsxs\"])(\"button\",{onClick:function onClick(){return setToggleTier(!toggleTier);},id:\"select-amount\",role:\"button\",\"aria-haspopup\":\"true\",\"aria-expanded\":\"false\",type:\"button\",className:\"dropdown-toggle btn btn-default\",style:{paddingRight:\"26px\"},children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsxs\"])(\"div\",{className:\"dib\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsx\"])(\"div\",{className:\"price-select--price-select__title-spacer--3OZvO\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsx\"])(\"span\",{children:\"\".concat(currency.display,\" \").concat(amount.display)})}),\"\".concat(currency.display,\" \").concat(amount.display)]}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsx\"])(\"span\",{style:{position:\"absolute\",right:\"12px\"},children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsx\"])(\"span\",{className:\"dropdown-caret cfi cfi-angle-down\"})})]}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsxs\"])(\"ul\",{role:\"menu\",className:\"dropdown-menu\",\"aria-labelledby\":\"select-amount\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsx\"])(\"li\",{role:\"presentation\",className:\"active\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsx\"])(\"a\",{\"data-purpose\":\"select-amount-\",role:\"menuitem\",tabIndex:-1,children:\"Select\"})}),tiers&&tiers.map(function(tier,index){return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsx\"])(\"li\",{role:\"presentation\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsxs\"])(\"a\",{onClick:function onClick(){setAmount(tier);setToggleTier(!toggleTier);},role:\"menuitem\",tabIndex:-1,children:[currency.display,\" \",tier.display,/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsxs\"])(\"span\",{className:\"text-midnight-lighter\",children:[\"(tier \",index+1,\")\"]})]})},tier.name);})]})]})})]})})}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsx\"])(\"div\",{className:\"dib\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsx\"])(\"button\",{onClick:function onClick(){if(pricing===null||pricing===void 0?void 0:pricing.amount){updatePricing({course:payload.id,amount:amount.name,currency:currency.name}).then(function(res){var _res$data;if(res===null||res===void 0?void 0:(_res$data=res.data)===null||_res$data===void 0?void 0:_res$data.amount){alert.show('Your changes have been saved');}});}else{createPricing({course:payload.id,amount:amount.name,currency:currency.name}).then(function(res){var _res$data2;if(res===null||res===void 0?void 0:(_res$data2=res.data)===null||_res$data2===void 0?void 0:_res$data2.amount){alert.show('Your changes have been saved');}});}},disabled:!currency||!amount,type:\"submit\",className:\"btn btn-secondary btn-block\",children:\"Save\"})})]})})})]})})})})]});};/* harmony default export */ __webpack_exports__[\"default\"] = (CoursePricing);\n\n/***/ })\n\n}]);","inputSourceMap":{"version":3,"sources":["/Users/akrah/Documents/dev/readux/src/codefluent/src/portal/scenes/Instructor/Courses/Pricing/index.tsx"],"names":["CoursePricing","alert","useAlert","useFetchPricingCurrencyQuery","currencies","data","useFetchPricingTierQuery","tiers","useCreatePricingMutation","createPricing","useUpdatePricingMutation","updatePricing","selectedSections","useAppSelector","selectSections","locationPayload","selectLocationPayload","useFetchSectionsQuery","id","querySections","payload","useFetchPricingQuery","pricingQuery","pricing","selectPricing","useState","toggleCurrency","setToggleCurrency","toggleTier","setToggleTier","name","display","currency","setCurrency","amount","setAmount","useEffect","verticalAlign","classNames","open","paddingRight","position","right","map","curr","tier","index","course","then","res","show"],"mappings":"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","file":"x","sourcesContent":["import { useEffect, useState } from \"react\";\nimport { selectLocationPayload } from \"state/location/selectors\";\nimport { useAppSelector } from \"store/hooks\";\nimport { selectPricing } from \"state/course/courseSplice\";\nimport { selectSections } from \"state/curriculum/currriculumSplice\";\nimport { useAlert } from \"react-alert\";\nimport {\n  useFetchPricingCurrencyQuery,\n  useFetchPricingTierQuery,\n  useCreatePricingMutation,\n  useFetchPricingQuery,\n  useFetchSectionsQuery,\n  useUpdatePricingMutation,\n  Pricing\n} from \"services/courses\";\nimport classNames from \"classnames\";\n\nexport const CoursePricing = () => {\n  const alert = useAlert()\n  const { data: currencies } = useFetchPricingCurrencyQuery();\n  const { data: tiers } = useFetchPricingTierQuery();\n  const [createPricing] = useCreatePricingMutation();\n  const [updatePricing] = useUpdatePricingMutation();\n  const selectedSections = useAppSelector(selectSections)\n  const locationPayload = useAppSelector(selectLocationPayload)\n  const { data: querySections } = useFetchSectionsQuery(locationPayload.id)\n  const payload = useAppSelector(selectLocationPayload);\n  const { data: pricingQuery } = useFetchPricingQuery(payload.id);\n  const pricing = useAppSelector(selectPricing);\n  const [toggleCurrency, setToggleCurrency] = useState(false);\n  const [toggleTier, setToggleTier] = useState(false);\n  const [currency, setCurrency] = useState({\n    name: \"USD\",\n    display: \"USD\",\n  });\n  const [amount, setAmount] = useState({\n    name: '100',\n    display: \"100\",\n  });\n\n  useEffect(() => {\n    if (pricing) {\n      setCurrency({\n        name: pricing.currency,\n        display: pricing.currency,\n      });\n\n      setAmount({\n        name: pricing.amount,\n        display: pricing.amount,\n      });\n    }\n  }, [pricing]);\n  return (\n    <div>\n      <div className=\"sub-header--wrapper--3Vunm\">\n        <div className=\"sub-header--main-content--22it3\">\n          <h2\n            data-purpose=\"page-title\"\n            className=\"font-heading-serif-xl sub-header--title--2VD8q\"\n          >\n            Pricing\n          </h2>\n        </div>\n      </div>\n      <div className=\"main-content--wrap_component--2TEkz\">\n\n        <div data-purpose=\"price-route\">\n          <div className=\"mb30\">\n            <div>\n              <div data-name=\"owner-opt-in\">\n                <h4 className=\"blockLabel\">Course Price Tier</h4>\n                <div className=\"mb30 mt20\">\n                  <p data-purpose=\"safely-set-inner-html:price-form:link-to-price-tier-matrix\">\n                    Please select the price tier for your course below and click\n                    'Save'.\n                  </p>\n\n                  <span data-purpose=\"practice-course-message\" />\n                </div>\n              </div>\n              <div className=\"fx-jsb db-sm mt10\">\n                <div className=\"fx-jsb\">\n                  <div className=\"pr20\">\n                    <div className=\"dib\" style={{ verticalAlign: \"top\" }}>\n                      <div\n                        data-purpose=\"price-select\"\n                        className=\"price-select--price-select--3gmzG form-group\"\n                      >\n                        <div className=\"df\">\n                          <div className=\"fx-jsb mr20\">\n                            <div\n                              className={classNames(\n                                \"dropdown btn-group btn-group-default\",\n                                {\n                                  open: toggleCurrency,\n                                }\n                              )}\n                            >\n                              <button\n                                onClick={() =>\n                                  setToggleCurrency(!toggleCurrency)\n                                }\n                                id=\"select-currency\"\n                                role=\"button\"\n                                aria-haspopup=\"true\"\n                                aria-expanded=\"false\"\n                                type=\"button\"\n                                className=\"dropdown-toggle btn btn-default\"\n                                style={{ paddingRight: \"26px\" }}\n                              >\n                                {currency.display}\n                                <span\n                                  style={{\n                                    position: \"absolute\",\n                                    right: \"12px\",\n                                  }}\n                                >\n                                  <span className=\"dropdown-caret cfi cfi-angle-down\" />\n                                </span>\n                              </button>\n                              <ul\n                                role=\"menu\"\n                                className=\"dropdown-menu\"\n                                aria-labelledby=\"select-currency\"\n                              >\n                                {currencies &&\n                                  currencies.map((curr) => (\n                                    <li key={curr.name} role=\"presentation\">\n                                      <a\n                                        onClick={() => {\n                                          setCurrency(curr);\n                                          setToggleCurrency(!toggleCurrency);\n                                        }}\n                                        role=\"menuitem\"\n                                        tabIndex={-1}\n                                       \n                                      >\n                                        {curr.display}\n                                      </a>\n                                    </li>\n                                  ))}\n                              </ul>\n                            </div>\n                          </div>\n                          <div className=\"fx-jsb mr20\">\n                            <div\n                              className={classNames(\n                                \"dropdown btn-group btn-group-default\",\n                                {\n                                  open: toggleTier,\n                                }\n                              )}\n                            >\n                              <button\n                                onClick={() => setToggleTier(!toggleTier)}\n                                id=\"select-amount\"\n                                role=\"button\"\n                                aria-haspopup=\"true\"\n                                aria-expanded=\"false\"\n                                type=\"button\"\n                                className=\"dropdown-toggle btn btn-default\"\n                                style={{ paddingRight: \"26px\" }}\n                              >\n                                <div className=\"dib\">\n                                  <div className=\"price-select--price-select__title-spacer--3OZvO\">\n                                    <span>{`${currency.display} ${amount.display}`}</span>\n                                  </div>\n                                  {`${currency.display} ${amount.display}`}\n                                </div>\n                                <span\n                                  style={{\n                                    position: \"absolute\",\n                                    right: \"12px\",\n                                  }}\n                                >\n                                  <span className=\"dropdown-caret cfi cfi-angle-down\" />\n                                </span>\n                              </button>\n                              <ul\n                                role=\"menu\"\n                                className=\"dropdown-menu\"\n                                aria-labelledby=\"select-amount\"\n                              >\n                                <li role=\"presentation\" className=\"active\">\n                                  <a\n                                    data-purpose=\"select-amount-\"\n                                    role=\"menuitem\"\n                                    tabIndex={-1}\n                                 \n                                  >\n                                    Select\n                                  </a>\n                                </li>\n                                {tiers &&\n                                  tiers.map((tier, index) => (\n                                    <li key={tier.name} role=\"presentation\">\n                                      <a\n                                        onClick={() => {\n                                          setAmount(tier);\n                                          setToggleTier(!toggleTier);\n                                        }}\n                                        role=\"menuitem\"\n                                        tabIndex={-1}\n                                      >\n                                        {currency.display} {tier.display}\n                                        <span className=\"text-midnight-lighter\">\n                                          (tier {index + 1})\n                                        </span>\n                                      </a>\n                                    </li>\n                                  ))}\n                              </ul>\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                    <div className=\"dib\">\n                      <button\n                        onClick={() => {\n                          if (pricing?.amount) {\n                            updatePricing({\n                              course: payload.id,\n                              amount: amount.name,\n                              currency: currency.name,\n                            }).then((res: { data: Pricing }) => {\n                              if (res?.data?.amount) {\n                                alert.show('Your changes have been saved')\n                              }\n                            })\n\n                          } else {\n                            createPricing({\n                              course: payload.id,\n                              amount: amount.name,\n                              currency: currency.name,\n                            }).then((res: { data: Pricing }) => {\n                              if (res?.data?.amount) {\n                                alert.show('Your changes have been saved')\n                              }\n                            });\n                          }\n\n                        }}\n                        disabled={!currency || !amount}\n                        type=\"submit\"\n                        className=\"btn btn-secondary btn-block\"\n                      >\n                        Save\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default CoursePricing;\n"]}}