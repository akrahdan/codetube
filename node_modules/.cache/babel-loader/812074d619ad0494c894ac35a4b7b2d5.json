{"ast":null,"code":"import _slicedToArray from\"/Users/akrah/Documents/dev/readux/src/codefluent/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import classNames from\"classnames\";import styles from\"./styles.module.scss\";import logo from\"static/images/brand/logo/code.png\";import{useFlutterwave,closePaymentModal}from\"flutterwave-react-v3\";import{useCheckoutWaveMutation}from\"services/projects\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var CardPayment=function CardPayment(_ref){var active=_ref.active,handleClose=_ref.handleClose;var _useCheckoutWaveMutat=useCheckoutWaveMutation(),_useCheckoutWaveMutat2=_slicedToArray(_useCheckoutWaveMutat,1),checkoutWave=_useCheckoutWaveMutat2[0];var config={public_key:\"FLWPUBK_TEST-4b961393b29fe0236bb5a0e76351a99b-X\",tx_ref:Date.now(),amount:10,currency:\"USD\",payment_options:\"card,mobilemoney\",customer:{email:\"akrahdan@gmail.com\",phonenumber:\"+12183910841\",name:\"Sam Akrah\"},customizations:{title:\"Codefluent Payment\",description:\"Payment for items in cart\",logo:logo}};var handleFlutterPayment=useFlutterwave(config);return/*#__PURE__*/_jsxs(\"div\",{className:classNames(\"react-tabs__tab-panel\",{\"react-tabs__tab-panel--selected\":active}),role:\"tabpanel\",id:\"react-tabs-1\",\"aria-labelledby\":\"react-tabs-0\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"cf-text-h6 cf-py-9 cf-text--center cf-invert\",children:\"You will continue to Flutterwave to complete your card payments\"}),/*#__PURE__*/_jsx(\"form\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"cf-forms cf-layout\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"cf-input cf-col-12\",children:/*#__PURE__*/_jsx(\"p\",{\"data-ba\":\"cart-terms\",className:\"cf-text-x-small cf-theme-light\",children:\"By clicking \\\"Place Secure Order\\\", Your payment method will be charged the price above to enable you have full access to the ordred project.\"})}),/*#__PURE__*/_jsxs(\"div\",{className:styles.orderBtn,children:[/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){handleClose();handleFlutterPayment({callback:function callback(response){console.log(response);checkoutWave({txRef:response.tx_ref}).then(function(res){closePaymentModal();});// this will close the modal programmatically\n},onClose:function onClose(){}});},className:\"c-button c-button--full-width c-button--primary c-button--md\",type:\"submit\",\"data-ba\":\"CompleteOrderButton\",children:\"Place Secure Order\"}),/*#__PURE__*/_jsxs(\"div\",{className:styles.orderSecurity,children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsxs(\"svg\",{height:\"32px\",version:\"1.1\",viewBox:\"0 0 32 32\",width:\"32px\",xmlns:\"http://www.w3.org/2000/svg\",children:[/*#__PURE__*/_jsx(\"title\",{}),/*#__PURE__*/_jsx(\"desc\",{}),/*#__PURE__*/_jsx(\"defs\",{}),/*#__PURE__*/_jsx(\"g\",{fill:\"none\",fillRule:\"evenodd\",stroke:\"none\",strokeWidth:1,children:/*#__PURE__*/_jsx(\"g\",{children:/*#__PURE__*/_jsx(\"path\",{d:\"M16,21.9146472 L16,24.5089948 C16,24.7801695 16.2319336,25 16.5,25 C16.7761424,25 17,24.7721195 17,24.5089948 L17,21.9146472 C17.5825962,21.708729 18,21.1531095 18,20.5 C18,19.6715728 17.3284272,19 16.5,19 C15.6715728,19 15,19.6715728 15,20.5 C15,21.1531095 15.4174038,21.708729 16,21.9146472 L16,21.9146472 Z M9,14.0000125 L9,10.499235 C9,6.35670485 12.3578644,3 16.5,3 C20.6337072,3 24,6.35752188 24,10.499235 L24,14.0000125 C25.6591471,14.0047488 27,15.3503174 27,17.0094776 L27,26.9905224 C27,28.6633689 25.6529197,30 23.991212,30 L9.00878799,30 C7.34559019,30 6,28.652611 6,26.9905224 L6,17.0094776 C6,15.339581 7.34233349,14.0047152 9,14.0000125 L9,14.0000125 L9,14.0000125 Z M12,14 L12,10.5008537 C12,8.0092478 14.0147186,6 16.5,6 C18.9802243,6 21,8.01510082 21,10.5008537 L21,14 L12,14 L12,14 L12,14 Z\"})})})]}),\"Secured with SSL\"]}),/*#__PURE__*/_jsx(\"p\",{children:\"Satisfaction Guaranteed\"})]})]})]})})]});};","map":{"version":3,"sources":["/Users/akrah/Documents/dev/readux/src/codefluent/src/portal/scenes/Payments/card.js"],"names":["classNames","styles","logo","useFlutterwave","closePaymentModal","useCheckoutWaveMutation","CardPayment","active","handleClose","checkoutWave","config","public_key","tx_ref","Date","now","amount","currency","payment_options","customer","email","phonenumber","name","customizations","title","description","handleFlutterPayment","orderBtn","callback","response","console","log","txRef","then","res","onClose","orderSecurity"],"mappings":"uKAAA,MAAOA,CAAAA,UAAP,KAAuB,YAAvB,CACA,MAAOC,CAAAA,MAAP,KAAmB,sBAAnB,CACA,MAAOC,CAAAA,IAAP,KAAiB,mCAAjB,CACA,OAASC,cAAT,CAAyBC,iBAAzB,KAAkD,sBAAlD,CACA,OAASC,uBAAT,KAAwC,mBAAxC,C,wFACA,MAAO,IAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,MAA6B,IAA1BC,CAAAA,MAA0B,MAA1BA,MAA0B,CAAlBC,WAAkB,MAAlBA,WAAkB,2BAC/BH,uBAAuB,EADQ,gEAC/CI,YAD+C,2BAEtD,GAAMC,CAAAA,MAAM,CAAG,CACbC,UAAU,CAAE,iDADC,CAEbC,MAAM,CAAEC,IAAI,CAACC,GAAL,EAFK,CAGbC,MAAM,CAAE,EAHK,CAIbC,QAAQ,CAAE,KAJG,CAKbC,eAAe,CAAE,kBALJ,CAMbC,QAAQ,CAAE,CACRC,KAAK,CAAE,oBADC,CAERC,WAAW,CAAE,cAFL,CAGRC,IAAI,CAAE,WAHE,CANG,CAWbC,cAAc,CAAE,CACdC,KAAK,CAAE,oBADO,CAEdC,WAAW,CAAE,2BAFC,CAGdtB,IAAI,CAAJA,IAHc,CAXH,CAAf,CAkBA,GAAMuB,CAAAA,oBAAoB,CAAGtB,cAAc,CAACO,MAAD,CAA3C,CACA,mBACE,aACE,SAAS,CAAEV,UAAU,CAAC,uBAAD,CAA0B,CAC7C,kCAAmCO,MADU,CAA1B,CADvB,CAIE,IAAI,CAAC,UAJP,CAKE,EAAE,CAAC,cALL,CAME,kBAAgB,cANlB,wBAQE,UAAG,SAAS,CAAC,8CAAb,6EARF,cAWE,mCACE,aAAK,SAAS,CAAC,oBAAf,wBACE,YAAK,SAAS,CAAC,oBAAf,uBACE,UAAG,UAAQ,YAAX,CAAwB,SAAS,CAAC,gCAAlC,2JADF,EADF,cAQE,aAAK,SAAS,CAAEN,MAAM,CAACyB,QAAvB,wBACE,eACE,OAAO,CAAE,kBAAM,CACblB,WAAW,GACXiB,oBAAoB,CAAC,CACnBE,QAAQ,CAAE,kBAACC,QAAD,CAAc,CACtBC,OAAO,CAACC,GAAR,CAAYF,QAAZ,EACAnB,YAAY,CAAC,CACXsB,KAAK,CAAEH,QAAQ,CAAChB,MADL,CAAD,CAAZ,CAEGoB,IAFH,CAEQ,SAACC,GAAD,CAAS,CACf7B,iBAAiB,GAClB,CAJD,EAKA;AACD,CATkB,CAUnB8B,OAAO,CAAE,kBAAM,CAAE,CAVE,CAAD,CAApB,CAYD,CAfH,CAgBE,SAAS,CAAC,8DAhBZ,CAiBE,IAAI,CAAC,QAjBP,CAkBE,UAAQ,qBAlBV,gCADF,cAuBE,aAAK,SAAS,CAAEjC,MAAM,CAACkC,aAAvB,wBACE,kCACE,aACE,MAAM,CAAC,MADT,CAEE,OAAO,CAAC,KAFV,CAGE,OAAO,CAAC,WAHV,CAIE,KAAK,CAAC,MAJR,CAKE,KAAK,CAAC,4BALR,wBAOE,gBAPF,cAQE,eARF,cASE,eATF,cAUE,UACE,IAAI,CAAC,MADP,CAEE,QAAQ,CAAC,SAFX,CAGE,MAAM,CAAC,MAHT,CAIE,WAAW,CAAE,CAJf,uBAME,gCACE,aAAM,CAAC,CAAC,2yBAAR,EADF,EANF,EAVF,GADF,sBADF,cAyBE,8CAzBF,GAvBF,GARF,GADF,EAXF,GADF,CA4ED,CAjGM","sourcesContent":["import classNames from \"classnames\";\nimport styles from \"./styles.module.scss\";\nimport logo from \"static/images/brand/logo/code.png\";\nimport { useFlutterwave, closePaymentModal } from \"flutterwave-react-v3\";\nimport { useCheckoutWaveMutation } from \"services/projects\";\nexport const CardPayment = ({ active, handleClose }) => {\n  const [checkoutWave] = useCheckoutWaveMutation();\n  const config = {\n    public_key: \"FLWPUBK_TEST-4b961393b29fe0236bb5a0e76351a99b-X\",\n    tx_ref: Date.now(),\n    amount: 10,\n    currency: \"USD\",\n    payment_options: \"card,mobilemoney\",\n    customer: {\n      email: \"akrahdan@gmail.com\",\n      phonenumber: \"+12183910841\",\n      name: \"Sam Akrah\",\n    },\n    customizations: {\n      title: \"Codefluent Payment\",\n      description: \"Payment for items in cart\",\n      logo,\n    },\n  };\n\n  const handleFlutterPayment = useFlutterwave(config);\n  return (\n    <div\n      className={classNames(\"react-tabs__tab-panel\", {\n        \"react-tabs__tab-panel--selected\": active,\n      })}\n      role=\"tabpanel\"\n      id=\"react-tabs-1\"\n      aria-labelledby=\"react-tabs-0\"\n    >\n      <p className=\"cf-text-h6 cf-py-9 cf-text--center cf-invert\">\n        You will continue to Flutterwave to complete your card payments\n      </p>\n      <form>\n        <div className=\"cf-forms cf-layout\">\n          <div className=\"cf-input cf-col-12\">\n            <p data-ba=\"cart-terms\" className=\"cf-text-x-small cf-theme-light\">\n              By clicking \"Place Secure Order\", Your payment method will be\n              charged the price above to enable you have full access to the\n              ordred project.\n            </p>\n          </div>\n          <div className={styles.orderBtn}>\n            <button\n              onClick={() => {\n                handleClose();\n                handleFlutterPayment({\n                  callback: (response) => {\n                    console.log(response);\n                    checkoutWave({\n                      txRef: response.tx_ref,\n                    }).then((res) => {\n                      closePaymentModal();\n                    });\n                    // this will close the modal programmatically\n                  },\n                  onClose: () => {},\n                });\n              }}\n              className=\"c-button c-button--full-width c-button--primary c-button--md\"\n              type=\"submit\"\n              data-ba=\"CompleteOrderButton\"\n            >\n              Place Secure Order\n            </button>\n            <div className={styles.orderSecurity}>\n              <p>\n                <svg\n                  height=\"32px\"\n                  version=\"1.1\"\n                  viewBox=\"0 0 32 32\"\n                  width=\"32px\"\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                >\n                  <title />\n                  <desc />\n                  <defs />\n                  <g\n                    fill=\"none\"\n                    fillRule=\"evenodd\"\n                    stroke=\"none\"\n                    strokeWidth={1}\n                  >\n                    <g>\n                      <path d=\"M16,21.9146472 L16,24.5089948 C16,24.7801695 16.2319336,25 16.5,25 C16.7761424,25 17,24.7721195 17,24.5089948 L17,21.9146472 C17.5825962,21.708729 18,21.1531095 18,20.5 C18,19.6715728 17.3284272,19 16.5,19 C15.6715728,19 15,19.6715728 15,20.5 C15,21.1531095 15.4174038,21.708729 16,21.9146472 L16,21.9146472 Z M9,14.0000125 L9,10.499235 C9,6.35670485 12.3578644,3 16.5,3 C20.6337072,3 24,6.35752188 24,10.499235 L24,14.0000125 C25.6591471,14.0047488 27,15.3503174 27,17.0094776 L27,26.9905224 C27,28.6633689 25.6529197,30 23.991212,30 L9.00878799,30 C7.34559019,30 6,28.652611 6,26.9905224 L6,17.0094776 C6,15.339581 7.34233349,14.0047152 9,14.0000125 L9,14.0000125 L9,14.0000125 Z M12,14 L12,10.5008537 C12,8.0092478 14.0147186,6 16.5,6 C18.9802243,6 21,8.01510082 21,10.5008537 L21,14 L12,14 L12,14 L12,14 Z\" />\n                    </g>\n                  </g>\n                </svg>\n                Secured with SSL\n              </p>\n              <p>Satisfaction Guaranteed</p>\n            </div>\n          </div>\n        </div>\n      </form>\n    </div>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}