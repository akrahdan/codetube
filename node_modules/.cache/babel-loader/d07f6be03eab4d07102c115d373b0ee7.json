{"ast":null,"code":"var _jsxFileName = \"/Users/akrah/Documents/dev/readux/src/codefluent/src/components/gamut-overrides/GlobalHeader/index.tsx\",\n    _s = $RefreshSig$();\n\nimport { Box } from '@codecademy/gamut';\nimport { useTheme } from '@emotion/react';\nimport cx from 'classnames';\nimport React, { useCallback, useEffect, useState } from 'react';\nimport { AppHeader, AppHeaderMobile } from '..';\nimport { isAppHeaderItemWithHref } from '../AppHeader/AppHeaderElements/types';\nimport { anonDefaultHeaderItems, anonDefaultMobileHeaderItems, anonLandingHeaderItems, anonLandingMobileHeaderItems, anonLoginHeaderItems, anonLoginMobileHeaderItems, anonSignupHeaderItems, anonSignupMobileHeaderItems, freeHeaderItems, freeMobileHeaderItems, loadingHeaderItems, loadingMobileHeaderItems, proHeaderItems, proMobileHeaderItems } from './GlobalHeaderVariants';\nimport styles from './styles.module.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst getAppHeaderItems = props => {\n  var _props$renderNotifica, _props$renderNotifica2;\n\n  switch (props.type) {\n    case 'anon':\n      switch (props.variant) {\n        case 'landing':\n          return anonLandingHeaderItems();\n\n        case 'login':\n          return anonLoginHeaderItems();\n\n        case 'signup':\n          return anonSignupHeaderItems();\n\n        default:\n          return anonDefaultHeaderItems();\n      }\n\n    case 'free':\n      return freeHeaderItems(props.user, (_props$renderNotifica = props.renderNotifications) === null || _props$renderNotifica === void 0 ? void 0 : _props$renderNotifica.desktop);\n\n    case 'pro':\n      return proHeaderItems(props.user, (_props$renderNotifica2 = props.renderNotifications) === null || _props$renderNotifica2 === void 0 ? void 0 : _props$renderNotifica2.desktop);\n\n    case 'loading':\n      return loadingHeaderItems;\n  }\n};\n\nconst getMobileAppHeaderItems = props => {\n  var _props$renderNotifica3, _props$renderNotifica4;\n\n  switch (props.type) {\n    case 'anon':\n      switch (props.variant) {\n        case 'landing':\n          return anonLandingMobileHeaderItems();\n\n        case 'login':\n          return anonLoginMobileHeaderItems();\n\n        case 'signup':\n          return anonSignupMobileHeaderItems();\n\n        default:\n          return anonDefaultMobileHeaderItems();\n      }\n\n    case 'free':\n      return freeMobileHeaderItems(props.user, (_props$renderNotifica3 = props.renderNotifications) === null || _props$renderNotifica3 === void 0 ? void 0 : _props$renderNotifica3.mobile);\n\n    case 'pro':\n      return proMobileHeaderItems(props.user, (_props$renderNotifica4 = props.renderNotifications) === null || _props$renderNotifica4 === void 0 ? void 0 : _props$renderNotifica4.mobile);\n\n    case 'loading':\n      return loadingMobileHeaderItems;\n  }\n};\n\nexport const GlobalHeader = props => {\n  _s();\n\n  const {\n    action,\n    onLinkAction\n  } = props;\n  const [isInHeaderRegion, setIsInHeaderRegion] = useState(true);\n  useEffect(() => {\n    const checkScroll = () => {\n      var _window;\n\n      return setIsInHeaderRegion(((_window = window) === null || _window === void 0 ? void 0 : _window.pageYOffset) === 0);\n    };\n\n    checkScroll();\n    document.addEventListener('scroll', checkScroll);\n    return () => document.removeEventListener('scroll', checkScroll);\n  }, []);\n  const theme = useTheme();\n  const combinedAction = useCallback((event, item) => {\n    action(event, item);\n    if (isAppHeaderItemWithHref(item)) onLinkAction === null || onLinkAction === void 0 ? void 0 : onLinkAction(event, item);\n  }, [action, onLinkAction]);\n  const headerClasses = cx(styles.stickyHeader, isInHeaderRegion && styles.transitionFadeOut);\n  return /*#__PURE__*/_jsxDEV(Box, {\n    as: \"header\",\n    position: \"sticky\",\n    top: 0,\n    zIndex: theme.elements.headerZ,\n    children: [/*#__PURE__*/_jsxDEV(Box, {\n      display: {\n        _: 'none',\n        md: 'block'\n      },\n      height: theme.elements.headerHeight,\n      className: headerClasses,\n      children: /*#__PURE__*/_jsxDEV(AppHeader, {\n        action: combinedAction,\n        items: getAppHeaderItems(props),\n        search: props.search,\n        redirectParam: props.type === 'anon' ? props.redirectParam : undefined\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      display: {\n        _: 'block',\n        md: 'none'\n      },\n      height: theme.elements.headerHeight,\n      className: headerClasses,\n      children: /*#__PURE__*/_jsxDEV(AppHeaderMobile, {\n        action: combinedAction,\n        items: getMobileAppHeaderItems(props),\n        onSearch: props.search.onSearch,\n        redirectParam: props.type === 'anon' ? props.redirectParam : undefined\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 7\n    }, this), props.children]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 124,\n    columnNumber: 5\n  }, this);\n};\n\n_s(GlobalHeader, \"czGb3wYWgqQPSiqCL/VxADs6WRE=\", false, function () {\n  return [useTheme];\n});\n\n_c = GlobalHeader;\n\nvar _c;\n\n$RefreshReg$(_c, \"GlobalHeader\");","map":{"version":3,"sources":["/Users/akrah/Documents/dev/readux/src/codefluent/src/components/gamut-overrides/GlobalHeader/index.tsx"],"names":["Box","useTheme","cx","React","useCallback","useEffect","useState","AppHeader","AppHeaderMobile","isAppHeaderItemWithHref","anonDefaultHeaderItems","anonDefaultMobileHeaderItems","anonLandingHeaderItems","anonLandingMobileHeaderItems","anonLoginHeaderItems","anonLoginMobileHeaderItems","anonSignupHeaderItems","anonSignupMobileHeaderItems","freeHeaderItems","freeMobileHeaderItems","loadingHeaderItems","loadingMobileHeaderItems","proHeaderItems","proMobileHeaderItems","styles","getAppHeaderItems","props","type","variant","user","renderNotifications","desktop","getMobileAppHeaderItems","mobile","GlobalHeader","action","onLinkAction","isInHeaderRegion","setIsInHeaderRegion","checkScroll","window","pageYOffset","document","addEventListener","removeEventListener","theme","combinedAction","event","item","headerClasses","stickyHeader","transitionFadeOut","elements","headerZ","_","md","headerHeight","search","redirectParam","undefined","onSearch","children"],"mappings":"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","sourcesContent":["import { Box } from '@codecademy/gamut';\nimport { useTheme } from '@emotion/react';\nimport cx from 'classnames';\nimport React, { useCallback, useEffect, useState } from 'react';\n\nimport { AppHeader, AppHeaderMobile } from '..';\nimport {\n  AppHeaderItem,\n  isAppHeaderItemWithHref,\n} from '../AppHeader/AppHeaderElements/types';\nimport {\n  FormattedAppHeaderItems,\n  FormattedMobileAppHeaderItems,\n} from '../AppHeader/types';\nimport {\n  anonDefaultHeaderItems,\n  anonDefaultMobileHeaderItems,\n  anonLandingHeaderItems,\n  anonLandingMobileHeaderItems,\n  anonLoginHeaderItems,\n  anonLoginMobileHeaderItems,\n  anonSignupHeaderItems,\n  anonSignupMobileHeaderItems,\n  freeHeaderItems,\n  freeMobileHeaderItems,\n  loadingHeaderItems,\n  loadingMobileHeaderItems,\n  proHeaderItems,\n  proMobileHeaderItems,\n} from './GlobalHeaderVariants';\nimport styles from './styles.module.scss';\nimport { AnonHeader, FreeHeader, LoadingHeader, ProHeader } from './types';\n\nexport type GlobalHeaderProps =\n  | AnonHeader\n  | FreeHeader\n  | ProHeader\n  | LoadingHeader;\n\nconst getAppHeaderItems = (\n  props: GlobalHeaderProps\n): FormattedAppHeaderItems => {\n  switch (props.type) {\n    case 'anon':\n      switch (props.variant) {\n        case 'landing':\n          return anonLandingHeaderItems();\n        case 'login':\n          return anonLoginHeaderItems();\n        case 'signup':\n          return anonSignupHeaderItems();\n        default:\n          return anonDefaultHeaderItems();\n      }\n    case 'free':\n      return freeHeaderItems(props.user, props.renderNotifications?.desktop);\n    case 'pro':\n      return proHeaderItems(props.user, props.renderNotifications?.desktop);\n    case 'loading':\n      return loadingHeaderItems;\n  }\n};\n\nconst getMobileAppHeaderItems = (\n  props: GlobalHeaderProps\n): FormattedMobileAppHeaderItems => {\n  switch (props.type) {\n    case 'anon':\n      switch (props.variant) {\n        case 'landing':\n          return anonLandingMobileHeaderItems();\n        case 'login':\n          return anonLoginMobileHeaderItems();\n        case 'signup':\n          return anonSignupMobileHeaderItems();\n        default:\n          return anonDefaultMobileHeaderItems();\n      }\n    case 'free':\n      return freeMobileHeaderItems(\n        props.user,\n        props.renderNotifications?.mobile\n      );\n    case 'pro':\n      return proMobileHeaderItems(\n        props.user,\n        props.renderNotifications?.mobile\n      );\n    case 'loading':\n      return loadingMobileHeaderItems;\n  }\n};\n\nexport const GlobalHeader: React.FC<GlobalHeaderProps> = (props) => {\n  const { action, onLinkAction } = props;\n\n  const [isInHeaderRegion, setIsInHeaderRegion] = useState(true);\n\n  \n  useEffect(() => {\n    const checkScroll = () => setIsInHeaderRegion(window?.pageYOffset === 0);\n    checkScroll();\n    document.addEventListener('scroll', checkScroll);\n    return () => document.removeEventListener('scroll', checkScroll);\n  }, []);\n\n  const theme = useTheme();\n\n  const combinedAction = useCallback(\n    (event: React.MouseEvent, item: AppHeaderItem) => {\n      action(event, item);\n      if (isAppHeaderItemWithHref(item)) onLinkAction?.(event, item);\n    },\n    [action, onLinkAction]\n  );\n\n  const headerClasses = cx(\n    styles.stickyHeader,\n    \n    isInHeaderRegion && styles.transitionFadeOut\n  );\n\n  return (\n    <Box as=\"header\" position=\"sticky\" top={0} zIndex={theme.elements.headerZ}>\n      <Box\n        display={{ _: 'none', md: 'block' }}\n        height={theme.elements.headerHeight}\n        className={headerClasses}\n      >\n        <AppHeader\n          action={combinedAction}\n          items={getAppHeaderItems(props)}\n          search={props.search}\n          redirectParam={\n            props.type === 'anon' ? props.redirectParam : undefined\n          }\n        />\n      </Box>\n      <Box\n        display={{ _: 'block', md: 'none' }}\n        height={theme.elements.headerHeight}\n        className={headerClasses}\n      >\n        <AppHeaderMobile\n          action={combinedAction}\n          items={getMobileAppHeaderItems(props)}\n          onSearch={props.search.onSearch}\n          redirectParam={\n            props.type === 'anon' ? props.redirectParam : undefined\n          }\n        />\n      </Box>\n      {props.children}\n    </Box>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}