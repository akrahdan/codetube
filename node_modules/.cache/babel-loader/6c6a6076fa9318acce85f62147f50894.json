{"ast":null,"code":"import _regeneratorRuntime from\"/Users/akrah/Documents/dev/readux/src/codefluent/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/akrah/Documents/dev/readux/src/codefluent/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/akrah/Documents/dev/readux/src/codefluent/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _defineProperty from\"/Users/akrah/Documents/dev/readux/src/codefluent/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";var _routesMeta;import'./course.scss';import{getRouteComponent}from'./getRouteComponent';import{CATEGORY,CHOICE,DESCRIPTION,TITLE}from'./routes';import CourseCategory from'./CourseCategory';import CourseTitle from'./CourseTitle';import CourseDescription from'./CourseDescription';import InstructionChoice from'./InstructionChoice';import logo from\"static/images/brand/logo/codefluent.svg\";import{useState}from'react';import{useHistory}from'react-router';import classNames from'classnames';import{useCreateCourseMutation}from'services/courses';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var routesMeta=(_routesMeta={},_defineProperty(_routesMeta,\"\".concat(CATEGORY),{scene:CourseCategory,pageName:undefined}),_defineProperty(_routesMeta,\"\".concat(TITLE),{scene:CourseTitle,pageName:undefined}),_defineProperty(_routesMeta,\"\".concat(DESCRIPTION),{scene:CourseDescription,pageName:undefined}),_defineProperty(_routesMeta,\"\".concat(CHOICE),{scene:InstructionChoice,pageName:undefined}),_routesMeta);var initialState={title:'',description:'',category:''};export var CreateCourse=function CreateCourse(props){var _useState=useState('choice'),_useState2=_slicedToArray(_useState,2),locationType=_useState2[0],setLocationType=_useState2[1];var _useCreateCourseMutat=useCreateCourseMutation(),_useCreateCourseMutat2=_slicedToArray(_useCreateCourseMutat,1),createCourse=_useCreateCourseMutat2[0];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),value=_useState4[0],setValue=_useState4[1];var _useState5=useState(25),_useState6=_slicedToArray(_useState5,2),width=_useState6[0],setWidth=_useState6[1];var _useState7=useState(1),_useState8=_slicedToArray(_useState7,2),step=_useState8[0],setStep=_useState8[1];var _useState9=useState(null),_useState10=_slicedToArray(_useState9,2),courseId=_useState10[0],setCourseId=_useState10[1];var _useState11=useState(),_useState12=_slicedToArray(_useState11,2),course=_useState12[0],setCourse=_useState12[1];var _useHistory=useHistory(),push=_useHistory.push;var headings=[CHOICE,TITLE,CATEGORY,DESCRIPTION];var handleCreateCourse=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(courseRequest){var result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return createCourse(courseRequest).unwrap();case 3:result=_context.sent;if(result){setCourseId(result.id);push(\"/instructor/course/\".concat(result.id,\"/manage/goals\"));}console.log('Course: ',result);_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.log(\"Error:\",_context.t0);case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return function handleCreateCourse(_x){return _ref.apply(this,arguments);};}();var _getRouteComponent=getRouteComponent(routesMeta,locationType),Scene=_getRouteComponent.scene;return/*#__PURE__*/_jsx(\"div\",{className:\"full-page-takeover--window--1ei3d\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"full-page-takeover--page--2QirY\",\"data-purpose\":\"page\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"full-page-takeover--header--2mfbT\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"full-page-takeover--logo-block--1Op9u\",children:/*#__PURE__*/_jsx(\"img\",{className:\"udemy-logo full-page-takeover--rebrand-logo--36Lru\",alt:\"codefluent\",width:91,height:34,src:logo})}),/*#__PURE__*/_jsx(\"div\",{className:\"full-page-takeover--header-divider--3XSTc\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"full-page-takeover--header-text-block--1PdFS\",\"data-purpose\":\"header-text\",children:[\"Step \",step,\" of 4\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"full-page-takeover--header-buttons--1lu2t\",children:/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){push('/');},type:\"button\",className:\"btn btn-tertiary\",children:\"Exit\"})})]}),/*#__PURE__*/_jsx(\"div\",{\"data-purpose\":\"header-bottom\",className:\"full-page-takeover--header-bottom--progress--2Hfvp\",children:/*#__PURE__*/_jsx(\"div\",{className:\"full-page-takeover--header-bottom--progress-highlight--1Pr6t\",style:{width:\"\".concat(width,\"%\")}})})]}),/*#__PURE__*/_jsx(Scene,{course:course,handleChange:function handleChange(v){return setValue(v);},updateCourse:setCourse}),/*#__PURE__*/_jsx(\"div\",{\"data-purpose\":\"footer\",className:\"full-page-takeover--footer--2wFgA\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-xxs-6 full-page-takeover--button-container--1rnpO\",children:/*#__PURE__*/_jsx(\"div\",{className:\"udlite-in-udheavy\",children:locationType!=CHOICE&&/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){var heading=headings[step-1];var wd=(step-1)*100/headings.length;setWidth(wd);setStep(step-1);setLocationType(heading);},type:\"button\",\"data-purpose\":\"left-button\",className:\"udlite-btn udlite-btn-large udlite-btn-ghost udlite-heading-md udlite-link-neutral full-page-takeover--left-button--3-75z\",children:/*#__PURE__*/_jsx(\"span\",{children:\"Previous\"})})})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-xxs-6 full-page-takeover--button-container--1rnpO\",children:/*#__PURE__*/_jsx(\"div\",{className:\"udlite-in-udheavy\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:function onClick(){if(step>=headings.length){handleCreateCourse(course);}else{var heading=headings[step];var wd=(step+1)*100/headings.length;setWidth(wd);setStep(step+1);setLocationType(heading);setValue('');}},className:classNames(\"udlite-btn udlite-btn-large udlite-btn-primary udlite-heading-md full-page-takeover--right-button--i1q_g\",{'udlite-btn-disabled':course&&!course[locationType]&&!value}),disabled:course&&!course[locationType]&&!value,tabIndex:-1,children:/*#__PURE__*/_jsx(\"span\",{children:locationType==DESCRIPTION?'Create Course':' Continue'})})})})]})})})]})});};export default CreateCourse;","map":{"version":3,"sources":["/Users/akrah/Documents/dev/readux/src/codefluent/src/portal/scenes/Instructor/Courses/createCourse.tsx"],"names":["getRouteComponent","CATEGORY","CHOICE","DESCRIPTION","TITLE","CourseCategory","CourseTitle","CourseDescription","InstructionChoice","useState","useHistory","classNames","useCreateCourseMutation","routesMeta","scene","pageName","undefined","initialState","title","description","category","CreateCourse","props","locationType","setLocationType","createCourse","value","setValue","width","setWidth","step","setStep","courseId","setCourseId","course","setCourse","push","headings","handleCreateCourse","courseRequest","unwrap","result","id","console","log","Scene","logo","v","heading","wd","length"],"mappings":"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","sourcesContent":["import './course.scss';\nimport { RouteMeta } from 'libs/location/routing';\nimport { getRouteComponent } from './getRouteComponent';\nimport { CATEGORY, CHOICE, DESCRIPTION, TITLE } from './routes';\n\nimport CourseCategory from './CourseCategory';\nimport CourseTitle from './CourseTitle';\nimport CourseDescription from './CourseDescription';\nimport InstructionChoice from './InstructionChoice';\nimport logo from 'static/images/brand/logo/codefluent.svg';\nimport { useEffect, useState } from 'react';\n\n\nimport { useHistory } from 'react-router';\n\nimport classNames from 'classnames';\nimport { CourseRequest } from 'services/courses'\nimport { useCreateCourseMutation } from 'services/courses';\nexport const routesMeta: Record<string, RouteMeta> = {\n\n  [`${CATEGORY}`]: {\n    scene: CourseCategory,\n    pageName: undefined,\n  },\n\n  [`${TITLE}`]: {\n    scene: CourseTitle,\n    pageName: undefined,\n  },\n\n  [`${DESCRIPTION}`]: {\n    scene: CourseDescription,\n    pageName: undefined,\n  },\n\n  [`${CHOICE}`]: {\n    scene: InstructionChoice,\n    pageName: undefined,\n  },\n\n\n\n}\nconst initialState = {\n  title: '',\n  description: '',\n  category: ''\n}\nexport const CreateCourse = (props) => {\n  const [locationType, setLocationType] = useState('choice')\n  \n  const [createCourse] = useCreateCourseMutation()\n  const [value, setValue] = useState('');\n  const [width, setWidth] = useState(25)\n  const [step, setStep] = useState(1)\n  const [courseId, setCourseId] = useState(null);\n  const [course, setCourse] = useState<Partial<CourseRequest>>()\n\n  const { push } = useHistory()\n  const headings = [CHOICE, TITLE, CATEGORY, DESCRIPTION,]\n  const handleCreateCourse = async (courseRequest: Partial<CourseRequest>) => {\n    try {\n     \n      const result = await createCourse(courseRequest).unwrap()\n      if (result) {\n        setCourseId(result.id)\n        push(`/instructor/course/${result.id}/manage/goals`)\n      }\n      console.log('Course: ', result)\n    }\n    catch (error) {\n      console.log(\"Error:\", error)\n    }\n\n  }\n\n  const { scene: Scene } = getRouteComponent(routesMeta, locationType)\n \n  return (\n    <div className=\"full-page-takeover--window--1ei3d\">\n      <div className=\"full-page-takeover--page--2QirY\" data-purpose=\"page\">\n        <div>\n          \n          <div className=\"full-page-takeover--header--2mfbT\">\n            <div className=\"full-page-takeover--logo-block--1Op9u\">\n              <img\n                className=\"udemy-logo full-page-takeover--rebrand-logo--36Lru\"\n                alt=\"codefluent\"\n                width={91}\n                height={34}\n\n                src={logo}\n              />\n            </div>\n            <div className=\"full-page-takeover--header-divider--3XSTc\" />\n            <div\n              className=\"full-page-takeover--header-text-block--1PdFS\"\n              data-purpose=\"header-text\"\n            >\n              Step {step} of 4\n            </div>\n            <div className=\"full-page-takeover--header-buttons--1lu2t\">\n              <button\n                onClick={() => {\n                  push('/')\n                }}\n                type=\"button\"\n                className=\"btn btn-tertiary\"\n              >\n                Exit\n              </button>\n            </div>\n          </div>\n          <div\n            data-purpose=\"header-bottom\"\n            className=\"full-page-takeover--header-bottom--progress--2Hfvp\"\n          >\n            <div\n              className=\"full-page-takeover--header-bottom--progress-highlight--1Pr6t\"\n              style={{ width: `${width}%` }}\n            />\n          </div>\n        </div>\n        <Scene course={course} handleChange={(v) => setValue(v)\n        }\n          updateCourse={setCourse} />\n        <div data-purpose=\"footer\" className=\"full-page-takeover--footer--2wFgA\">\n          <div className=\"container\">\n            <div className=\"row\">\n              <div className=\"col-xxs-6 full-page-takeover--button-container--1rnpO\">\n                <div className=\"udlite-in-udheavy\">\n                  {(locationType != CHOICE) && <button\n                    onClick={() => {\n                      const heading = headings[step - 1]\n                      const wd = ((step - 1) * 100 / (headings.length))\n                      setWidth(wd);\n                      setStep(step - 1)\n                      setLocationType(heading)\n\n                    }}\n                    type=\"button\"\n                    data-purpose=\"left-button\"\n                    className=\"udlite-btn udlite-btn-large udlite-btn-ghost udlite-heading-md udlite-link-neutral full-page-takeover--left-button--3-75z\"\n                  >\n                    <span>Previous</span>\n                  </button>}\n                </div>\n              </div>\n              <div className=\"col-xxs-6 full-page-takeover--button-container--1rnpO\">\n                <div className=\"udlite-in-udheavy\">\n                  <button\n                    type=\"button\"\n                    onClick={() => {\n                      if (step >= headings.length) {\n                        handleCreateCourse(course)\n                      } else {\n                        const heading = headings[step]\n                        const wd = ((step + 1) * 100 / (headings.length))\n                        setWidth(wd);\n                        setStep(step + 1)\n                        setLocationType(heading)\n                        setValue('')\n                      }\n                    }}\n\n                    className={classNames(\"udlite-btn udlite-btn-large udlite-btn-primary udlite-heading-md full-page-takeover--right-button--i1q_g\", {\n                      'udlite-btn-disabled': course && !course[locationType] && !value\n                    })}\n                    disabled={ course && !course[locationType] && !value}\n                    tabIndex={-1}\n                  >\n                    <span>{locationType == DESCRIPTION ? 'Create Course' : ' Continue'}</span>\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default CreateCourse;\n"]},"metadata":{},"sourceType":"module"}