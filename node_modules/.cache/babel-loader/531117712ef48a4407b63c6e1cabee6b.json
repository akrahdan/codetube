{"ast":null,"code":"import _defineProperty from\"/Users/akrah/Documents/dev/readux/src/codefluent/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/akrah/Documents/dev/readux/src/codefluent/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/akrah/Documents/dev/readux/src/codefluent/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/akrah/Documents/dev/readux/src/codefluent/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/akrah/Documents/dev/readux/src/codefluent/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{connect}from'react-redux';import classNames from'classnames';import{setVolume as _setVolume,setVolumeSliderActive as _setVolumeSliderActive,setPreviousVolume as _setPreviousVolume}from'state/player/playerSlice';import{InteractionModes}from'../../constants';import css from'./volume-slider.module.scss';import VolumeButton from'../volume-button';import Slider from'../../slider/slider';import{VOLUME_STEP}from'../../constants';import Tooltip from'../../tooltip/tooltip';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var VolumeSlider=/*#__PURE__*/function(_Component){_inherits(VolumeSlider,_Component);var _super=_createSuper(VolumeSlider);function VolumeSlider(props){var _this;_classCallCheck(this,VolumeSlider);_this=_super.call(this,props);_this.handleChange=function(value){var setVolume=_this.props.setVolume;setVolume&&setVolume(value);};_this.handleChangeStart=function(value){var _this$props=_this.props,setPreviousVolume=_this$props.setPreviousVolume,setVolume=_this$props.setVolume;_this.setState({dragging:true});setVolume&&setVolume(value);setPreviousVolume&&setPreviousVolume(value);};_this.handleChangeEnd=function(){_this.setState({dragging:false});};_this.setVolumeSliderActive=function(isActive){return function(){return _this.props.setVolumeSliderActive(isActive);};};_this.state={dragging:false};return _this;}_createClass(VolumeSlider,[{key:\"render\",value:function render(){var _this$props2=this.props,interactionMode=_this$props2.interactionMode,volume=_this$props2.volume,_this$props2$volumeSl=_this$props2.volumeSliderActive,volumeSliderActive=_this$props2$volumeSl===void 0?true:_this$props2$volumeSl,muted=_this$props2.muted;var dragging=this.state.dragging;var ariaLabel=\"Use arrow keys to adjust volume\";var isActive=volumeSliderActive||dragging||interactionMode===InteractionModes.TOUCH||interactionMode===InteractionModes.KEYBOARD;return/*#__PURE__*/_jsxs(\"div\",{className:css.volumeSliderWrapper,onMouseEnter:this.setVolumeSliderActive(true),onMouseLeave:this.setVolumeSliderActive(false),onFocus:this.setVolumeSliderActive(true),onBlur:this.setVolumeSliderActive(false),children:[/*#__PURE__*/_jsx(\"div\",{className:css.sliderIcon,children:/*#__PURE__*/_jsx(Tooltip,{text:muted?'Unmute (m)':'Mute (m)',children:/*#__PURE__*/_jsx(VolumeButton,{})})}),/*#__PURE__*/_jsx(\"div\",{className:classNames(_defineProperty({},css.active,isActive),css.videoSlider),children:/*#__PURE__*/_jsx(\"div\",{className:classNames(_defineProperty({},css.active,isActive),css.wrapper),children:/*#__PURE__*/_jsx(\"div\",{className:classNames(css.sliderWrapper),children:/*#__PURE__*/_jsx(Slider,{ariaLabel:ariaLabel,step:VOLUME_STEP,barClass:css.barClass,className:css.slider,value:volume,onChange:this.handleChange,onChangeStart:this.handleChangeStart,onChangeEnd:this.handleChangeEnd,fillClass:css.fill,hovering:true,padded:true})})})})]});}}]);return VolumeSlider;}(Component);export default connect(function(state){return{volume:state.player.volume,volumeSliderActive:state.player.volumeSliderActive,interactionMode:state.player.interactionMode,muted:state.player.muted};},function(dispatch){return{setVolume:function setVolume(payload){return dispatch(_setVolume(payload));},setPreviousVolume:function setPreviousVolume(payload){return dispatch(_setPreviousVolume(payload));},setVolumeSliderActive:function setVolumeSliderActive(payload){return dispatch(_setVolumeSliderActive(payload));}};})(VolumeSlider);","map":{"version":3,"sources":["/Users/akrah/Documents/dev/readux/src/codefluent/src/portal/scenes/CoursePlayer/control-bar/volume-slider/volume-slider.js"],"names":["React","Component","connect","classNames","setVolume","setVolumeSliderActive","setPreviousVolume","InteractionModes","css","VolumeButton","Slider","VOLUME_STEP","Tooltip","VolumeSlider","props","handleChange","value","handleChangeStart","setState","dragging","handleChangeEnd","isActive","state","interactionMode","volume","volumeSliderActive","muted","ariaLabel","TOUCH","KEYBOARD","volumeSliderWrapper","sliderIcon","active","videoSlider","wrapper","sliderWrapper","barClass","slider","fill","player","dispatch","payload"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { connect } from 'react-redux';\nimport classNames from 'classnames'\nimport { setVolume,setVolumeSliderActive, setPreviousVolume} from 'state/player/playerSlice'\n\nimport { InteractionModes } from '../../constants'\n\nimport css from './volume-slider.module.scss'\nimport VolumeButton from '../volume-button'\nimport Slider from '../../slider/slider'\nimport { VOLUME_STEP } from '../../constants'\nimport Tooltip from '../../tooltip/tooltip'\n\nexport class VolumeSlider extends Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      dragging: false,\n    }\n  }\n\n  handleChange = value => {\n    const { setVolume } = this.props\n\n    setVolume && setVolume(value)\n  }\n\n  handleChangeStart = value => {\n    const { setPreviousVolume, setVolume } = this.props\n\n    this.setState({ dragging: true })\n\n    setVolume && setVolume(value)\n\n    setPreviousVolume && setPreviousVolume(value)\n  }\n\n  handleChangeEnd = () => {\n    this.setState({ dragging: false })\n  }\n\n  setVolumeSliderActive = isActive => {\n    return () => this.props.setVolumeSliderActive(isActive)\n  }\n\n  render() {\n    const { interactionMode, volume, volumeSliderActive = true, muted } = this.props\n    const { dragging } = this.state\n    const ariaLabel = `Use arrow keys to adjust volume`\n   \n    const isActive =\n      volumeSliderActive ||\n      dragging ||\n      (interactionMode === InteractionModes.TOUCH || interactionMode === InteractionModes.KEYBOARD)\n\n    return (\n      <div\n        className={css.volumeSliderWrapper}\n        onMouseEnter={this.setVolumeSliderActive(true)}\n        onMouseLeave={this.setVolumeSliderActive(false)}\n        onFocus={this.setVolumeSliderActive(true)}\n        onBlur={this.setVolumeSliderActive(false)}\n      >\n        <div className={css.sliderIcon}>\n          <Tooltip text={muted ? 'Unmute (m)' : 'Mute (m)'}>\n            <VolumeButton />\n          </Tooltip>\n        </div>\n        <div className={classNames({ [css.active]: isActive }, css.videoSlider)}>\n          <div className={classNames({ [css.active]: isActive }, css.wrapper)}>\n            <div className={classNames(css.sliderWrapper)}>\n              <Slider\n                ariaLabel={ariaLabel}\n                step={VOLUME_STEP}\n                barClass={css.barClass}\n                className={css.slider}\n                value={volume}\n                onChange={this.handleChange}\n                onChangeStart={this.handleChangeStart}\n                onChangeEnd={this.handleChangeEnd}\n                fillClass={css.fill}\n                hovering\n                padded\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default connect(\n  state => ({\n    volume: state.player.volume,\n    volumeSliderActive: state.player.volumeSliderActive,\n    interactionMode: state.player.interactionMode,\n    muted: state.player.muted,\n  }),\n  dispatch => ({\n    setVolume: payload => dispatch(setVolume(payload)),\n    setPreviousVolume: payload => dispatch(setPreviousVolume(payload)),\n    setVolumeSliderActive: payload => dispatch(setVolumeSliderActive(payload)),\n  })\n)(VolumeSlider)\n"]},"metadata":{},"sourceType":"module"}