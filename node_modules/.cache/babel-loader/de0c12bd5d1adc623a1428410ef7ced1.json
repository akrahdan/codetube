{"ast":null,"code":"var _jsxFileName = \"/Users/akrah/Documents/dev/readux/src/codefluent/src/portal/scenes/Instructor/Dashboard/UserDropdown.tsx\",\n    _s = $RefreshSig$();\n\nimport { useLogoutMutation } from 'services/auth';\nimport cookie from 'react-cookies';\nimport { useHistory } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const UserDropdown = ({\n  profile\n}) => {\n  _s();\n\n  const {\n    push\n  } = useHistory();\n  const [logout] = useLogoutMutation();\n\n  if (!profile) {\n    return null;\n  }\n\n  const initialAvatar = profile => {\n    const firstName = profile.first_name;\n    const lastName = profile.last_name;\n\n    if (firstName && firstName !== \"\") {\n      return firstName.substr(0, 2);\n    }\n\n    if (lastName && lastName !== \"\") {\n      return lastName.substr(0, 2);\n    }\n\n    const user = profile.user;\n\n    if (user.email && user.email !== \"\") {\n      return user.email.substr(0, 2);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"ul\", {\n    role: \"menu\",\n    className: \"dropdown-menu dropdown-menu-right\",\n    \"aria-labelledby\": \"header.profile\",\n    children: [/*#__PURE__*/_jsxDEV(\"li\", {\n      role: \"presentation\",\n      className: \"menu__link\",\n      children: /*#__PURE__*/_jsxDEV(\"a\", {\n        \"aria-label\": \"Edit your profile\",\n        \"data-purpose\": \"edit-profile\",\n        href: \"/instructor/user/edit-profile/\",\n        rel: \" noopener noreferrer\",\n        target: \"_self\",\n        role: \"menuitem\",\n        children: [profile.avatar ? /*#__PURE__*/_jsxDEV(\"img\", {\n          alt: \"\",\n          className: \"user-avatar user-avatar--image\",\n          height: 48,\n          src: profile.avatar,\n          width: 48\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 30\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          role: \"img\",\n          \"aria-label\": profile && profile.email,\n          className: \"user-avatar user-avatar--initials\",\n          style: {\n            backgroundColor: \"rgb(28, 29, 31)\",\n            fontSize: \"15px\",\n            width: \"48px\"\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"user-avatar__inner fx-c\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"user-initials\",\n              children: init\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 16\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"fx ml-space-xs\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-midnight ellipsis\",\n            children: profile.first_name ? `${profile.first_name} ${profile.last_name}` : profile.email ? profile.email : profile.user.email\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"a11 text-midnight-lighter ellipsis\",\n            children: profile.email ? profile.email : profile.user ? profile.user.email : ''\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n      role: \"presentation\",\n      className: \"menu__link hidden-lg hidden-xl\",\n      children: /*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"/instructor/courses\",\n        rel: \" noopener noreferrer\",\n        target: \"_self\",\n        role: \"menuitem\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"My notifications\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n      role: \"presentation\",\n      className: \"menu__link\",\n      children: /*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"/profiles/me\",\n        rel: \"nofollow noreferrer noopener noopener noreferrer\",\n        target: \"_blank\",\n        role: \"menuitem\",\n        children: \"Public profile\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n      role: \"presentation\",\n      className: \"menu__link\",\n      children: /*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"/instructor/user/edit-info\",\n        rel: \" noopener noreferrer\",\n        target: \"_self\",\n        role: \"menuitem\",\n        children: \"Payout settings\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n      role: \"separator\",\n      className: \"divider\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n      role: \"presentation\",\n      className: \"menu__link\",\n      children: /*#__PURE__*/_jsxDEV(\"a\", {\n        \"data-purpose\": \"do-logout\",\n        onClick: event => {\n          event.preventDefault();\n          const obj = {\n            csrfmiddlewaretoken: cookie.load('csrftoken')\n          };\n          logout(obj).then(() => {\n            push('/');\n          });\n        },\n        rel: \" noopener noreferrer\",\n        target: \"_self\",\n        role: \"menuitem\",\n        children: \"Log out\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n      role: \"separator\",\n      className: \"divider--account-ads divider\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n      role: \"presentation\",\n      className: \"menu__link account-menu-ufb-ad\",\n      children: /*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"#\",\n        rel: \"noopener noopener\",\n        target: \"_blank\",\n        role: \"menuitem\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 5\n  }, this);\n};\n\n_s(UserDropdown, \"7M1h29cg40lKNkuAmzcCFZjhz3o=\", false, function () {\n  return [useHistory, useLogoutMutation];\n});\n\n_c = UserDropdown;\n\nvar _c;\n\n$RefreshReg$(_c, \"UserDropdown\");","map":{"version":3,"sources":["/Users/akrah/Documents/dev/readux/src/codefluent/src/portal/scenes/Instructor/Dashboard/UserDropdown.tsx"],"names":["useLogoutMutation","cookie","useHistory","UserDropdown","profile","push","logout","initialAvatar","firstName","first_name","lastName","last_name","substr","user","email","avatar","backgroundColor","fontSize","width","init","event","preventDefault","obj","csrfmiddlewaretoken","load","then"],"mappings":"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","sourcesContent":["import type { InstructorResponse } from \"services/courses\";\nimport { useLogoutMutation} from 'services/auth';\nimport cookie from 'react-cookies';\nimport { useHistory } from 'react-router-dom'\ntype DropdownProps = {\n  profile: InstructorResponse\n}\nexport const UserDropdown: React.FC<DropdownProps> = ({ profile }) => {\n\n  const { push } = useHistory()\n  const [ logout ] = useLogoutMutation()\n  if (!profile) {\n    return null;\n  }\n\n  const initialAvatar = (profile: InstructorResponse) => {\n    const firstName = profile.first_name;\n    const lastName = profile.last_name;\n    if(firstName && firstName !== \"\") {\n      return firstName.substr(0,2)\n    }\n    if(lastName && lastName !== \"\") {\n      return lastName.substr(0,2)\n    }\n    const user = profile.user;\n    if (user.email && user.email !== \"\") {\n      return user.email.substr(0,2)\n    }\n  }\n\n  return (\n    <ul\n      role=\"menu\"\n      className=\"dropdown-menu dropdown-menu-right\"\n      aria-labelledby=\"header.profile\"\n    >\n      <li role=\"presentation\" className=\"menu__link\">\n        <a\n          aria-label=\"Edit your profile\"\n          data-purpose=\"edit-profile\"\n          href=\"/instructor/user/edit-profile/\"\n          rel=\" noopener noreferrer\"\n          target=\"_self\"\n\n          role=\"menuitem\"\n        >\n          {profile.avatar ? (<img alt=\"\" className=\"user-avatar user-avatar--image\" height={48} src={profile.avatar} width={48} />\n          ) : (<div\n            role=\"img\"\n            aria-label={profile && profile.email}\n            className=\"user-avatar user-avatar--initials\"\n            style={{\n              backgroundColor: \"rgb(28, 29, 31)\",\n              fontSize: \"15px\",\n              width: \"48px\",\n            }}\n          >\n            <div className=\"user-avatar__inner fx-c\">\n              <span className=\"user-initials\">{init}</span>\n            </div>\n          </div>)}\n          <span className=\"fx ml-space-xs\">\n            <span className=\"text-midnight ellipsis\">{profile.first_name ? `${profile.first_name} ${profile.last_name}` : profile.email ? profile.email : profile.user.email}</span>\n            <span className=\"a11 text-midnight-lighter ellipsis\">\n              {profile.email ? profile.email : profile.user ? profile.user.email : ''}\n            </span>\n          </span>\n        </a>\n      </li>\n      <li role=\"presentation\" className=\"menu__link hidden-lg hidden-xl\">\n        <a\n          href=\"/instructor/courses\"\n          rel=\" noopener noreferrer\"\n          target=\"_self\"\n\n          role=\"menuitem\"\n        >\n          <span>My notifications</span>\n        </a>\n      </li>\n      <li role=\"presentation\" className=\"menu__link\">\n        <a\n          href=\"/profiles/me\"\n          rel=\"nofollow noreferrer noopener noopener noreferrer\"\n          target=\"_blank\"\n\n          role=\"menuitem\"\n        >\n          Public profile\n        </a>\n      </li>\n\n      <li role=\"presentation\" className=\"menu__link\">\n        <a\n          href=\"/instructor/user/edit-info\"\n          rel=\" noopener noreferrer\"\n          target=\"_self\"\n\n          role=\"menuitem\"\n        >\n          Payout settings\n        </a>\n      </li>\n      <li role=\"separator\" className=\"divider\" />\n      <li role=\"presentation\" className=\"menu__link\">\n        <a\n          data-purpose=\"do-logout\"\n          onClick = {event => {\n            event.preventDefault()\n            const obj = {\n              csrfmiddlewaretoken: cookie.load('csrftoken')\n            }\n            logout(obj).then(() => {\n              push('/')\n            })\n          }}\n\n          rel=\" noopener noreferrer\"\n          target=\"_self\"\n\n          role=\"menuitem\"\n        >\n          Log out\n        </a>\n      </li>\n      <li role=\"separator\" className=\"divider--account-ads divider\" />\n      <li role=\"presentation\" className=\"menu__link account-menu-ufb-ad\">\n        <a\n\n          href=\"#\"\n          rel=\"noopener noopener\"\n          target=\"_blank\"\n          role=\"menuitem\"\n        >\n\n        </a>\n      </li>\n    </ul>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}