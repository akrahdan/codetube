{"ast":null,"code":"var _jsxFileName = \"/Users/akrah/Documents/dev/readux/src/codefluent/src/components/gamut-overrides/AppHeader/Search/SearchPaneContents.tsx\",\n    _s = $RefreshSig$();\n\nimport { Box, ContentContainer, FlexBox, FocusTrap } from '@codecademy/gamut';\nimport { SearchIcon } from '@codecademy/gamut-icons';\nimport { system } from '@codecademy/gamut-styles';\nimport { useTheme } from '@emotion/react';\nimport styled from '@emotion/styled';\nimport React, { useEffect, useRef, useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst searchTerms = ['Data Science', 'Python', 'Web Development', 'HTML', 'Java'];\nconst Form = Box.withComponent('form');\n_c = Form;\nconst Input = Box.withComponent('input');\nconst QueryContainer = styled(ContentContainer)(system.css({\n  display: 'flex',\n  pb: 0,\n  pt: 16,\n  width: '100%'\n}));\nconst SuggestionContainer = styled(ContentContainer)(system.css({\n  pb: 24,\n  pt: 16\n}));\nconst StyledInput = styled(Input)`\n  outline: none;\n`;\n_c2 = StyledInput;\nexport const SearchPaneContents = ({\n  onSearch,\n  onTrackingClick,\n  toggleSearch\n}) => {\n  _s();\n\n  const theme = useTheme();\n  const [value, setValue] = useState('');\n  const searchElementRef = useRef(null);\n  const inputRef = useRef(null);\n\n  const handleOutsideClick = e => {\n    var _searchElementRef$cur;\n\n    const target = e.target;\n\n    if ((_searchElementRef$cur = searchElementRef.current) === null || _searchElementRef$cur === void 0 ? void 0 : _searchElementRef$cur.contains(target)) {\n      return;\n    }\n\n    if (target.closest('header')) {\n      return;\n    }\n\n    toggleSearch();\n  };\n\n  const navigateToSearch = searchTerm => {\n    onSearch(searchTerm);\n    toggleSearch();\n  };\n\n  const handleChange = event => {\n    setValue(event.target.value);\n  };\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    navigateToSearch(value);\n  };\n\n  useEffect(() => {\n    var _inputRef$current;\n\n    (_inputRef$current = inputRef.current) === null || _inputRef$current === void 0 ? void 0 : _inputRef$current.focus();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Box, {\n      \"aria-hidden\": true,\n      bg: \"shadow-black-slight\",\n      height: \"100%\",\n      onClick: toggleSearch,\n      position: \"fixed\" // We add 5rem here in case there's some sort of branded banner above search\n      // The search area is much taller than 5rem so this is a safe amount of padding\n      ,\n      top: `calc(${theme.elements.headerHeight} + 5rem)`,\n      width: 1\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(FocusTrap, {\n      onClickOutside: handleOutsideClick,\n      onEscapeKey: toggleSearch,\n      allowPageInteraction: true,\n      children: /*#__PURE__*/_jsxDEV(Box, {\n        bg: \"white\",\n        borderColorBottom: \"navy\",\n        borderColorTop: \"gray-100\",\n        borderStyle: \"solid\",\n        borderWidth: \"2px 0 1px\",\n        \"data-testid\": \"header-search-dropdown\",\n        position: \"absolute\",\n        ref: searchElementRef,\n        width: \"100%\",\n        children: /*#__PURE__*/_jsxDEV(Box, {\n          border: \"none\",\n          width: \"auto\",\n          children: /*#__PURE__*/_jsxDEV(QueryContainer, {\n            children: /*#__PURE__*/_jsxDEV(FlexBox, {\n              alignItems: \"baseline\",\n              borderColor: \"gray-600\",\n              borderStyleBottom: \"solid\",\n              borderWidthBottom: \"1px\",\n              width: \"100%\",\n              children: [/*#__PURE__*/_jsxDEV(SearchIcon, {\n                color: \"gray-600\",\n                height: 24,\n                width: 24\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 132,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form, {\n                action: \"/search\",\n                id: \"search-form\",\n                ml: 8,\n                onSubmit: handleSubmit,\n                width: \"100%\",\n                children: /*#__PURE__*/_jsxDEV(StyledInput, {\n                  background: \"none\",\n                  border: \"none\",\n                  fontSize: 34,\n                  fontWeight: \"bold\",\n                  id: \"header-search-bar\",\n                  name: \"query\",\n                  onChange: handleChange,\n                  onKeyDown: event => event.stopPropagation(),\n                  placeholder: \"Search for \",\n                  ref: inputRef,\n                  type: \"search\",\n                  value: value,\n                  width: \"100%\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 140,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 133,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(SearchPaneContents, \"475k2E+ZDHMxxDxvgn72lgMpHGk=\", false, function () {\n  return [useTheme];\n});\n\n_c3 = SearchPaneContents;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"Form\");\n$RefreshReg$(_c2, \"StyledInput\");\n$RefreshReg$(_c3, \"SearchPaneContents\");","map":{"version":3,"sources":["/Users/akrah/Documents/dev/readux/src/codefluent/src/components/gamut-overrides/AppHeader/Search/SearchPaneContents.tsx"],"names":["Box","ContentContainer","FlexBox","FocusTrap","SearchIcon","system","useTheme","styled","React","useEffect","useRef","useState","searchTerms","Form","withComponent","Input","QueryContainer","css","display","pb","pt","width","SuggestionContainer","StyledInput","SearchPaneContents","onSearch","onTrackingClick","toggleSearch","theme","value","setValue","searchElementRef","inputRef","handleOutsideClick","e","target","current","contains","closest","navigateToSearch","searchTerm","handleChange","event","handleSubmit","preventDefault","focus","elements","headerHeight","stopPropagation"],"mappings":"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","sourcesContent":["import {\n  Box,\n  ContentContainer,\n  FlexBox,\n  FocusTrap,\n  Text,\n  TextButton,\n} from '@codecademy/gamut';\nimport { SearchIcon, SupportIcon } from '@codecademy/gamut-icons';\nimport { system } from '@codecademy/gamut-styles';\nimport { useTheme } from '@emotion/react';\nimport styled from '@emotion/styled';\nimport { camelCase } from 'lodash';\nimport React, { useEffect, useRef, useState } from 'react';\n\nexport type SearchPaneContentsProps = {\n  onSearch: (query: string) => void;\n  onTrackingClick: (target: string) => void;\n  toggleSearch: () => void;\n};\n\nconst searchTerms = [\n  'Data Science',\n  'Python',\n  'Web Development',\n  'HTML',\n  'Java',\n];\n\nconst Form = Box.withComponent('form');\nconst Input = Box.withComponent('input');\n\nconst QueryContainer = styled(ContentContainer)(\n  system.css({\n    display: 'flex',\n    pb: 0,\n    pt: 16,\n    width: '100%',\n  })\n);\n\nconst SuggestionContainer = styled(ContentContainer)(\n  system.css({\n    pb: 24,\n    pt: 16,\n  })\n);\n\nconst StyledInput = styled(Input)`\n  outline: none;\n`;\n\nexport const SearchPaneContents: React.FC<SearchPaneContentsProps> = ({\n  onSearch,\n  onTrackingClick,\n  toggleSearch,\n}) => {\n  const theme = useTheme();\n  const [value, setValue] = useState('');\n  const searchElementRef = useRef<HTMLDivElement>(null);\n  const inputRef = useRef<HTMLInputElement>(null);\n\n  const handleOutsideClick = (e: MouseEvent) => {\n    const target = e.target as Element;\n    if (searchElementRef.current?.contains(target)) {\n      return;\n    }\n\n    if (target.closest('header')) {\n      return;\n    }\n\n    toggleSearch();\n  };\n\n  const navigateToSearch = (searchTerm: string) => {\n    onSearch(searchTerm);\n    toggleSearch();\n  };\n\n  const handleChange: React.ChangeEventHandler<HTMLInputElement> = (event) => {\n    setValue(event.target.value);\n  };\n\n  const handleSubmit: React.FormEventHandler = (event) => {\n    event.preventDefault();\n    navigateToSearch(value);\n  };\n\n  useEffect(() => {\n    inputRef.current?.focus();\n  }, []);\n\n  return (\n    <>\n      <Box\n        aria-hidden\n        bg=\"shadow-black-slight\"\n        height=\"100%\"\n        onClick={toggleSearch}\n        position=\"fixed\"\n        // We add 5rem here in case there's some sort of branded banner above search\n        // The search area is much taller than 5rem so this is a safe amount of padding\n        top={`calc(${theme.elements.headerHeight} + 5rem)`}\n        width={1}\n      />\n      <FocusTrap\n        onClickOutside={handleOutsideClick}\n        onEscapeKey={toggleSearch}\n        allowPageInteraction\n      >\n        <Box\n          bg=\"white\"\n          borderColorBottom=\"navy\"\n          borderColorTop=\"gray-100\"\n          borderStyle=\"solid\"\n          borderWidth=\"2px 0 1px\"\n          data-testid=\"header-search-dropdown\"\n          position=\"absolute\"\n          ref={searchElementRef}\n          width=\"100%\"\n        >\n          <Box border=\"none\" width=\"auto\">\n            <QueryContainer>\n              <FlexBox\n                alignItems=\"baseline\"\n                borderColor=\"gray-600\"\n                borderStyleBottom=\"solid\"\n                borderWidthBottom=\"1px\"\n                width=\"100%\"\n              >\n                <SearchIcon color=\"gray-600\" height={24} width={24} />\n                <Form\n                  action=\"/search\"\n                  id=\"search-form\"\n                  ml={8}\n                  onSubmit={handleSubmit}\n                  width=\"100%\"\n                >\n                  <StyledInput\n                    background=\"none\"\n                    border=\"none\"\n                    fontSize={34}\n                    fontWeight=\"bold\"\n                    id=\"header-search-bar\"\n                    name=\"query\"\n                    onChange={handleChange}\n                    onKeyDown={(event) => event.stopPropagation()}\n                    placeholder=\"Search for \"\n                    ref={inputRef}\n                    type=\"search\"\n                    value={value}\n                    width=\"100%\"\n                  />\n                </Form>\n              </FlexBox>\n            </QueryContainer>\n          </Box>\n          {/* <SuggestionContainer>\n            <Text as=\"h3\" fontSize={20} my={16}>\n              Popular Searches\n            </Text>\n            <FlexBox justifyContent=\"space-between\">\n              <div>\n                {searchTerms.map((searchTerm) => (\n                  <TextButton\n                    mr={16}\n                    key={searchTerm}\n                    onClick={() => {\n                      navigateToSearch(searchTerm);\n                      onTrackingClick(\n                        `popular_search_term_${camelCase(searchTerm)}`\n                      );\n                    }}\n                  >\n                    {searchTerm}\n                  </TextButton>\n                ))}\n              </div>\n              <TextButton\n                href=\"/help\"\n                onClick={() => onTrackingClick('help_center')}\n              >\n                <SupportIcon mr={8} size={20} /> Help Center\n              </TextButton>\n            </FlexBox>\n          </SuggestionContainer> */}\n        </Box>\n      </FocusTrap>\n    </>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}