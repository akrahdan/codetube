{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport { CloseIcon } from '@pluralsight/ps-design-system-icon';\nimport glamorDefault, * as glamorExports from 'glamor';\nimport React from 'react';\nimport { useCookies } from 'react-cookie';\nimport stylesheet from '../css/index';\nvar glamor = glamorDefault || glamorExports;\nvar DISMISS_COOKIE_NAME = 'prism-cookienotify';\nvar DEFAULT_PRIVACY_UPDATED_DATE = new Date('2018-05-24T00:00:00');\nvar styles = {\n  banner: function () {\n    return glamor.compose(glamor.css(stylesheet['.psds-navcookiebanner']), glamor.media('(min-width: 769px)', glamor.css(stylesheet['@media (min-width: 769px)']['.psds-navcookiebanner'])), glamor.media('print', glamor.css(stylesheet['@media print']['.psds-navcookiebanner'])));\n  },\n  message: function () {\n    return glamor.css(stylesheet['.psds-navcookiebanner__message']);\n  },\n  dismiss: function () {\n    return glamor.css(stylesheet['.psds-navcookiebanner__dismiss']);\n  }\n};\nvar NavCookieBanner = React.forwardRef(function (props, forwardedRef) {\n  var cookieOptions = props.cookieOptions,\n      message = props.message,\n      _a = props.privacyUpdatedDate,\n      privacyUpdatedDate = _a === void 0 ? DEFAULT_PRIVACY_UPDATED_DATE : _a,\n      rest = __rest(props, [\"cookieOptions\", \"message\", \"privacyUpdatedDate\"]);\n\n  var ref = React.useRef(null);\n  React.useImperativeHandle(forwardedRef, function () {\n    return ref.current;\n  });\n\n  var _b = useCookies([DISMISS_COOKIE_NAME]),\n      cookies = _b[0],\n      setCookie = _b[1];\n\n  var cookieDateAccepted = parseCookie(cookies[DISMISS_COOKIE_NAME]);\n  var dismissed = cookieDateAccepted && cookieDateAccepted > privacyUpdatedDate;\n  if (dismissed) return null;\n\n  function dismiss() {\n    var oneYear = new Date();\n    oneYear.setFullYear(oneYear.getFullYear() + 1);\n    setCookie(DISMISS_COOKIE_NAME, Date.now(), __assign({\n      domain: '.pluralsight.com',\n      expires: oneYear,\n      secure: true,\n      sameSite: 'strict'\n    }, cookieOptions));\n  }\n\n  return React.createElement(\"div\", __assign({\n    ref: ref\n  }, styles.banner(), rest), React.createElement(\"p\", __assign({}, styles.message()), message || React.createElement(React.Fragment, null, React.createElement(\"label\", null, \"Pluralsight uses cookies.\"), '  ', React.createElement(\"a\", {\n    href: \"//www.pluralsight.com/privacy\"\n  }, \"Learn more about your privacy\"))), React.createElement(\"button\", __assign({}, styles.dismiss(), {\n    \"aria-label\": \"close\",\n    onClick: dismiss\n  }), React.createElement(CloseIcon, null)));\n});\nNavCookieBanner.displayName = 'NavCookieBanner';\nexport default NavCookieBanner;\n\nfunction parseCookie(numberStr) {\n  return numberStr ? new Date(parseInt(numberStr, 10)) : undefined;\n}","map":{"version":3,"sources":["../../../src/react/index.tsx"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { CloseIcon } from '@pluralsight/ps-design-system-icon';\nimport glamorDefault, * as glamorExports from 'glamor';\nimport React from 'react';\nimport { useCookies } from 'react-cookie';\nimport stylesheet from '../css/index';\nvar glamor = glamorDefault || glamorExports;\nvar DISMISS_COOKIE_NAME = 'prism-cookienotify';\nvar DEFAULT_PRIVACY_UPDATED_DATE = new Date('2018-05-24T00:00:00');\nvar styles = {\n    banner: function () {\n        return glamor.compose(glamor.css(stylesheet['.psds-navcookiebanner']), glamor.media('(min-width: 769px)', glamor.css(stylesheet['@media (min-width: 769px)']['.psds-navcookiebanner'])), glamor.media('print', glamor.css(stylesheet['@media print']['.psds-navcookiebanner'])));\n    },\n    message: function () { return glamor.css(stylesheet['.psds-navcookiebanner__message']); },\n    dismiss: function () { return glamor.css(stylesheet['.psds-navcookiebanner__dismiss']); }\n};\nvar NavCookieBanner = React.forwardRef(function (props, forwardedRef) {\n    var cookieOptions = props.cookieOptions, message = props.message, _a = props.privacyUpdatedDate, privacyUpdatedDate = _a === void 0 ? DEFAULT_PRIVACY_UPDATED_DATE : _a, rest = __rest(props, [\"cookieOptions\", \"message\", \"privacyUpdatedDate\"]);\n    var ref = React.useRef(null);\n    React.useImperativeHandle(forwardedRef, function () { return ref.current; });\n    var _b = useCookies([DISMISS_COOKIE_NAME]), cookies = _b[0], setCookie = _b[1];\n    var cookieDateAccepted = parseCookie(cookies[DISMISS_COOKIE_NAME]);\n    var dismissed = cookieDateAccepted && cookieDateAccepted > privacyUpdatedDate;\n    if (dismissed)\n        return null;\n    function dismiss() {\n        var oneYear = new Date();\n        oneYear.setFullYear(oneYear.getFullYear() + 1);\n        setCookie(DISMISS_COOKIE_NAME, Date.now(), __assign({ domain: '.pluralsight.com', expires: oneYear, secure: true, sameSite: 'strict' }, cookieOptions));\n    }\n    return (React.createElement(\"div\", __assign({ ref: ref }, styles.banner(), rest),\n        React.createElement(\"p\", __assign({}, styles.message()), message || (React.createElement(React.Fragment, null,\n            React.createElement(\"label\", null, \"Pluralsight uses cookies.\"),\n            '  ',\n            React.createElement(\"a\", { href: \"//www.pluralsight.com/privacy\" }, \"Learn more about your privacy\")))),\n        React.createElement(\"button\", __assign({}, styles.dismiss(), { \"aria-label\": \"close\", onClick: dismiss }),\n            React.createElement(CloseIcon, null))));\n});\nNavCookieBanner.displayName = 'NavCookieBanner';\nexport default NavCookieBanner;\nfunction parseCookie(numberStr) {\n    return numberStr ? new Date(parseInt(numberStr, 10)) : undefined;\n}\n//# sourceMappingURL=index.js.map"]},"metadata":{},"sourceType":"module"}