{"ast":null,"code":"import _objectSpread from\"/Users/akrah/Documents/dev/readux/src/codefluent/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{omit,pick}from'lodash';import{isProMembershipRedirect}from'libs/redirectHelpers';import{safeRedirectUrl}from'libs/url';import{learnPath,onboardingFromSignupPath,workerSupportApplicationPath}from'libs/urlHelpers';import{UserSubmitKey}from'./types';export var getAfterLoginPath=function getAfterLoginPath(_ref){var workerSupportApplicant=_ref.workerSupportApplicant;if(workerSupportApplicant){return workerSupportApplicationPath;}return onboardingFromSignupPath;};export var redirectAfterLogin=function redirectAfterLogin(_ref2){var redirectTo=_ref2.redirectTo,workerSupportApplicant=_ref2.workerSupportApplicant;if(!isProMembershipRedirect(redirectTo)){window.location.assign(safeRedirectUrl(getAfterLoginPath({workerSupportApplicant:workerSupportApplicant})));return;}window.location.assign(safeRedirectUrl(redirectTo||learnPath()));};var userKeys=Object.values(UserSubmitKey);export var serializeRegistrationValues=function serializeRegistrationValues(values){return _objectSpread(_objectSpread({},omit(values,userKeys)),{},{user:pick(values,userKeys)});};","map":{"version":3,"sources":["/Users/akrah/Documents/dev/readux/src/codefluent/src/components/Forms/RegistrationForm/helpers.tsx"],"names":["omit","pick","isProMembershipRedirect","safeRedirectUrl","learnPath","onboardingFromSignupPath","workerSupportApplicationPath","UserSubmitKey","getAfterLoginPath","workerSupportApplicant","redirectAfterLogin","redirectTo","window","location","assign","userKeys","Object","values","serializeRegistrationValues","user"],"mappings":"sKAAA,OAASA,IAAT,CAAeC,IAAf,KAA2B,QAA3B,CAEA,OAASC,uBAAT,KAAwC,sBAAxC,CACA,OAASC,eAAT,KAAgC,UAAhC,CACA,OACEC,SADF,CAEEC,wBAFF,CAGEC,4BAHF,KAIO,iBAJP,CAMA,OAIEC,aAJF,KAKO,SALP,CAOA,MAAO,IAAMC,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,MAEH,IAD5BC,CAAAA,sBAC4B,MAD5BA,sBAC4B,CAC5B,GAAIA,sBAAJ,CAA4B,CAC1B,MAAOH,CAAAA,4BAAP,CACD,CACD,MAAOD,CAAAA,wBAAP,CACD,CAPM,CASP,MAAO,IAAMK,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,OAGP,IAFzBC,CAAAA,UAEyB,OAFzBA,UAEyB,CADzBF,sBACyB,OADzBA,sBACyB,CACzB,GAAI,CAACP,uBAAuB,CAACS,UAAD,CAA5B,CAA0C,CACxCC,MAAM,CAACC,QAAP,CAAgBC,MAAhB,CACEX,eAAe,CACbK,iBAAiB,CAAC,CAChBC,sBAAsB,CAAtBA,sBADgB,CAAD,CADJ,CADjB,EAOA,OACD,CAEDG,MAAM,CAACC,QAAP,CAAgBC,MAAhB,CAAuBX,eAAe,CAACQ,UAAU,EAAIP,SAAS,EAAxB,CAAtC,EACD,CAhBM,CAkBP,GAAMW,CAAAA,QAAQ,CAAGC,MAAM,CAACC,MAAP,CAAcV,aAAd,CAAjB,CAEA,MAAO,IAAMW,CAAAA,2BAA2B,CAAG,QAA9BA,CAAAA,2BAA8B,CAACD,MAAD,wCACtCjB,IAAI,CAACiB,MAAD,CAASF,QAAT,CADkC,MAEzCI,IAAI,CAAElB,IAAI,CAACgB,MAAD,CAASF,QAAT,CAF+B,IAApC","sourcesContent":["import { omit, pick } from 'lodash';\n\nimport { isProMembershipRedirect } from 'libs/redirectHelpers';\nimport { safeRedirectUrl } from 'libs/url';\nimport {\n  learnPath,\n  onboardingFromSignupPath,\n  workerSupportApplicationPath,\n} from 'libs/urlHelpers';\n\nimport {\n  GetAfterLoginPathProps,\n  SubmitValues,\n  SuccessCallbackProp,\n  UserSubmitKey,\n} from './types';\n\nexport const getAfterLoginPath = ({\n  workerSupportApplicant,\n}: GetAfterLoginPathProps) => {\n  if (workerSupportApplicant) {\n    return workerSupportApplicationPath;\n  }\n  return onboardingFromSignupPath;\n};\n\nexport const redirectAfterLogin = ({\n  redirectTo,\n  workerSupportApplicant,\n}: SuccessCallbackProp) => {\n  if (!isProMembershipRedirect(redirectTo)) {\n    window.location.assign(\n      safeRedirectUrl(\n        getAfterLoginPath({\n          workerSupportApplicant,\n        })\n      )\n    );\n    return;\n  }\n\n  window.location.assign(safeRedirectUrl(redirectTo || learnPath()));\n};\n\nconst userKeys = Object.values(UserSubmitKey);\n\nexport const serializeRegistrationValues = (values: SubmitValues) => ({\n  ...omit(values, userKeys),\n  user: pick(values, userKeys),\n});\n"]},"metadata":{},"sourceType":"module"}