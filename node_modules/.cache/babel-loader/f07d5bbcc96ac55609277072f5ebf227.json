{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport Halo from '@pluralsight/ps-design-system-halo';\nimport { WarningIcon } from '@pluralsight/ps-design-system-icon';\nimport { combineFns, forwardRefWithStatics } from '@pluralsight/ps-design-system-util';\nimport Theme, { names as themeNames } from '@pluralsight/ps-design-system-theme';\nimport glamorDefault, * as glamorExports from 'glamor';\nimport React from 'react';\nimport { FieldContext } from './context';\nimport stylesheet from '../css/field';\nimport Input from './input';\nimport Label from './label';\nimport SubLabel from './sub-label';\nimport TextArea from './text-area';\nimport { appearances, sizes } from '../vars/index';\nvar glamor = glamorDefault || glamorExports;\nvar styles = {\n  container: function (opts) {\n    return glamor.compose(glamor.css(stylesheet['.psds-field__container']), opts.disabled && glamor.css(stylesheet['.psds-field__container--disabled']), opts.error && glamor.css(stylesheet['.psds-field__container--error']));\n  },\n  field: function (opts) {\n    return glamor.compose(glamor.css(stylesheet['.psds-field']), glamor.css(stylesheet[\".psds-field--\" + opts.size]), opts.hasPrefix && glamor.css(stylesheet['.psds-field--prefix']), opts.hasSuffix && glamor.css(stylesheet['.psds-field--suffix']));\n  },\n  halo: function () {\n    return glamor.css(stylesheet['.psds-field__halo']);\n  },\n  prefix: function () {\n    return glamor.css(stylesheet['.psds-field__prefix']);\n  },\n  suffix: function () {\n    return glamor.css(stylesheet['.psds-field__suffix']);\n  },\n  errorIcon: function () {\n    return glamor.css(stylesheet['.psds-field__error-icon']);\n  }\n};\nvar Field = forwardRefWithStatics(function (props, forwardedRef) {\n  var children = props.children,\n      disabled = props.disabled,\n      error = props.error,\n      label = props.label,\n      onClick = props.onClick,\n      prefix = props.prefix,\n      _a = props.renderContainer,\n      renderContainer = _a === void 0 ? defaultRenderContainer : _a,\n      _b = props.renderTag,\n      renderTag = _b === void 0 ? defaultRenderTag : _b,\n      _c = props.size,\n      size = _c === void 0 ? sizes.medium : _c,\n      subLabel = props.subLabel,\n      suffix = props.suffix,\n      rest = __rest(props, [\"children\", \"disabled\", \"error\", \"label\", \"onClick\", \"prefix\", \"renderContainer\", \"renderTag\", \"size\", \"subLabel\", \"suffix\"]);\n\n  var containerRef = React.useRef(null);\n  React.useImperativeHandle(forwardedRef, function () {\n    return containerRef.current;\n  });\n  var Container = React.useMemo(function () {\n    return renderContainer;\n  }, [renderContainer]);\n  var Tag = React.useMemo(function () {\n    return renderTag;\n  }, [renderTag]);\n  var focusOnClick = React.useCallback(function (evt) {\n    var focusableTags = ['input', 'select', 'textarea'];\n    var el = containerRef.current;\n    if (!el || el.contains(document.activeElement)) return;\n    if (focusableTags.includes(getTargetTag(evt))) return;\n    var node = el.querySelector(focusableTags.join(','));\n    if (node) node.focus();\n  }, []);\n  var handleClick = combineFns(onClick, focusOnClick);\n  return React.createElement(FieldContext.Provider, {\n    value: {\n      size: size\n    }\n  }, React.createElement(Container, __assign({}, styles.container({\n    disabled: disabled,\n    error: error\n  }), {\n    onClick: handleClick,\n    ref: containerRef\n  }), label && label, React.createElement(Theme, {\n    name: themeNames.light\n  }, React.createElement(Halo, __assign({\n    error: error,\n    gapSize: Halo.gapSizes.small\n  }, styles.halo()), React.createElement(Tag, __assign({}, styles.field({\n    hasPrefix: !!prefix,\n    hasSuffix: !!suffix,\n    size: size\n  }), rest), prefix && React.createElement(\"div\", __assign({}, styles.prefix()), prefix), children, suffix && React.createElement(\"div\", __assign({}, styles.suffix()), suffix), error && React.createElement(\"div\", __assign({}, styles.errorIcon()), React.createElement(WarningIcon, null))))), subLabel && subLabel));\n});\nvar defaultRenderContainer = React.forwardRef(function (props, ref) {\n  return React.createElement(\"div\", __assign({\n    ref: ref\n  }, props));\n});\n\nvar defaultRenderTag = function (props) {\n  return React.createElement(\"div\", __assign({}, props));\n};\n\nvar getTargetTag = function (evt) {\n  if (!(evt.target instanceof Element)) return 'unknown';\n  return evt.target.tagName.toLowerCase();\n};\n\nField.displayName = 'Field';\nField.Input = Input;\nField.Label = Label;\nField.SubLabel = SubLabel;\nField.TextArea = TextArea;\nField.appearances = appearances;\nField.sizes = sizes;\nexport default Field;","map":{"version":3,"sources":["../../../src/react/field.tsx"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport Halo from '@pluralsight/ps-design-system-halo';\nimport { WarningIcon } from '@pluralsight/ps-design-system-icon';\nimport { combineFns, forwardRefWithStatics } from '@pluralsight/ps-design-system-util';\nimport Theme, { names as themeNames } from '@pluralsight/ps-design-system-theme';\nimport glamorDefault, * as glamorExports from 'glamor';\nimport React from 'react';\nimport { FieldContext } from './context';\nimport stylesheet from '../css/field';\nimport Input from './input';\nimport Label from './label';\nimport SubLabel from './sub-label';\nimport TextArea from './text-area';\nimport { appearances, sizes } from '../vars/index';\nvar glamor = glamorDefault || glamorExports;\nvar styles = {\n    container: function (opts) {\n        return glamor.compose(glamor.css(stylesheet['.psds-field__container']), opts.disabled &&\n            glamor.css(stylesheet['.psds-field__container--disabled']), opts.error && glamor.css(stylesheet['.psds-field__container--error']));\n    },\n    field: function (opts) {\n        return glamor.compose(glamor.css(stylesheet['.psds-field']), glamor.css(stylesheet[\".psds-field--\" + opts.size]), opts.hasPrefix && glamor.css(stylesheet['.psds-field--prefix']), opts.hasSuffix && glamor.css(stylesheet['.psds-field--suffix']));\n    },\n    halo: function () { return glamor.css(stylesheet['.psds-field__halo']); },\n    prefix: function () { return glamor.css(stylesheet['.psds-field__prefix']); },\n    suffix: function () { return glamor.css(stylesheet['.psds-field__suffix']); },\n    errorIcon: function () { return glamor.css(stylesheet['.psds-field__error-icon']); }\n};\nvar Field = forwardRefWithStatics(function (props, forwardedRef) {\n    var children = props.children, disabled = props.disabled, error = props.error, label = props.label, onClick = props.onClick, prefix = props.prefix, _a = props.renderContainer, renderContainer = _a === void 0 ? defaultRenderContainer : _a, _b = props.renderTag, renderTag = _b === void 0 ? defaultRenderTag : _b, _c = props.size, size = _c === void 0 ? sizes.medium : _c, subLabel = props.subLabel, suffix = props.suffix, rest = __rest(props, [\"children\", \"disabled\", \"error\", \"label\", \"onClick\", \"prefix\", \"renderContainer\", \"renderTag\", \"size\", \"subLabel\", \"suffix\"]);\n    var containerRef = React.useRef(null);\n    React.useImperativeHandle(forwardedRef, function () { return containerRef.current; });\n    var Container = React.useMemo(function () { return renderContainer; }, [renderContainer]);\n    var Tag = React.useMemo(function () { return renderTag; }, [renderTag]);\n    var focusOnClick = React.useCallback(function (evt) {\n        var focusableTags = ['input', 'select', 'textarea'];\n        var el = containerRef.current;\n        if (!el || el.contains(document.activeElement))\n            return;\n        if (focusableTags.includes(getTargetTag(evt)))\n            return;\n        var node = el.querySelector(focusableTags.join(','));\n        if (node)\n            node.focus();\n    }, []);\n    var handleClick = combineFns(onClick, focusOnClick);\n    return (React.createElement(FieldContext.Provider, { value: {\n            size: size\n        } },\n        React.createElement(Container, __assign({}, styles.container({ disabled: disabled, error: error }), { onClick: handleClick, ref: containerRef }),\n            label && label,\n            React.createElement(Theme, { name: themeNames.light },\n                React.createElement(Halo, __assign({ error: error, gapSize: Halo.gapSizes.small }, styles.halo()),\n                    React.createElement(Tag, __assign({}, styles.field({\n                        hasPrefix: !!prefix,\n                        hasSuffix: !!suffix,\n                        size: size\n                    }), rest),\n                        prefix && React.createElement(\"div\", __assign({}, styles.prefix()), prefix),\n                        children,\n                        suffix && React.createElement(\"div\", __assign({}, styles.suffix()), suffix),\n                        error && (React.createElement(\"div\", __assign({}, styles.errorIcon()),\n                            React.createElement(WarningIcon, null)))))),\n            subLabel && subLabel)));\n});\nvar defaultRenderContainer = React.forwardRef(function (props, ref) { return React.createElement(\"div\", __assign({ ref: ref }, props)); });\nvar defaultRenderTag = function (props) { return React.createElement(\"div\", __assign({}, props)); };\nvar getTargetTag = function (evt) {\n    if (!(evt.target instanceof Element))\n        return 'unknown';\n    return evt.target.tagName.toLowerCase();\n};\nField.displayName = 'Field';\nField.Input = Input;\nField.Label = Label;\nField.SubLabel = SubLabel;\nField.TextArea = TextArea;\nField.appearances = appearances;\nField.sizes = sizes;\nexport default Field;\n//# sourceMappingURL=field.js.map"]},"metadata":{},"sourceType":"module"}