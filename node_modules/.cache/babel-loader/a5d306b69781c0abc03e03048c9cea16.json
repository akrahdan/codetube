{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nimport { coursesApi } from \"services/courses\";\nconst initialState = {\n  course: null,\n  pricing: null,\n  saveProps: {\n    submit: false,\n    locationPath: null\n  }\n};\nconst courseSlice = createSlice({\n  name: \"course\",\n  initialState: initialState,\n  reducers: {\n    saveCourse: (state, action) => {\n      state.saveProps = action.payload;\n    }\n  },\n  extraReducers: builder => {\n    builder.addMatcher(coursesApi.endpoints.createCourse.matchFulfilled, (state, {\n      payload\n    }) => {\n      state.course = payload;\n    }).addMatcher(coursesApi.endpoints.fetchCourse.matchFulfilled, (state, {\n      payload\n    }) => {\n      state.course = payload;\n    }).addMatcher(coursesApi.endpoints.trackViews.matchFulfilled, (state, {\n      payload\n    }) => {\n      state.views = payload;\n    }).addMatcher(coursesApi.endpoints.fetchViews.matchFulfilled, (state, {\n      payload\n    }) => {\n      state.views = payload;\n    }).addMatcher(coursesApi.endpoints.fetchCourseViews.matchFulfilled, (state, {\n      payload\n    }) => {\n      state.analytics = payload;\n    }).addMatcher(coursesApi.endpoints.fetchVideoViews.matchFulfilled, (state, {\n      payload\n    }) => {\n      state.analytics = payload;\n    }).addMatcher(coursesApi.endpoints.updateVideoViews.matchFulfilled, (state, {\n      payload\n    }) => {\n      const analytics = state.analytics.map(view => {\n        if (payload.lecture == view) {}\n      });\n      state.analytics = payload;\n    }).addMatcher(coursesApi.endpoints.updateCourse.matchFulfilled, (state, {\n      payload\n    }) => {\n      state.course = payload;\n    }).addMatcher(coursesApi.endpoints.fetchResources.matchFulfilled, (state, {\n      payload\n    }) => {\n      state.resources = payload;\n    }).addMatcher(coursesApi.endpoints.fetchPricing.matchFulfilled, (state, {\n      payload\n    }) => {\n      state.pricing = payload;\n    }).addMatcher(coursesApi.endpoints.createResource.matchFulfilled, (state, {\n      payload\n    }) => {\n      state.resources = payload;\n    }).addMatcher(coursesApi.endpoints.fetchInstructorCourses.matchFulfilled, (state, {\n      payload\n    }) => {\n      state.courses = payload;\n    });\n  }\n});\nexport const {\n  saveCourse\n} = courseSlice.actions;\nexport default courseSlice.reducer;\nexport const selectCourse = state => state.course.course;\nexport const selectCourses = state => state.course.courses;\nexport const selectResources = state => state.course.resources;\nexport const selectPricing = state => state.course.pricing;\nexport const selectSave = state => state.course.saveProps;\nexport const selectViews = state => state.course.views;\nexport const selectAnalytics = state => state.course.analytics;","map":{"version":3,"sources":["/Users/akrah/Documents/dev/readux/src/codefluent/src/state/course/courseSplice.ts"],"names":["createSlice","coursesApi","initialState","course","pricing","saveProps","submit","locationPath","courseSlice","name","reducers","saveCourse","state","action","payload","extraReducers","builder","addMatcher","endpoints","createCourse","matchFulfilled","fetchCourse","trackViews","views","fetchViews","fetchCourseViews","analytics","fetchVideoViews","updateVideoViews","map","view","lecture","updateCourse","fetchResources","resources","fetchPricing","createResource","fetchInstructorCourses","courses","actions","reducer","selectCourse","selectCourses","selectResources","selectPricing","selectSave","selectViews","selectAnalytics"],"mappings":"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","sourcesContent":["import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\nimport { UserSubmitKey } from \"components/Forms/RegistrationForm/dist/types\";\nimport type { User } from \"services/auth\";\nimport type { RootState } from \"store\";\nimport {\n  CourseResponse,\n  coursesApi,\n  MediaResponse,\n  Pricing,\n  VideoAnalytics,\n  ViewsResponse,\n} from \"services/courses\";\n\ninterface submitProps {\n  submit: boolean;\n  locationPath: string;\n}\ntype CourseState = {\n  course: CourseResponse | null;\n  views: ViewsResponse[] | null,\n  courses: CourseResponse[] | [];\n  analytics: VideoAnalytics[] | [];\n  resources: MediaResponse[] | [];\n  saveProps: submitProps | null;\n  pricing: Pricing | null;\n};\nconst initialState = {\n  course: null,\n  pricing: null,\n  saveProps: {\n    submit: false,\n    locationPath: null,\n  },\n};\nconst courseSlice = createSlice({\n  name: \"course\",\n  initialState: initialState as CourseState,\n  reducers: {\n    saveCourse: (state, action: PayloadAction<submitProps>) => {\n      state.saveProps = action.payload;\n    },\n  },\n  extraReducers: (builder) => {\n    builder\n      .addMatcher(\n        coursesApi.endpoints.createCourse.matchFulfilled,\n        (state, { payload }) => {\n          state.course = payload;\n        }\n      )\n      .addMatcher(\n        coursesApi.endpoints.fetchCourse.matchFulfilled,\n        (state, { payload }) => {\n          state.course = payload;\n        }\n      )\n      .addMatcher(\n        coursesApi.endpoints.trackViews.matchFulfilled,\n        (state, { payload }) => {\n          state.views = payload;\n        }\n      )\n      .addMatcher(\n        coursesApi.endpoints.fetchViews.matchFulfilled,\n        (state, { payload }) => {\n          state.views = payload;\n        }\n      ).addMatcher(\n        coursesApi.endpoints.fetchCourseViews.matchFulfilled,\n        (state, { payload }) => {\n          state.analytics = payload;\n        }\n      )\n      .addMatcher(\n        coursesApi.endpoints.fetchVideoViews.matchFulfilled,\n        (state, { payload }) => {\n          state.analytics = payload;\n        }\n      )\n      .addMatcher(\n        coursesApi.endpoints.updateVideoViews.matchFulfilled,\n        (state, { payload }) => {\n          const analytics = state.analytics.map(view => {\n            if(payload.lecture == view) {\n\n            }\n          })\n          state.analytics = payload;\n        }\n      )\n      .addMatcher(\n        coursesApi.endpoints.updateCourse.matchFulfilled,\n        (state, { payload }) => {\n          state.course = payload;\n        }\n      )\n      .addMatcher(\n        coursesApi.endpoints.fetchResources.matchFulfilled,\n        (state, { payload }) => {\n          state.resources = payload;\n        }\n      )\n      .addMatcher(\n        coursesApi.endpoints.fetchPricing.matchFulfilled,\n        (state, { payload }) => {\n          state.pricing = payload;\n        }\n      )\n      .addMatcher(\n        coursesApi.endpoints.createResource.matchFulfilled,\n        (state, { payload }) => {\n          state.resources = payload;\n        }\n      ).addMatcher(\n        coursesApi.endpoints.fetchInstructorCourses.matchFulfilled,\n        (state, { payload }) => {\n          state.courses = payload;\n        }\n      );\n  },\n});\n\nexport const { saveCourse } = courseSlice.actions;\n\nexport default courseSlice.reducer;\n\nexport const selectCourse = (state: RootState) => state.course.course;\nexport const selectCourses = (state: RootState) => state.course.courses;\nexport const selectResources = (state: RootState) => state.course.resources;\nexport const selectPricing = (state: RootState) => state.course.pricing;\nexport const selectSave = (state: RootState) => state.course.saveProps;\nexport const selectViews = (state: RootState) => state.course.views;\nexport const selectAnalytics = (state: RootState) => state.course.analytics;\n"]},"metadata":{},"sourceType":"module"}