{"ast":null,"code":"import _defineProperty from\"/Users/akrah/Documents/dev/codefluent/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _slicedToArray from\"/Users/akrah/Documents/dev/codefluent/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{ContentContainer,Video}from'@codecademy/gamut';import cx from'classnames';import{isEmpty}from'lodash';import React,{useContext,useState}from'react';import{ProjectCard}from'components/ProjectCard';// import { trackUserClick } from '~/libs/eventTracking';\nimport CMSContext from'portal/scenes/Paths/ContentfulContext';// import { selectUserJWT } from '~/state/currentUser/selectors';\nimport{Items,ProjectItems}from'./sample';import{HalfCircle}from'./icons/HalfCircle';import styles from'./styles.module.scss';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var byProject=function byProject(item){return item.type==='project';};var byVideo=function byVideo(item){return item.type==='video';};export var Projects=function Projects(){var _useContext=useContext(CMSContext),contentIds=_useContext.content_item_ids,sideShapesColor=_useContext.side_shapes_color,projectsHeadline=_useContext.projects_headline,videoHeadline=_useContext.video_headline;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),contentItems=_useState2[0],setContentItems=_useState2[1];// const jwt = useSelector(selectUserJWT);\n// useEffect(() => {\n//   (async () => {\n//     if (contentIds) {\n//       const { data } = await contentServiceRequest({\n//         endpoint: 'content-items/search',\n//         version: 1,\n//         data: {\n//           id: contentIds,\n//           minimal: false,\n//         },\n//         method: 'POST',\n//         jwt,\n//       });\n//       setContentItems(data);\n//     }\n//   })();\n// }, [contentIds, jwt]);\n// const renderProjects = () =>\n//   contentItems\n//     .filter(byProject)\n//     .map((project: ProjectContentItem, index: number) => (\n//       <ProjectCard\n//         project={project}\n//         index={index}\n//         key={project.id}\n//         className={styles.projectCard}\n//         trackingData={{ target: 'path_marketing_page_projects' }}\n//         hoverShadow\n//       />\n//     ));\nvar renderProjects=function renderProjects(){return ProjectItems.map(function(project,index){return/*#__PURE__*/_jsx(ProjectCard,{project:project,index:index,className:styles.projectCard,trackingData:{target:'path_marketing_page_projects'},hoverShadow:true},project.id);});};// const renderVideos = () =>\n//   contentItems.filter(byVideo).map((video: VideoContentItem) => (\n//     <div key={video.id} style={{ width: '100%' }}>\n//       <Video\n//         videoUrl={video.video_url}\n//         videoTitle={video.title}\n//         className={styles.video}\n//         onPlay={() =>\n//           // trackUserClick({\n//           //   page_name: 'marketingpathlandingpage',\n//           //   context: 'projects_section',\n//           //   target: 'play_video',\n//           //   video_url: video.video_url,\n//           // })\n//         console.log()}\n//       />\n//       <p className={styles.videoTitle}>{video.title}</p>\n//     </div>\n//   ));\nvar renderVideos=function renderVideos(){return Items.map(function(video){return/*#__PURE__*/_jsxs(\"div\",{style:{width:'100%'},children:[/*#__PURE__*/_jsx(Video,{videoUrl:video.video_url,videoTitle:video.title,className:styles.video,onPlay:function onPlay(){return(// trackUserClick({\n//   page_name: 'marketingpathlandingpage',\n//   context: 'projects_section',\n//   target: 'play_video',\n//   video_url: video.video_url,\n// })\nconsole.log());}}),/*#__PURE__*/_jsx(\"p\",{className:styles.videoTitle,children:video.title})]},video.id);});};var projects=renderProjects();var video=renderVideos();if(isEmpty(projects)&&isEmpty(video))return null;return/*#__PURE__*/_jsxs(\"div\",{className:styles.container,children:[/*#__PURE__*/_jsx(\"div\",{className:styles.backgroundHalfCircle,children:/*#__PURE__*/_jsx(HalfCircle,{fill:sideShapesColor!==null&&sideShapesColor!==void 0?sideShapesColor:''})}),/*#__PURE__*/_jsx(ContentContainer,{children:/*#__PURE__*/_jsxs(\"div\",{className:styles.contentItemsContainer,children:[!isEmpty(projects)&&/*#__PURE__*/_jsxs(\"div\",{className:styles.projectContainer,children:[/*#__PURE__*/_jsx(\"h2\",{children:projectsHeadline||'What you need to know'}),/*#__PURE__*/_jsx(\"div\",{className:styles.displayHorizontal,children:projects})]}),!isEmpty(video)&&/*#__PURE__*/_jsxs(\"div\",{className:cx(styles.videoContainer,_defineProperty({},styles.videoOnly,isEmpty(projects))),children:[/*#__PURE__*/_jsx(\"h2\",{children:videoHeadline||\"Getting Started\"}),/*#__PURE__*/_jsx(\"div\",{className:styles.displayHorizontal,children:video})]})]})})]});};","map":{"version":3,"sources":["/Users/akrah/Documents/dev/codefluent/src/portal/scenes/Paths/PathMarketingPage/Projects/index.tsx"],"names":["ContentContainer","Video","cx","isEmpty","React","useContext","useState","ProjectCard","CMSContext","Items","ProjectItems","HalfCircle","styles","byProject","item","type","byVideo","Projects","contentIds","content_item_ids","sideShapesColor","side_shapes_color","projectsHeadline","projects_headline","videoHeadline","video_headline","contentItems","setContentItems","renderProjects","map","project","index","projectCard","target","id","renderVideos","video","width","video_url","title","console","log","videoTitle","projects","container","backgroundHalfCircle","contentItemsContainer","projectContainer","displayHorizontal","videoContainer","videoOnly"],"mappings":"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","sourcesContent":["import { ContentContainer, Video } from '@codecademy/gamut';\nimport cx from 'classnames';\nimport { isEmpty } from 'lodash';\nimport React, { useContext, useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\n\nimport { ProjectCard } from 'components/ProjectCard';\nimport { contentServiceRequest } from 'libs/contentServiceRequest';\n// import { trackUserClick } from '~/libs/eventTracking';\nimport CMSContext from 'portal/scenes/Paths/ContentfulContext';\n// import { selectUserJWT } from '~/state/currentUser/selectors';\nimport { ProjectContentItem, VideoContentItem } from 'typings/entities';\nimport { Items, ProjectItems } from './sample';\nimport { HalfCircle } from './icons/HalfCircle';\nimport styles from './styles.module.scss';\n\ntype ContentItemTypes = VideoContentItem | ProjectContentItem;\n\ninterface Video {\n  id: string;\n  type: string;\n  video_url: string;\n  time: number;\n  title: string;\n}\n\nconst byProject = (item: ContentItemTypes): item is ProjectContentItem =>\n  item.type === 'project';\n\nconst byVideo = (item: ContentItemTypes): item is VideoContentItem =>\n  item.type === 'video';\n\nexport const Projects: React.FC = () => {\n  const {\n    content_item_ids: contentIds,\n    side_shapes_color: sideShapesColor,\n    projects_headline: projectsHeadline,\n    video_headline: videoHeadline,\n  } = useContext(CMSContext);\n\n  const [contentItems, setContentItems] = useState<ContentItemTypes[]>([]);\n  // const jwt = useSelector(selectUserJWT);\n\n  // useEffect(() => {\n  //   (async () => {\n  //     if (contentIds) {\n  //       const { data } = await contentServiceRequest({\n  //         endpoint: 'content-items/search',\n  //         version: 1,\n  //         data: {\n  //           id: contentIds,\n  //           minimal: false,\n  //         },\n  //         method: 'POST',\n  //         jwt,\n  //       });\n\n  //       setContentItems(data);\n  //     }\n  //   })();\n  // }, [contentIds, jwt]);\n\n  // const renderProjects = () =>\n  //   contentItems\n  //     .filter(byProject)\n  //     .map((project: ProjectContentItem, index: number) => (\n  //       <ProjectCard\n  //         project={project}\n  //         index={index}\n  //         key={project.id}\n  //         className={styles.projectCard}\n  //         trackingData={{ target: 'path_marketing_page_projects' }}\n  //         hoverShadow\n  //       />\n  //     ));\n\n  const renderProjects = () =>\n      ProjectItems\n      .map((project: ProjectContentItem, index: number) => (\n        <ProjectCard\n          project={project}\n          index={index}\n          key={project.id}\n          className={styles.projectCard}\n          trackingData={{ target: 'path_marketing_page_projects' }}\n          hoverShadow\n        />\n      \n    ));\n\n  // const renderVideos = () =>\n  //   contentItems.filter(byVideo).map((video: VideoContentItem) => (\n  //     <div key={video.id} style={{ width: '100%' }}>\n  //       <Video\n  //         videoUrl={video.video_url}\n  //         videoTitle={video.title}\n  //         className={styles.video}\n  //         onPlay={() =>\n  //           // trackUserClick({\n  //           //   page_name: 'marketingpathlandingpage',\n  //           //   context: 'projects_section',\n  //           //   target: 'play_video',\n  //           //   video_url: video.video_url,\n  //           // })\n  //         console.log()}\n  //       />\n  //       <p className={styles.videoTitle}>{video.title}</p>\n  //     </div>\n  //   ));\n\n    const renderVideos = () =>\n      Items.map((video: VideoContentItem) => (\n        <div key={video.id} style={{ width: '100%' }}>\n          <Video\n            videoUrl={video.video_url}\n            videoTitle={video.title}\n            className={styles.video}\n            onPlay={() =>\n              // trackUserClick({\n              //   page_name: 'marketingpathlandingpage',\n              //   context: 'projects_section',\n              //   target: 'play_video',\n              //   video_url: video.video_url,\n              // })\n            console.log()}\n          />\n          <p className={styles.videoTitle}>{video.title}</p>\n        </div>\n    ));\n\n  const projects = renderProjects();\n  const video = renderVideos();\n\n  if (isEmpty(projects) && isEmpty(video)) return null;\n\n  return (\n    <div className={styles.container}>\n      <div className={styles.backgroundHalfCircle}>\n        <HalfCircle fill={sideShapesColor ?? ''} />\n      </div>\n      \n      <ContentContainer>\n        <div className={styles.contentItemsContainer}>\n          {!isEmpty(projects) && (\n            <div className={styles.projectContainer}>\n              <h2>{projectsHeadline || 'What you need to know'}</h2>\n              <div className={styles.displayHorizontal}>{projects}</div>\n            </div>\n          )}\n          {!isEmpty(video) && (\n            <div\n              className={cx(styles.videoContainer, {\n                [styles.videoOnly]: isEmpty(projects),\n              })}\n            >\n              <h2>{videoHeadline || \"Getting Started\"}</h2>\n              <div className={styles.displayHorizontal}>{video}</div>\n            </div>\n          )}\n        </div>\n      </ContentContainer>\n    </div>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}