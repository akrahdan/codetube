{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nimport { clamp } from \"portal/scenes/CoursePlayer/utilities/clamp\";\nimport { InteractionModes, Defaults, FullscreenState } from \"portal/scenes/CoursePlayer/constants\";\nconst validModes = Object.values(InteractionModes);\n\nfunction includes(modes, mode) {\n  return !!~modes.indexOf(mode);\n}\n\nexport const initialState = {\n  playing: false,\n  playbackSpeed: 1.0,\n  activeMenu: null,\n  volumeSliderActive: false,\n  volume: 0.5,\n  muted: false,\n  previousVolume: null,\n  interactionMode: InteractionModes.MOUSE,\n  time: 0,\n  duration: 0,\n  playheadStart: 0,\n  overlay: null,\n  videoPlayer: null,\n  seekedEvent: null,\n  seekingEvent: null,\n  visible: false,\n  fullscreenState: FullscreenState.NORMAL\n};\nexport const playerSlice = createSlice({\n  name: \"player\",\n  initialState,\n  reducers: {\n    play: (state, action) => {\n      state.playing = true;\n    },\n    pause: (state, action) => {\n      state.playing = false;\n    },\n    setPlaybackSpeed: (state, action) => {\n      state.playbackSpeed = action.payload;\n    },\n    setActiveMenu: (state, action) => {\n      state.activeMenu = action.payload;\n    },\n    setVolumeSliderActive: (state, action) => {\n      state.volumeSliderActive = action.payload;\n    },\n    setVolume: (state, action) => {\n      const clamped = clamp(action.payload, 0, 1);\n      const muted = clamped === 0;\n      state.volume = clamped;\n      state.muted = muted;\n    },\n    setPreviousVolume: (state, action) => {\n      const clamped = clamp(action.payload, 0, 1);\n      const muted = clamped === 0;\n      state.volume = clamped;\n      state.muted = muted;\n    },\n    setInteractionMode: (state, action) => {\n      if (!includes(validModes, action.payload)) {\n        throw new Error(`${action.payload} not in valid list: ${validModes.join()}`);\n      }\n\n      state.interactionMode = action.payload;\n    },\n    showUI: (state, action) => {\n      state.visible = true;\n    },\n    toggleFullscreen: (state, action) => {\n      state.fullscreenState = state.fullscreenState === FullscreenState.FULLSCREEN ? FullscreenState.NORMAL : FullscreenState.FULLSCREEN;\n    },\n    hideUI: (state, action) => {\n      state.visible = false;\n    },\n    setDuration: (state, action) => {\n      state.duration = action.payload;\n    },\n    setTime: (state, action) => {\n      state.time = action.payload;\n    },\n    ready: (state, action) => {\n      state.playheadStart = state.time;\n      state.duration = action.payload;\n    },\n    registerPlayer: (state, action) => {\n      state.seekedEvent = new Event(\"ps-seeked\");\n      state.seekingEvent = new Event(\"ps-seeking\");\n      state.videoPlayer = action.payload;\n    },\n    seekStart: (state, action) => {\n      const {\n        seekingEvent,\n        videoPlayer\n      } = state;\n      videoPlayer && videoPlayer.dispatchEvent(seekingEvent);\n    },\n    seekEnd: (state, action) => {\n      const {\n        seekedEvent,\n        videoPlayer\n      } = state;\n      videoPlayer && videoPlayer.dispatchEvent(seekedEvent);\n    },\n    fastForward: (state, action) => {\n      const {\n        time,\n        duration\n      } = state;\n      const forwardTime = time + 10;\n      const newTime = forwardTime > duration ? duration : forwardTime;\n      state.playheadStart = newTime;\n      state.time = newTime;\n      state.overlay = {\n        icon: \"FWD\",\n        key: Math.random(),\n        fade: true\n      };\n    },\n    fastRewind: (state, action) => {\n      const {\n        time,\n        duration\n      } = state;\n      const startTime = 0;\n      const rewindTime = time - 10;\n      const newTime = rewindTime < startTime ? startTime : rewindTime;\n      state.playheadStart = newTime;\n      state.time = newTime;\n      state.overlay = {\n        icon: \"BACK\",\n        key: Math.random(),\n        fade: true\n      };\n    },\n    toggleMute: (state, action) => {\n      if (state.muted) {\n        const clamped = state.previousVolume || Defaults.volume;\n        const muted = clamped === 0;\n        state.volume = clamped;\n        state.muted = muted;\n      }\n\n      state.muted = true;\n      state.previousVolume = state.volume;\n      state.volume = 0;\n    }\n  }\n});\nexport const to = id => (dispatch, getState) => {\n  dispatch(showModal(id));\n};\nexport const selectPlayer = state => state.player;\nexport const {\n  play,\n  pause,\n  setPlaybackSpeed,\n  setActiveMenu,\n  setVolumeSliderActive,\n  setVolume,\n  setPreviousVolume,\n  toggleMute,\n  setDuration,\n  setTime,\n  ready,\n  fastForward,\n  fastRewind,\n  seekEnd,\n  seekStart,\n  registerPlayer,\n  showUI,\n  hideUI,\n  setInteractionMode,\n  toggleFullscreen\n} = playerSlice.actions;\nexport default playerSlice.reducer;","map":{"version":3,"sources":["/Users/akrah/Documents/dev/readux/src/codefluent/src/state/player/playerSlice.ts"],"names":["createSlice","clamp","InteractionModes","Defaults","FullscreenState","validModes","Object","values","includes","modes","mode","indexOf","initialState","playing","playbackSpeed","activeMenu","volumeSliderActive","volume","muted","previousVolume","interactionMode","MOUSE","time","duration","playheadStart","overlay","videoPlayer","seekedEvent","seekingEvent","visible","fullscreenState","NORMAL","playerSlice","name","reducers","play","state","action","pause","setPlaybackSpeed","payload","setActiveMenu","setVolumeSliderActive","setVolume","clamped","setPreviousVolume","setInteractionMode","Error","join","showUI","toggleFullscreen","FULLSCREEN","hideUI","setDuration","setTime","ready","registerPlayer","Event","seekStart","dispatchEvent","seekEnd","fastForward","forwardTime","newTime","icon","key","Math","random","fade","fastRewind","startTime","rewindTime","toggleMute","to","id","dispatch","getState","showModal","selectPlayer","player","actions","reducer"],"mappings":"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","sourcesContent":["import { createAsyncThunk, createSlice, PayloadAction } from \"@reduxjs/toolkit\";\nimport { v1 as uuid } from \"uuid\";\nimport { StringChain, stubFalse, without } from \"lodash\";\nimport { AppThunk, RootState } from \"store\";\nimport { clamp } from \"portal/scenes/CoursePlayer/utilities/clamp\";\nimport {\n  InteractionModes,\n  Defaults,\n  FullscreenState,\n} from \"portal/scenes/CoursePlayer/constants\";\n\nconst validModes = Object.values(InteractionModes);\n\nfunction includes(modes, mode) {\n  return !!~modes.indexOf(mode);\n}\nexport interface PlayerState {\n  playing: boolean;\n  playbackSpeed: number;\n  activeMenu: string;\n  volumeSliderActive: boolean;\n  volume: number;\n  muted: boolean;\n  previousVolume: number;\n  interactionMode: string;\n  time: number;\n  duration: number;\n  playheadStart: number;\n  overlay: Overlay;\n  videoPlayer: any;\n  seekedEvent: Event;\n  seekingEvent: Event;\n  visible: boolean;\n  fullscreenState: string;\n}\n\nexport interface Overlay {\n  icon: string;\n  key: number;\n  fade: boolean;\n}\n\nexport const initialState: PlayerState = {\n  playing: false,\n  playbackSpeed: 1.0,\n  activeMenu: null,\n  volumeSliderActive: false,\n  volume: 0.5,\n  muted: false,\n  previousVolume: null,\n  interactionMode: InteractionModes.MOUSE,\n  time: 0,\n  duration: 0,\n  playheadStart: 0,\n  overlay: null,\n  videoPlayer: null,\n  seekedEvent: null,\n  seekingEvent: null,\n  visible: false,\n  fullscreenState: FullscreenState.NORMAL,\n};\nexport const playerSlice = createSlice({\n  name: \"player\",\n  initialState,\n  reducers: {\n    play: (state, action: PayloadAction<void>) => {\n      state.playing = true;\n    },\n\n    pause: (state, action: PayloadAction<void>) => {\n      state.playing = false;\n    },\n    setPlaybackSpeed: (state, action: PayloadAction<number>) => {\n      state.playbackSpeed = action.payload;\n    },\n\n    setActiveMenu: (state, action: PayloadAction<string>) => {\n      state.activeMenu = action.payload;\n    },\n    setVolumeSliderActive: (state, action: PayloadAction<boolean>) => {\n      state.volumeSliderActive = action.payload;\n    },\n    setVolume: (state, action: PayloadAction<number>) => {\n      const clamped = clamp(action.payload, 0, 1);\n      const muted = clamped === 0;\n      state.volume = clamped;\n      state.muted = muted;\n    },\n    setPreviousVolume: (state, action: PayloadAction<number>) => {\n      const clamped = clamp(action.payload, 0, 1);\n      const muted = clamped === 0;\n      state.volume = clamped;\n      state.muted = muted;\n    },\n    setInteractionMode: (state, action: PayloadAction<string>) => {\n      if (!includes(validModes, action.payload)) {\n        throw new Error(\n          `${action.payload} not in valid list: ${validModes.join()}`\n        );\n      }\n      state.interactionMode = action.payload;\n    },\n\n    showUI: (state, action: PayloadAction<void>) => {\n      state.visible = true;\n    },\n\n    toggleFullscreen: (state, action: PayloadAction<void>) => {\n      state.fullscreenState =\n        state.fullscreenState === FullscreenState.FULLSCREEN\n          ? FullscreenState.NORMAL\n          : FullscreenState.FULLSCREEN;\n    },\n\n    hideUI: (state, action: PayloadAction<void>) => {\n      state.visible = false;\n    },\n\n    setDuration: (state, action: PayloadAction<number>) => {\n      state.duration = action.payload;\n    },\n    setTime: (state, action: PayloadAction<number>) => {\n      state.time = action.payload;\n    },\n\n    ready: (state, action: PayloadAction<number>) => {\n      state.playheadStart = state.time;\n      state.duration = action.payload;\n    },\n    registerPlayer: (state, action: PayloadAction<HTMLVideoElement>) => {\n      state.seekedEvent = new Event(\"ps-seeked\");\n      state.seekingEvent = new Event(\"ps-seeking\");\n      state.videoPlayer = action.payload;\n    },\n\n    seekStart: (state, action: PayloadAction<void>) => {\n      const { seekingEvent, videoPlayer } = state;\n\n      videoPlayer && videoPlayer.dispatchEvent(seekingEvent);\n    },\n\n    seekEnd: (state, action: PayloadAction<void>) => {\n      const { seekedEvent, videoPlayer } = state;\n\n      videoPlayer && videoPlayer.dispatchEvent(seekedEvent);\n    },\n\n    fastForward: (state, action: PayloadAction<void>) => {\n      const { time, duration } = state;\n\n      const forwardTime = time + 10;\n\n      const newTime = forwardTime > duration ? duration : forwardTime;\n      state.playheadStart = newTime;\n      state.time = newTime;\n      state.overlay = {\n        icon: \"FWD\",\n        key: Math.random(),\n        fade: true,\n      };\n    },\n\n    fastRewind: (state, action: PayloadAction<void>) => {\n      const { time, duration } = state;\n\n      const startTime = 0;\n      const rewindTime = time - 10;\n\n      const newTime = rewindTime < startTime ? startTime : rewindTime;\n      state.playheadStart = newTime;\n      state.time = newTime;\n      state.overlay = {\n        icon: \"BACK\",\n        key: Math.random(),\n        fade: true,\n      };\n    },\n\n    toggleMute: (state, action: PayloadAction<void>) => {\n      if (state.muted) {\n        const clamped = state.previousVolume || Defaults.volume\n        const muted = clamped === 0;\n        state.volume = clamped;\n        state.muted = muted;\n      }\n      state.muted = true;\n      state.previousVolume = state.volume;\n      state.volume = 0;\n    },\n  },\n});\n\n\nexport const to = (id: string): AppThunk => (\n    dispatch,\n    getState\n) => {\n    \n    dispatch(showModal(id))\n}\n\nexport const selectPlayer = (state: RootState) => state.player;\n\nexport const {\n  play,\n  pause,\n  setPlaybackSpeed,\n  setActiveMenu,\n  setVolumeSliderActive,\n  setVolume,\n  setPreviousVolume,\n  toggleMute,\n  setDuration,\n  setTime,\n  ready,\n  fastForward,\n  fastRewind,\n  seekEnd,\n  seekStart,\n  registerPlayer,\n  showUI,\n  hideUI,\n  setInteractionMode,\n  toggleFullscreen,\n} = playerSlice.actions;\n\nexport default playerSlice.reducer;\n"]},"metadata":{},"sourceType":"module"}