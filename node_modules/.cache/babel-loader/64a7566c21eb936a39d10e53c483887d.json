{"ast":null,"code":"import{createSlice}from\"@reduxjs/toolkit\";import{coursesApi}from\"services/courses\";export var initialState={sections:null,lectures:null,resources:null};export var curriculumSplice=createSlice({name:\"curriculum\",initialState:initialState,reducers:{// addSection: (state, action: PayloadAction<Section>) => {\n//   state.sections.push(action.payload);\n// },\n// addLecture: (state, action: PayloadAction<Lecture>) => {\n//   state.lectures = action.payload;\n// },\n},extraReducers:function extraReducers(builder){builder.addMatcher(coursesApi.endpoints.createSection.matchFulfilled,function(state,_ref){var payload=_ref.payload;state.sections=payload;}).addMatcher(coursesApi.endpoints.fetchSections.matchFulfilled,function(state,_ref2){var payload=_ref2.payload;state.sections=payload;}).addMatcher(coursesApi.endpoints.fetchLectures.matchFulfilled,function(state,_ref3){var payload=_ref3.payload;state.lectures=payload;}).addMatcher(coursesApi.endpoints.createLecture.matchFulfilled,function(state,_ref4){var payload=_ref4.payload;state.lectures=payload;}).addMatcher(coursesApi.endpoints.editSection.matchFulfilled,function(state,_ref5){var payload=_ref5.payload;var sections=state.sections.map(function(section){if(section.id==payload.id){return payload;}return section;});state.sections=sections;}).addMatcher(coursesApi.endpoints.editLecture.matchFulfilled,function(state,_ref6){var payload=_ref6.payload;var lectures=state.lectures.map(function(lecture){if(lecture.id==payload.id){return payload;}return lecture;});state.lectures=lectures;}).addMatcher(coursesApi.endpoints.deleteSection.matchFulfilled,function(state,_ref7){var payload=_ref7.payload;state.sections=state.sections.filter(function(section){return section.id!=payload.id;});}).addMatcher(coursesApi.endpoints.deleteLecture.matchFulfilled,function(state,_ref8){var payload=_ref8.payload;state.lectures=state.lectures.filter(function(lecture){return lecture.id!=payload.id;});});}});// export const { addSection, addLecture } = curriculumSplice.actions;\nexport default curriculumSplice.reducer;export var selectSections=function selectSections(state){return state.curriculum.sections;};export var selectLectures=function selectLectures(state){return state.curriculum.lectures;};","map":{"version":3,"sources":["/Users/akrah/Documents/dev/readux/src/codefluent/src/state/curriculum/currriculumSplice.ts"],"names":["createSlice","coursesApi","initialState","sections","lectures","resources","curriculumSplice","name","reducers","extraReducers","builder","addMatcher","endpoints","createSection","matchFulfilled","state","payload","fetchSections","fetchLectures","createLecture","editSection","map","section","id","editLecture","lecture","deleteSection","filter","deleteLecture","reducer","selectSections","curriculum","selectLectures"],"mappings":"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","sourcesContent":["import { createAsyncThunk, createSlice, PayloadAction } from \"@reduxjs/toolkit\";\nimport { coursesApi, Lecture } from \"services/courses\";\nimport { AppThunk, RootState } from \"store\";\nimport type { MediaResponse } from \"services/courses\";\nexport interface CurriculumState {\n  sections: Section[];\n  lectures: Lecture[];\n  resources: MediaResponse[]\n}\n\nexport interface Section {\n  title: string;\n  id: number;\n  course: number;\n  description?: string;\n  order: number;\n}\n\nexport const initialState: CurriculumState = {\n  sections: null,\n  lectures: null,\n  resources: null\n};\n\nexport const curriculumSplice = createSlice({\n  name: \"curriculum\",\n  initialState,\n  reducers: {\n    // addSection: (state, action: PayloadAction<Section>) => {\n    //   state.sections.push(action.payload);\n    // },\n    // addLecture: (state, action: PayloadAction<Lecture>) => {\n    //   state.lectures = action.payload;\n    // },\n  },\n  extraReducers: (builder) => {\n    builder\n      .addMatcher(\n        coursesApi.endpoints.createSection.matchFulfilled,\n        (state, { payload }) => {\n          state.sections = payload;\n        }\n      )\n      .addMatcher(\n        coursesApi.endpoints.fetchSections.matchFulfilled,\n        (state, { payload }) => {\n          state.sections = payload;\n        }\n      )\n      .addMatcher(\n        coursesApi.endpoints.fetchLectures.matchFulfilled,\n        (state, { payload }) => {\n          state.lectures = payload;\n          \n        }\n      )\n      .addMatcher(\n        coursesApi.endpoints.createLecture.matchFulfilled,\n        (state, { payload }) => {\n          state.lectures = payload;\n        }\n      )\n      .addMatcher(\n        coursesApi.endpoints.editSection.matchFulfilled,\n        (state, { payload }) => {\n          const sections = state.sections.map((section) => {\n            if (section.id == payload.id) {\n              return payload;\n            }\n            return section;\n          });\n          state.sections = sections;\n        }\n      )\n      .addMatcher(\n        coursesApi.endpoints.editLecture.matchFulfilled,\n        (state, { payload }) => {\n          const lectures = state.lectures.map((lecture) => {\n            if (lecture.id == payload.id) {\n              return payload;\n            }\n            return lecture;\n          });\n          state.lectures = lectures;\n        }\n      )\n      .addMatcher(\n        coursesApi.endpoints.deleteSection.matchFulfilled,\n        (state, { payload }) => {\n          state.sections = state.sections.filter(\n            (section) => section.id != payload.id\n          );\n        }\n      )\n      .addMatcher(\n        coursesApi.endpoints.deleteLecture.matchFulfilled,\n        (state, { payload }) => {\n          state.lectures = state.lectures.filter(\n            (lecture) => lecture.id != payload.id\n          );\n        }\n      );\n  },\n});\n\n// export const { addSection, addLecture } = curriculumSplice.actions;\n\nexport default curriculumSplice.reducer;\nexport const selectSections = (state: RootState) => state.curriculum.sections;\nexport const selectLectures = (state: RootState) => state.curriculum.lectures;\n"]},"metadata":{},"sourceType":"module"}