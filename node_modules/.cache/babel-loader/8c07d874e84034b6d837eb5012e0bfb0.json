{"ast":null,"code":"import _classCallCheck from\"/Users/akrah/Documents/dev/readux/src/codefluent/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/akrah/Documents/dev/readux/src/codefluent/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/akrah/Documents/dev/readux/src/codefluent/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/akrah/Documents/dev/readux/src/codefluent/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{deprecatedColors,platformColors}from'@codecademy/gamut-styles';import cx from'classnames';import React,{Component}from'react';import styles from'./styles.module.scss';import{jsx as _jsx}from\"react/jsx-runtime\";export var LOADING_COLORS=[deprecatedColors.purple[200],platformColors.purple[200],platformColors.purple[300],platformColors.purple[400],platformColors.purple[500],deprecatedColors.blue[300]];export var LoadingScreen=/*#__PURE__*/function(_Component){_inherits(LoadingScreen,_Component);var _super=_createSuper(LoadingScreen);function LoadingScreen(){var _this;_classCallCheck(this,LoadingScreen);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.background=/*#__PURE__*/React.createRef();_this.tryFadeOutBackground=function(){if(!_this.background.current){setTimeout(_this.tryFadeOutBackground);return;}_this.background.current.style.transition='opacity 0.8s';_this.background.current.style.opacity='0';};return _this;}_createClass(LoadingScreen,[{key:\"componentDidMount\",value:function componentDidMount(){if(this.props.hiddenObject&&this.background.current){this.background.current.style.opacity='0';}}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps){if(this.props.hiddenObject&&!prevProps.hiddenObject){window.requestAnimationFrame(this.tryFadeOutBackground);}}},{key:\"render\",value:function render(){var _this$props=this.props,loadingColor=_this$props.loadingColor,stretchToFit=_this$props.stretchToFit,className=_this$props.className;return/*#__PURE__*/_jsx(\"div\",{className:cx(styles.loadingScreen,stretchToFit&&styles.stretchToFit,className),style:{backgroundColor:loadingColor||LOADING_COLORS[0]},ref:this.background});}}]);return LoadingScreen;}(Component);","map":{"version":3,"sources":["/Users/akrah/Documents/dev/readux/src/codefluent/src/components/LoadingScreen/index.tsx"],"names":["deprecatedColors","platformColors","cx","React","Component","styles","LOADING_COLORS","purple","blue","LoadingScreen","background","createRef","tryFadeOutBackground","current","setTimeout","style","transition","opacity","props","hiddenObject","prevProps","window","requestAnimationFrame","loadingColor","stretchToFit","className","loadingScreen","backgroundColor"],"mappings":"4oBAAA,OAASA,gBAAT,CAA2BC,cAA3B,KAAiD,0BAAjD,CACA,MAAOC,CAAAA,EAAP,KAAe,YAAf,CACA,MAAOC,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CAEA,MAAOC,CAAAA,MAAP,KAAmB,sBAAnB,C,2CAEA,MAAO,IAAMC,CAAAA,cAAc,CAAG,CAC5BN,gBAAgB,CAACO,MAAjB,CAAwB,GAAxB,CAD4B,CAE5BN,cAAc,CAACM,MAAf,CAAsB,GAAtB,CAF4B,CAG5BN,cAAc,CAACM,MAAf,CAAsB,GAAtB,CAH4B,CAI5BN,cAAc,CAACM,MAAf,CAAsB,GAAtB,CAJ4B,CAK5BN,cAAc,CAACM,MAAf,CAAsB,GAAtB,CAL4B,CAM5BP,gBAAgB,CAACQ,IAAjB,CAAsB,GAAtB,CAN4B,CAAvB,CAgBP,UAAaC,CAAAA,aAAb,uVACEC,UADF,cACeP,KAAK,CAACQ,SAAN,EADf,OAeEC,oBAfF,CAeyB,UAAM,CAC3B,GAAI,CAAC,MAAKF,UAAL,CAAgBG,OAArB,CAA8B,CAC5BC,UAAU,CAAC,MAAKF,oBAAN,CAAV,CACA,OACD,CAED,MAAKF,UAAL,CAAgBG,OAAhB,CAAwBE,KAAxB,CAA8BC,UAA9B,CAA2C,cAA3C,CACA,MAAKN,UAAL,CAAgBG,OAAhB,CAAwBE,KAAxB,CAA8BE,OAA9B,CAAwC,GAAxC,CACD,CAvBH,0EAGE,4BAAoB,CAClB,GAAI,KAAKC,KAAL,CAAWC,YAAX,EAA2B,KAAKT,UAAL,CAAgBG,OAA/C,CAAwD,CACtD,KAAKH,UAAL,CAAgBG,OAAhB,CAAwBE,KAAxB,CAA8BE,OAA9B,CAAwC,GAAxC,CACD,CACF,CAPH,kCASE,4BAAmBG,SAAnB,CAAkD,CAChD,GAAI,KAAKF,KAAL,CAAWC,YAAX,EAA2B,CAACC,SAAS,CAACD,YAA1C,CAAwD,CACtDE,MAAM,CAACC,qBAAP,CAA6B,KAAKV,oBAAlC,EACD,CACF,CAbH,sBAyBE,iBAAS,iBAC2C,KAAKM,KADhD,CACCK,YADD,aACCA,YADD,CACeC,YADf,aACeA,YADf,CAC6BC,SAD7B,aAC6BA,SAD7B,CAEP,mBACE,YACE,SAAS,CAAEvB,EAAE,CACXG,MAAM,CAACqB,aADI,CAEXF,YAAY,EAAInB,MAAM,CAACmB,YAFZ,CAGXC,SAHW,CADf,CAME,KAAK,CAAE,CACLE,eAAe,CAAEJ,YAAY,EAAIjB,cAAc,CAAC,CAAD,CAD1C,CANT,CASE,GAAG,CAAE,KAAKI,UATZ,EADF,CAaD,CAxCH,2BAAmCN,SAAnC","sourcesContent":["import { deprecatedColors, platformColors } from '@codecademy/gamut-styles';\nimport cx from 'classnames';\nimport React, { Component } from 'react';\n\nimport styles from './styles.module.scss';\n\nexport const LOADING_COLORS = [\n  deprecatedColors.purple[200],\n  platformColors.purple[200],\n  platformColors.purple[300],\n  platformColors.purple[400],\n  platformColors.purple[500],\n  deprecatedColors.blue[300],\n];\n\nexport type LoadingScreenProps = {\n  loadingColor?: string;\n  hiddenObject?: object | string | null;\n  stretchToFit?: boolean;\n  className?: string;\n};\n\nexport class LoadingScreen extends Component<LoadingScreenProps> {\n  background = React.createRef<HTMLDivElement>();\n\n  componentDidMount() {\n    if (this.props.hiddenObject && this.background.current) {\n      this.background.current.style.opacity = '0';\n    }\n  }\n\n  componentDidUpdate(prevProps: LoadingScreenProps) {\n    if (this.props.hiddenObject && !prevProps.hiddenObject) {\n      window.requestAnimationFrame(this.tryFadeOutBackground);\n    }\n  }\n\n  tryFadeOutBackground = () => {\n    if (!this.background.current) {\n      setTimeout(this.tryFadeOutBackground);\n      return;\n    }\n\n    this.background.current.style.transition = 'opacity 0.8s';\n    this.background.current.style.opacity = '0';\n  };\n\n  render() {\n    const { loadingColor, stretchToFit, className } = this.props;\n    return (\n      <div\n        className={cx(\n          styles.loadingScreen,\n          stretchToFit && styles.stretchToFit,\n          className\n        )}\n        style={{\n          backgroundColor: loadingColor || LOADING_COLORS[0],\n        }}\n        ref={this.background}\n      />\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}