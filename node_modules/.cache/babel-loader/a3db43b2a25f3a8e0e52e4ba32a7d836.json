{"ast":null,"code":"import _toConsumableArray from\"/Users/akrah/Documents/dev/readux/src/codefluent/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _regeneratorRuntime from\"/Users/akrah/Documents/dev/readux/src/codefluent/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _objectSpread from\"/Users/akrah/Documents/dev/readux/src/codefluent/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _asyncToGenerator from\"/Users/akrah/Documents/dev/readux/src/codefluent/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/akrah/Documents/dev/readux/src/codefluent/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useEffect,useState}from\"react\";import{useAlert}from\"react-alert\";import{CourseGoal}from\"./Goal\";import{Requirements}from\"./Requirements\";import{CourseExperience}from\"./Experience\";import{ExperienceCreate}from\"./ExperienceCreate\";import{GoalCreate}from\"./GoalCreate\";import{ReqCreate}from\"./ReqCreate\";import{selectSave,saveCourse}from\"state/course/courseSplice\";import{usePrompt}from\"../userPrompt\";import{selectLocationPayload,selectLocationType}from\"state/location/selectors\";import{useAppSelector,useAppDispatch}from\"store/hooks\";import{useCreateExperienceMutation,useCreateGoalMutation,useCreateRequirementMutation,useEditExperienceMutation,useEditGoalMutation,useEditRequirementMutation,useFetchExperienceQuery,useFetchRequirementsQuery,useFetchGoalsQuery,useDeleteExperienceMutation,useDeleteGoalMutation,useDeleteRequirementMutation}from\"services/courses\";import{selectRequirements,selectGoals,selectExperience}from\"state/target/targetSplice\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var Target=function Target(){var locationPath=useAppSelector(selectLocationType);var selectedSave=useAppSelector(selectSave);var dispatch=useAppDispatch();var locationPayload=useAppSelector(selectLocationPayload);var selectedRequirements=useAppSelector(selectRequirements);var selectedGoals=useAppSelector(selectGoals);var selectedExperiences=useAppSelector(selectExperience);var _useCreateGoalMutatio=useCreateGoalMutation(),_useCreateGoalMutatio2=_slicedToArray(_useCreateGoalMutatio,1),createGoal=_useCreateGoalMutatio2[0];var _useCreateExperienceM=useCreateExperienceMutation(),_useCreateExperienceM2=_slicedToArray(_useCreateExperienceM,1),createExperience=_useCreateExperienceM2[0];var _useCreateRequirement=useCreateRequirementMutation(),_useCreateRequirement2=_slicedToArray(_useCreateRequirement,1),createRequirement=_useCreateRequirement2[0];var _useEditGoalMutation=useEditGoalMutation(),_useEditGoalMutation2=_slicedToArray(_useEditGoalMutation,1),editGoal=_useEditGoalMutation2[0];var _useEditRequirementMu=useEditRequirementMutation(),_useEditRequirementMu2=_slicedToArray(_useEditRequirementMu,1),editRequirement=_useEditRequirementMu2[0];var _useEditExperienceMut=useEditExperienceMutation(),_useEditExperienceMut2=_slicedToArray(_useEditExperienceMut,1),editExperience=_useEditExperienceMut2[0];var _useDeleteGoalMutatio=useDeleteGoalMutation(),_useDeleteGoalMutatio2=_slicedToArray(_useDeleteGoalMutatio,1),deleteGoal=_useDeleteGoalMutatio2[0];var _useDeleteExperienceM=useDeleteExperienceMutation(),_useDeleteExperienceM2=_slicedToArray(_useDeleteExperienceM,1),deleteExperience=_useDeleteExperienceM2[0];var _useDeleteRequirement=useDeleteRequirementMutation(),_useDeleteRequirement2=_slicedToArray(_useDeleteRequirement,1),deleteRequirements=_useDeleteRequirement2[0];var _useFetchRequirements=useFetchRequirementsQuery(locationPayload.id),requirementsQuery=_useFetchRequirements.data;var _useFetchGoalsQuery=useFetchGoalsQuery(locationPayload.id),goalsQuery=_useFetchGoalsQuery.data;var _useFetchExperienceQu=useFetchExperienceQuery(locationPayload.id),experienceQuery=_useFetchExperienceQu.data;var _useState=useState(selectedGoals),_useState2=_slicedToArray(_useState,2),goalsUpdate=_useState2[0],setGoalsUpdate=_useState2[1];var _useState3=useState(selectedRequirements),_useState4=_slicedToArray(_useState3,2),requirementsUpdate=_useState4[0],setRequirementsUpdate=_useState4[1];var _useState5=useState(selectedExperiences),_useState6=_slicedToArray(_useState5,2),experienceUpdate=_useState6[0],setExperienceUpdate=_useState6[1];var alert=useAlert();var _useState7=useState(true),_useState8=_slicedToArray(_useState7,2),showGoal=_useState8[0],setShowGoal=_useState8[1];var _useState9=useState(true),_useState10=_slicedToArray(_useState9,2),showReq=_useState10[0],setShowReq=_useState10[1];var _useState11=useState(true),_useState12=_slicedToArray(_useState11,2),showExp=_useState12[0],setShowExp=_useState12[1];var _useState13=useState(),_useState14=_slicedToArray(_useState13,2),goal=_useState14[0],setGoal=_useState14[1];var _useState15=useState(),_useState16=_slicedToArray(_useState15,2),req=_useState16[0],setReq=_useState16[1];var _useState17=useState(),_useState18=_slicedToArray(_useState17,2),exp=_useState18[0],setExp=_useState18[1];usePrompt(!!exp||!!goal||!!req);var removeGoal=function removeGoal(goal){deleteGoal(goal.id);};var removeReq=function removeReq(req){deleteRequirements(req.id);};var removeExp=function removeExp(req){deleteExperience(req.id);};useEffect(function(){setExperienceUpdate(selectedExperiences);},[selectedExperiences]);useEffect(function(){setGoalsUpdate(selectedGoals);},[selectedGoals]);useEffect(function(){setRequirementsUpdate(selectedRequirements);},[selectedRequirements]);useEffect(function(){if(selectedSave.submit){if(goal){createGoal({name:goal.name,course:locationPayload.id}).then(function(res){var _res$data;if(res===null||res===void 0?void 0:(_res$data=res.data)===null||_res$data===void 0?void 0:_res$data.length){setGoal(null);dispatch(saveCourse({submit:false,locationPath:null}));alert.show(\"Your data has been saved successfully\");}});}if(exp){createExperience({name:exp.name,course:locationPayload.id}).then(function(res){var _res$data2;if(res===null||res===void 0?void 0:(_res$data2=res.data)===null||_res$data2===void 0?void 0:_res$data2.length){setExp(null);dispatch(saveCourse({submit:false,locationPath:null}));alert.show(\"Your data has been saved successfully\");}});}if(req){createRequirement({name:req===null||req===void 0?void 0:req.name,course:locationPayload.id}).then(function(res){var _res$data3;if(res===null||res===void 0?void 0:(_res$data3=res.data)===null||_res$data3===void 0?void 0:_res$data3.length){setReq(null);dispatch(saveCourse({submit:false,locationPath:null}));alert.show(\"Your data has been saved successfully\");}});}requirementsUpdate&&requirementsUpdate.forEach(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(req,index){var awaitReq;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!req.name){_context.next=5;break;}_context.next=3;return editRequirement(_objectSpread(_objectSpread({},req),{},{course:locationPayload.id})).unwrap();case 3:awaitReq=_context.sent;if(index==(requirementsUpdate===null||requirementsUpdate===void 0?void 0:requirementsUpdate.length)-1){dispatch(saveCourse({submit:false,locationPath:null}));alert.show(\"Your data has been saved successfully\");}case 5:case\"end\":return _context.stop();}}},_callee);}));return function(_x,_x2){return _ref.apply(this,arguments);};}());experienceUpdate&&(experienceUpdate===null||experienceUpdate===void 0?void 0:experienceUpdate.forEach(/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(req,index){var awaitEditExp;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!(req===null||req===void 0?void 0:req.name)){_context2.next=5;break;}_context2.next=3;return editExperience(_objectSpread(_objectSpread({},req),{},{course:locationPayload.id})).unwrap();case 3:awaitEditExp=_context2.sent;if(index==experienceUpdate.length-1){if(awaitEditExp===null||awaitEditExp===void 0?void 0:awaitEditExp.name){dispatch(saveCourse({submit:false,locationPath:null}));alert.show(\"Your data has been saved successfully\");}}case 5:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x3,_x4){return _ref2.apply(this,arguments);};}()));goalsUpdate&&(goalsUpdate===null||goalsUpdate===void 0?void 0:goalsUpdate.forEach(/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(item,index){var awaitEditGoal;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:if(!item.name){_context3.next=5;break;}_context3.next=3;return editGoal(_objectSpread(_objectSpread({},item),{},{course:locationPayload===null||locationPayload===void 0?void 0:locationPayload.id})).unwrap();case 3:awaitEditGoal=_context3.sent;if(index==(goalsUpdate===null||goalsUpdate===void 0?void 0:goalsUpdate.length)-1){dispatch(saveCourse({submit:false,locationPath:null}));alert.show(\"Your data has been saved successfully\");}case 5:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x5,_x6){return _ref3.apply(this,arguments);};}()));}},[selectedSave]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"sub-header--wrapper--3Vunm\",children:/*#__PURE__*/_jsx(\"div\",{className:\"sub-header--main-content--22it3\",children:/*#__PURE__*/_jsx(\"h2\",{\"data-purpose\":\"page-title\",className:\"font-heading-serif-xl sub-header--title--2VD8q\",children:\"Target your students\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"main-content--wrap_component--2TEkz\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form_container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"goals-form--subtitle--3R5d-\",children:\"The descriptions you write here will help students decide if your course is the one for them.\"}),/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"learn-goal\",className:\"control-label\",children:\"What will students learn in your course?\"}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{children:[goalsUpdate&&goalsUpdate.map(function(goal){return/*#__PURE__*/_jsx(CourseGoal,{goal:goal,handleRemove:removeGoal,handleChange:function handleChange(obj){var gUpdate=_toConsumableArray(goalsUpdate);var index=gUpdate===null||gUpdate===void 0?void 0:gUpdate.findIndex(function(item){return item.id==obj.id;});gUpdate[index]=obj;setGoalsUpdate(gUpdate);}},goal.id);}),showGoal&&/*#__PURE__*/_jsx(GoalCreate,{goal:goal,handleRemove:function handleRemove(value){setGoal(null);setShowGoal(!showGoal);},handleChange:function handleChange(obj){setGoal({name:obj===null||obj===void 0?void 0:obj.name,id:obj===null||obj===void 0?void 0:obj.id,course:locationPayload.id});}})]})})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:if(!showGoal){setGoal(null);setShowGoal(!showGoal);}if(!goal){_context4.next=5;break;}createGoal({name:goal.name,course:goal.course}).then(function(res){var _res$data4;if(res===null||res===void 0?void 0:(_res$data4=res.data)===null||_res$data4===void 0?void 0:_res$data4.length){setGoal(null);if(!showGoal){setShowGoal(!showGoal);}}});_context4.next=6;break;case 5:return _context4.abrupt(\"return\");case 6:case\"end\":return _context4.stop();}}},_callee4);})),type:\"button\",className:\"goals-form--button--2_zb1 btn btn-tertiary\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"mr5 cfi cfi-add\"}),\" Add an answer\"]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"requirements\",className:\"control-label\",children:\"Are there any course requirements or prerequisites?\"}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{children:[requirementsUpdate&&requirementsUpdate.map(function(req){return/*#__PURE__*/_jsx(Requirements,{req:req,handleRemove:removeReq,handleChange:function handleChange(obj){var reqUpdates=_toConsumableArray(requirementsUpdate);var index=reqUpdates===null||reqUpdates===void 0?void 0:reqUpdates.findIndex(function(item){return item.id==obj.id;});reqUpdates[index]=obj;setRequirementsUpdate(reqUpdates);}},req.id);}),showReq&&/*#__PURE__*/_jsx(ReqCreate,{req:req,handleRemove:function handleRemove(value){setReq(null);setShowReq(!showReq);},handleChange:function handleChange(obj){setReq({name:obj.name,course:locationPayload.id,id:obj.id});}})]})})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:function onClick(){if(!showReq){setReq(null);setShowReq(!showReq);}if(req){createRequirement({name:req.name,course:req.course}).then(function(res){var _res$data5;if(res===null||res===void 0?void 0:(_res$data5=res.data)===null||_res$data5===void 0?void 0:_res$data5.length){setReq(null);if(!showReq){setShowReq(!showReq);}}});}else{return;}},type:\"button\",className:\"goals-form--button--2_zb1 btn btn-tertiary\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"mr5 cfi cfi-add\"}),\" Add an answer\"]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"target-student\",className:\"control-label\",children:\"Who are your target students?\"}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{children:[experienceUpdate&&experienceUpdate.map(function(exp){return/*#__PURE__*/_jsx(CourseExperience,{experience:exp,handleRemove:removeExp,handleChange:function handleChange(obj){var expUpdate=_toConsumableArray(experienceUpdate);var index=expUpdate.findIndex(function(item){return item.id==obj.id;});expUpdate[index]=obj;setExperienceUpdate(expUpdate);}},exp===null||exp===void 0?void 0:exp.id);}),showExp&&/*#__PURE__*/_jsx(ExperienceCreate,{experience:exp,handleRemove:function handleRemove(value){setExp(null);setShowExp(!showExp);},handleChange:function handleChange(obj){setExp({name:obj.name,course:locationPayload.id,id:obj.id});}})]})})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:function onClick(){if(!showExp){setExp(null);setShowExp(!showExp);}if(exp){createExperience({name:exp.name,course:exp.course}).then(function(res){var _res$data6;if(res===null||res===void 0?void 0:(_res$data6=res.data)===null||_res$data6===void 0?void 0:_res$data6.length){setExp(null);if(!showExp){setShowExp(!showExp);}}});}else{return;}},type:\"button\",className:\"goals-form--button--2_zb1 btn btn-tertiary\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"mr5 cfi cfi-add\"}),\" Add an answer\"]})]})]})]})})]});};export default Target;","map":{"version":3,"sources":["/Users/akrah/Documents/dev/readux/src/codefluent/src/portal/scenes/Instructor/Courses/Target/index.tsx"],"names":["useEffect","useState","useAlert","CourseGoal","Requirements","CourseExperience","ExperienceCreate","GoalCreate","ReqCreate","selectSave","saveCourse","usePrompt","selectLocationPayload","selectLocationType","useAppSelector","useAppDispatch","useCreateExperienceMutation","useCreateGoalMutation","useCreateRequirementMutation","useEditExperienceMutation","useEditGoalMutation","useEditRequirementMutation","useFetchExperienceQuery","useFetchRequirementsQuery","useFetchGoalsQuery","useDeleteExperienceMutation","useDeleteGoalMutation","useDeleteRequirementMutation","selectRequirements","selectGoals","selectExperience","Target","locationPath","selectedSave","dispatch","locationPayload","selectedRequirements","selectedGoals","selectedExperiences","createGoal","createExperience","createRequirement","editGoal","editRequirement","editExperience","deleteGoal","deleteExperience","deleteRequirements","id","requirementsQuery","data","goalsQuery","experienceQuery","goalsUpdate","setGoalsUpdate","requirementsUpdate","setRequirementsUpdate","experienceUpdate","setExperienceUpdate","alert","showGoal","setShowGoal","showReq","setShowReq","showExp","setShowExp","goal","setGoal","req","setReq","exp","setExp","removeGoal","removeReq","removeExp","submit","name","course","then","res","length","show","forEach","index","unwrap","awaitReq","awaitEditExp","item","awaitEditGoal","map","obj","gUpdate","findIndex","value","reqUpdates","expUpdate"],"mappings":"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","sourcesContent":["import { useEffect, useState } from \"react\";\nimport { useAlert } from \"react-alert\";\nimport { CourseGoal } from \"./Goal\";\nimport { Requirements } from \"./Requirements\";\nimport { CourseExperience } from \"./Experience\";\nimport { ExperienceCreate } from \"./ExperienceCreate\";\nimport { GoalCreate } from \"./GoalCreate\";\nimport { ReqCreate } from \"./ReqCreate\";\n\nimport { selectSave, saveCourse } from \"state/course/courseSplice\";\nimport { usePrompt } from \"../userPrompt\";\nimport {\n  selectLocationPayload,\n  selectLocationType,\n} from \"state/location/selectors\";\nimport { useAppSelector, useAppDispatch } from \"store/hooks\";\nimport {\n  useCreateExperienceMutation,\n  useCreateGoalMutation,\n  useCreateRequirementMutation,\n  useEditExperienceMutation,\n  useEditGoalMutation,\n  useEditRequirementMutation,\n  useFetchExperienceQuery,\n  useFetchRequirementsQuery,\n  useFetchGoalsQuery,\n  useDeleteExperienceMutation,\n  useDeleteGoalMutation,\n  useDeleteRequirementMutation,\n  Experience,\n  Requirement,\n  Goal\n\n} from \"services/courses\";\n\n\nimport {\n  selectRequirements,\n  selectGoals,\n  selectExperience,\n} from \"state/target/targetSplice\";\n\nexport const Target = () => {\n  const locationPath = useAppSelector(selectLocationType);\n\n  const selectedSave = useAppSelector(selectSave);\n  const dispatch = useAppDispatch()\n  const locationPayload = useAppSelector(selectLocationPayload);\n  const selectedRequirements = useAppSelector(selectRequirements);\n  const selectedGoals = useAppSelector(selectGoals);\n  const selectedExperiences = useAppSelector(selectExperience);\n  const [createGoal] = useCreateGoalMutation();\n  const [createExperience] = useCreateExperienceMutation();\n  const [createRequirement] = useCreateRequirementMutation();\n  const [editGoal] = useEditGoalMutation();\n  const [editRequirement] = useEditRequirementMutation();\n  const [editExperience] = useEditExperienceMutation();\n  const [deleteGoal] = useDeleteGoalMutation();\n  const [deleteExperience] = useDeleteExperienceMutation();\n  const [deleteRequirements] = useDeleteRequirementMutation();\n  const { data: requirementsQuery } = useFetchRequirementsQuery(\n    locationPayload.id\n  );\n  const { data: goalsQuery } = useFetchGoalsQuery(locationPayload.id);\n  const { data: experienceQuery } = useFetchExperienceQuery(locationPayload.id);\n\n  const [goalsUpdate, setGoalsUpdate] = useState(selectedGoals);\n  const [requirementsUpdate, setRequirementsUpdate] =\n    useState(selectedRequirements);\n\n  const [experienceUpdate, setExperienceUpdate] = useState(selectedExperiences);\n  const alert = useAlert();\n\n  const [showGoal, setShowGoal] = useState(true)\n  const [showReq, setShowReq] = useState(true)\n  const [showExp, setShowExp] = useState(true)\n  const [goal, setGoal] = useState<Goal>()\n  const [req, setReq] = useState<Requirement>()\n  const [exp, setExp] = useState<Experience>()\n\n  usePrompt(!!exp || !!goal || !!req)\n\n\n  const removeGoal = (goal) => {\n    deleteGoal(goal.id);\n  };\n\n  const removeReq = (req) => {\n    deleteRequirements(req.id);\n  };\n\n  const removeExp = (req) => {\n    deleteExperience(req.id);\n  };\n\n  useEffect(() => {\n    setExperienceUpdate(selectedExperiences);\n  }, [selectedExperiences]);\n\n  useEffect(() => {\n    setGoalsUpdate(selectedGoals);\n  }, [selectedGoals]);\n\n  useEffect(() => {\n    setRequirementsUpdate(selectedRequirements);\n  }, [selectedRequirements]);\n\n\n\n  useEffect(() => {\n\n    if (selectedSave.submit) {\n      if (goal) {\n        createGoal({\n          name: goal.name,\n          course: locationPayload.id,\n        }).then((res: { data: Goal[] }) => {\n          if (res?.data?.length) {\n            setGoal(null)\n            dispatch(saveCourse({\n              submit: false,\n              locationPath: null\n            }))\n            alert.show(\"Your data has been saved successfully\")\n          }\n        })\n      }\n\n\n      if (exp) {\n        createExperience({\n          name: exp.name,\n          course: locationPayload.id,\n        }).then((res: { data: Experience[] }) => {\n          if (res?.data?.length) {\n            setExp(null)\n            dispatch(saveCourse({\n              submit: false,\n              locationPath: null\n            }))\n            alert.show(\"Your data has been saved successfully\")\n          }\n        })\n      }\n\n      if (req) {\n        createRequirement({\n          name: req?.name,\n          course: locationPayload.id,\n        }).then((res: { data: Requirement[] }) => {\n          if (res?.data?.length) {\n            setReq(null)\n            dispatch(saveCourse({\n              submit: false,\n              locationPath: null\n            }))\n            alert.show(\"Your data has been saved successfully\")\n          }\n        })\n\n\n      }\n      requirementsUpdate &&\n        requirementsUpdate.forEach(async (req, index) => {\n          if (req.name) {\n\n            const awaitReq = await editRequirement({\n              ...req,\n              course: locationPayload.id,\n            }).unwrap()\n\n            if (index == requirementsUpdate?.length - 1) {\n              dispatch(saveCourse({\n                submit: false,\n                locationPath: null\n              }))\n              alert.show(\"Your data has been saved successfully\");\n\n            }\n          }\n        });\n\n      experienceUpdate &&\n        experienceUpdate?.forEach(async (req, index) => {\n          if (req?.name) {\n            const awaitEditExp = await editExperience({\n              ...req,\n              course: locationPayload.id,\n            }).unwrap()\n\n            if (index == experienceUpdate.length - 1) {\n              if (awaitEditExp?.name) {\n                dispatch(saveCourse({\n                  submit: false,\n                  locationPath: null\n                }))\n                alert.show(\"Your data has been saved successfully\");\n              }\n            }\n          }\n        });\n\n      goalsUpdate &&\n        goalsUpdate?.forEach(async (item, index) => {\n          if (item.name) {\n            const awaitEditGoal = await editGoal({\n              ...item,\n              course: locationPayload?.id,\n            }).unwrap()\n            if (index == goalsUpdate?.length - 1) {\n              dispatch(saveCourse({\n                submit: false,\n                locationPath: null\n              }))\n              alert.show(\"Your data has been saved successfully\");\n            }\n          }\n        });\n    }\n  }, [selectedSave]);\n  return (\n    <div>\n      <div className=\"sub-header--wrapper--3Vunm\">\n        <div className=\"sub-header--main-content--22it3\">\n          <h2\n            data-purpose=\"page-title\"\n            className=\"font-heading-serif-xl sub-header--title--2VD8q\"\n          >\n            Target your students\n          </h2>\n        </div>\n      </div>\n      <div className=\"main-content--wrap_component--2TEkz\">\n\n        <div className=\"form_container\">\n          <div className=\"goals-form--subtitle--3R5d-\">\n            The descriptions you write here will help students decide if your\n            course is the one for them.\n          </div>\n          <form>\n            <div>\n              <div className=\"form-group\">\n                <label htmlFor=\"learn-goal\" className=\"control-label\">\n                  What will students learn in your course?\n                </label>\n                <div>\n                  <div>\n                    {goalsUpdate &&\n                      goalsUpdate.map((goal) => (\n                        <CourseGoal\n                          key={goal.id}\n                          goal={goal}\n                          handleRemove={removeGoal}\n                          handleChange={(obj) => {\n                            let gUpdate = [...goalsUpdate];\n                            let index = gUpdate?.findIndex((item) => {\n                              return item.id == obj.id;\n                            });\n                            gUpdate[index] = obj;\n                            setGoalsUpdate(gUpdate);\n                          }}\n                        />\n                      ))}\n                    {showGoal && <GoalCreate\n                      goal={goal}\n                      handleRemove={(value) => {\n                        setGoal(null)\n                        setShowGoal(!showGoal)\n                      }}\n                      handleChange={(obj) => {\n\n                        setGoal({\n                          name: obj?.name,\n                          id: obj?.id,\n                          course: locationPayload.id\n                        })\n                      }}\n                    />}\n                  </div>\n                </div>\n              </div>\n              <button\n                onClick={async () => {\n                  if (!showGoal) {\n                    setGoal(null)\n                    setShowGoal(!showGoal)\n                  }\n                  if (goal) {\n                    createGoal({\n                      name: goal.name,\n                      course: goal.course,\n                    }).then((res: { data: Goal[] }) => {\n                      if (res?.data?.length) {\n\n                        setGoal(null)\n                        if (!showGoal) {\n                          setShowGoal(!showGoal)\n                        }\n\n                      }\n                    })\n                  } else {\n                    return;\n                  }\n                }}\n                type=\"button\"\n                className=\"goals-form--button--2_zb1 btn btn-tertiary\"\n              >\n                <span className=\"mr5 cfi cfi-add\" /> Add an answer\n              </button>\n            </div>\n            <div>\n              <div className=\"form-group\">\n                <label htmlFor=\"requirements\" className=\"control-label\">\n                  Are there any course requirements or prerequisites?\n                </label>\n                <div>\n                  <div>\n                    {requirementsUpdate &&\n                      requirementsUpdate.map((req) => (\n                        <Requirements\n                          req={req}\n                          key={req.id}\n                          handleRemove={removeReq}\n                          handleChange={(obj) => {\n                            let reqUpdates = [...requirementsUpdate];\n                            let index = reqUpdates?.findIndex((item) => {\n                              return item.id == obj.id;\n                            });\n                            reqUpdates[index] = obj;\n                            setRequirementsUpdate(reqUpdates);\n                          }}\n                        />\n                      ))}\n\n                    {showReq && <ReqCreate\n                      req={req}\n\n                      handleRemove={(value) => {\n                        setReq(null)\n                        setShowReq(!showReq)\n                      }}\n                      handleChange={(obj) => {\n                        setReq({\n                          name: obj.name,\n                          course: locationPayload.id,\n                          id: obj.id\n                        })\n                      }}\n                    />}\n                  </div>\n                </div>\n              </div>\n              <button\n                onClick={() => {\n                  if (!showReq) {\n                    setReq(null)\n                    setShowReq(!showReq)\n                  }\n                  if (req) {\n                    createRequirement({\n                      name: req.name,\n                      course: req.course,\n                    }).then((res: { data: Requirement[] }) => {\n                      if (res?.data?.length) {\n\n                        setReq(null)\n                        if (!showReq) {\n                          setShowReq(!showReq)\n                        }\n\n                      }\n                    })\n                  } else {\n                    return;\n                  }\n                }}\n                type=\"button\"\n                className=\"goals-form--button--2_zb1 btn btn-tertiary\"\n              >\n                <span className=\"mr5 cfi cfi-add\" /> Add an answer\n              </button>\n            </div>\n            <div>\n              <div className=\"form-group\">\n                <label htmlFor=\"target-student\" className=\"control-label\">\n                  Who are your target students?\n                </label>\n                <div>\n                  <div>\n                    {experienceUpdate &&\n                      experienceUpdate.map((exp) => (\n                        <CourseExperience\n                          key={exp?.id}\n                          experience={exp}\n                          handleRemove={removeExp}\n                          handleChange={(obj) => {\n                            let expUpdate = [...experienceUpdate];\n\n                            let index = expUpdate.findIndex((item) => {\n                              return item.id == obj.id;\n                            });\n                            expUpdate[index] = obj;\n                            setExperienceUpdate(expUpdate);\n                          }}\n                        />\n                      ))}\n\n                    {showExp && <ExperienceCreate\n                      experience={exp}\n                      handleRemove={(value) => {\n                        setExp(null)\n                        setShowExp(!showExp)\n                      }}\n                      handleChange={(obj) => {\n\n                        setExp({\n                          name: obj.name,\n                          course: locationPayload.id,\n                          id: obj.id\n                        });\n                      }}\n                    />}\n                  </div>\n                </div>\n              </div>\n              <button\n                onClick={() => {\n                  if (!showExp) {\n                    setExp(null)\n                    setShowExp(!showExp)\n                  }\n                  if (exp) {\n                    createExperience({\n                      name: exp.name,\n                      course: exp.course,\n                    }).then((res: { data: Experience[] }) => {\n                      if (res?.data?.length) {\n                        setExp(null)\n                        if (!showExp) {\n                          setShowExp(!showExp)\n                        }\n\n                      }\n                    })\n                  } else {\n                    return;\n                  }\n                }}\n                type=\"button\"\n                className=\"goals-form--button--2_zb1 btn btn-tertiary\"\n              >\n                <span className=\"mr5 cfi cfi-add\" /> Add an answer\n              </button>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Target;\n"]},"metadata":{},"sourceType":"module"}