{"ast":null,"code":"import pathToAction from '../pure-utils/pathToAction';\nimport nestAction from '../pure-utils/nestAction';\nexport default (function (pathname, routesMap, prevLocation, history, kind, serializer, prevPath, prevLength) {\n  var action = pathToAction(pathname, routesMap, serializer);\n  kind = getKind(!!history.entries, history, kind, prevPath, prevLength);\n  return nestAction(pathname, action, prevLocation, history, kind);\n});\n\nvar getKind = function getKind(isMemoryHistory, history, kind, prevPath, prevLength) {\n  if (!isMemoryHistory || !prevPath || kind !== 'pop') {\n    return kind;\n  }\n\n  if (isBack(history, prevPath)) {\n    return 'back';\n  } else if (isNext(history, prevPath, prevLength)) {\n    return 'next';\n  }\n\n  return kind;\n};\n\nvar isBack = function isBack(hist, path) {\n  var next = hist.entries[hist.index + 1];\n  return next && next.pathname === path;\n};\n\nvar isNext = function isNext(hist, path, length) {\n  var prev = hist.entries[hist.index - 1];\n  var notPushed = length === hist.length;\n  return prev && prev.pathname === path && notPushed;\n};","map":{"version":3,"sources":["/Users/akrah/Documents/dev/readux/src/codefluent/node_modules/redux-first-router/dist/es/action-creators/historyCreateAction.js"],"names":["pathToAction","nestAction","pathname","routesMap","prevLocation","history","kind","serializer","prevPath","prevLength","action","getKind","entries","isMemoryHistory","isBack","isNext","hist","path","next","index","length","prev","notPushed"],"mappings":"AACA,OAAOA,YAAP,MAAyB,4BAAzB;AAEA,OAAOC,UAAP,MAAuB,0BAAvB;AAEA,gBAAgB,UAAUC,QAAV,EAAoBC,SAApB,EAA+BC,YAA/B,EAA6CC,OAA7C,EAAsDC,IAAtD,EAA4DC,UAA5D,EAAwEC,QAAxE,EAAkFC,UAAlF,EAA8F;AAC5G,MAAIC,MAAM,GAAGV,YAAY,CAACE,QAAD,EAAWC,SAAX,EAAsBI,UAAtB,CAAzB;AACAD,EAAAA,IAAI,GAAGK,OAAO,CAAC,CAAC,CAACN,OAAO,CAACO,OAAX,EAAoBP,OAApB,EAA6BC,IAA7B,EAAmCE,QAAnC,EAA6CC,UAA7C,CAAd;AACA,SAAOR,UAAU,CAACC,QAAD,EAAWQ,MAAX,EAAmBN,YAAnB,EAAiCC,OAAjC,EAA0CC,IAA1C,CAAjB;AACD,CAJD;;AAMA,IAAIK,OAAO,GAAG,SAASA,OAAT,CAAiBE,eAAjB,EAAkCR,OAAlC,EAA2CC,IAA3C,EAAiDE,QAAjD,EAA2DC,UAA3D,EAAuE;AACnF,MAAI,CAACI,eAAD,IAAoB,CAACL,QAArB,IAAiCF,IAAI,KAAK,KAA9C,EAAqD;AACnD,WAAOA,IAAP;AACD;;AAED,MAAIQ,MAAM,CAACT,OAAD,EAAUG,QAAV,CAAV,EAA+B;AAC7B,WAAO,MAAP;AACD,GAFD,MAEO,IAAIO,MAAM,CAACV,OAAD,EAAUG,QAAV,EAAoBC,UAApB,CAAV,EAA2C;AAChD,WAAO,MAAP;AACD;;AAED,SAAOH,IAAP;AACD,CAZD;;AAcA,IAAIQ,MAAM,GAAG,SAASA,MAAT,CAAgBE,IAAhB,EAAsBC,IAAtB,EAA4B;AACvC,MAAIC,IAAI,GAAGF,IAAI,CAACJ,OAAL,CAAaI,IAAI,CAACG,KAAL,GAAa,CAA1B,CAAX;AACA,SAAOD,IAAI,IAAIA,IAAI,CAAChB,QAAL,KAAkBe,IAAjC;AACD,CAHD;;AAKA,IAAIF,MAAM,GAAG,SAASA,MAAT,CAAgBC,IAAhB,EAAsBC,IAAtB,EAA4BG,MAA5B,EAAoC;AAC/C,MAAIC,IAAI,GAAGL,IAAI,CAACJ,OAAL,CAAaI,IAAI,CAACG,KAAL,GAAa,CAA1B,CAAX;AACA,MAAIG,SAAS,GAAGF,MAAM,KAAKJ,IAAI,CAACI,MAAhC;AAEA,SAAOC,IAAI,IAAIA,IAAI,CAACnB,QAAL,KAAkBe,IAA1B,IAAkCK,SAAzC;AACD,CALD","sourcesContent":["\nimport pathToAction from '../pure-utils/pathToAction';\n\nimport nestAction from '../pure-utils/nestAction';\n\nexport default (function (pathname, routesMap, prevLocation, history, kind, serializer, prevPath, prevLength) {\n  var action = pathToAction(pathname, routesMap, serializer);\n  kind = getKind(!!history.entries, history, kind, prevPath, prevLength);\n  return nestAction(pathname, action, prevLocation, history, kind);\n});\n\nvar getKind = function getKind(isMemoryHistory, history, kind, prevPath, prevLength) {\n  if (!isMemoryHistory || !prevPath || kind !== 'pop') {\n    return kind;\n  }\n\n  if (isBack(history, prevPath)) {\n    return 'back';\n  } else if (isNext(history, prevPath, prevLength)) {\n    return 'next';\n  }\n\n  return kind;\n};\n\nvar isBack = function isBack(hist, path) {\n  var next = hist.entries[hist.index + 1];\n  return next && next.pathname === path;\n};\n\nvar isNext = function isNext(hist, path, length) {\n  var prev = hist.entries[hist.index - 1];\n  var notPushed = length === hist.length;\n\n  return prev && prev.pathname === path && notPushed;\n};"]},"metadata":{},"sourceType":"module"}