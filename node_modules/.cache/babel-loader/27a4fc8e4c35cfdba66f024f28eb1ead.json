{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport { CheckIcon } from '@pluralsight/ps-design-system-icon';\nimport glamorDefault, * as glamorExports from 'glamor';\nimport React from 'react';\nimport stylesheet from '../css/index';\nimport { DropdownContext } from '../js/index';\nvar glamor = glamorDefault || glamorExports;\nvar styles = {\n  item: function (isActive, disabled) {\n    return glamor.css(stylesheet['.psds-dropdown__item'], disabled && stylesheet['.psds-dropdown__item--disabled'], isActive && stylesheet['.psds-dropdown__item--active']);\n  },\n  itemIcon: function () {\n    return glamor.css(stylesheet[\".psds-dropdown__item-icon\"]);\n  },\n  itemEllipsis: function () {\n    return glamor.css(stylesheet[\".psds-dropdown__item-text\"]);\n  },\n  itemSelectedIcon: function () {\n    return glamor.css(stylesheet['.psds-dropdown__item-selected-icon']);\n  }\n};\nexport var Item = React.forwardRef(function (_a, forwardedRef) {\n  var _b, _c;\n\n  var disabled = _a.disabled,\n      onClick = _a.onClick,\n      value = _a.value,\n      icon = _a.icon,\n      children = _a.children,\n      rest = __rest(_a, [\"disabled\", \"onClick\", \"value\", \"icon\", \"children\"]);\n\n  var context = React.useContext(DropdownContext);\n  var ref = React.useRef();\n  React.useImperativeHandle(forwardedRef, // eslint-disable-next-line @typescript-eslint/no-unnecessary-type-assertion\n  function () {\n    return ref.current;\n  });\n\n  var _d = React.useState(false),\n      active = _d[0],\n      setActive = _d[1];\n\n  var isActive = React.useCallback(function () {\n    ref.current && setActive(document.activeElement === ref.current);\n  }, [ref, setActive]);\n  React.useEffect(function () {\n    isActive();\n  }, [isActive]);\n  var valueExists = typeof value !== 'undefined';\n  var isSelected = valueExists && ((_b = context.selectedItem) === null || _b === void 0 ? void 0 : _b.value) === value || ((_c = context.selectedItem) === null || _c === void 0 ? void 0 : _c.label) === children;\n\n  var handleClick = function (evt) {\n    var valueToSend = typeof value !== 'undefined' ? value : children || '';\n    context.onMenuClick(evt, valueToSend);\n    if (typeof onClick === 'function') onClick(evt, valueToSend);\n  };\n\n  var handleKeyDown = function (evt) {\n    if (evt.key === 'Enter') {\n      handleClick(evt);\n      evt.preventDefault();\n    }\n  };\n\n  return React.createElement(\"button\", __assign({}, styles.item(active, !!disabled), {\n    disabled: disabled,\n    onClick: handleClick,\n    onBlur: isActive,\n    onFocus: isActive,\n    onKeyDown: handleKeyDown,\n    role: \"option\",\n    \"aria-selected\": isSelected,\n    ref: ref,\n    tabIndex: -1\n  }, rest), React.createElement(\"span\", __assign({}, styles.itemIcon()), icon), React.createElement(\"span\", __assign({}, styles.itemEllipsis()), children), isSelected && React.createElement(CheckIcon, __assign({}, styles.itemSelectedIcon())));\n});\nItem.displayName = 'Dropdown.Item';","map":{"version":3,"sources":["../../../src/react/item.tsx"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA,SAAS,SAAT,QAA0B,oCAA1B;AAEA,OAAO,aAAP,EAAsB,KAAK,aAA3B,MAA8C,QAA9C;AACA,OAAO,KAAP,MAAkB,OAAlB;AAEA,OAAO,UAAP,MAAuB,cAAvB;AACA,SAAS,eAAT,QAAgC,aAAhC;AAEA,IAAM,MAAM,GAAG,aAAa,IAAI,aAAhC;AAEA,IAAM,MAAM,GAAG;AACb,EAAA,IAAI,EAAE,UAAC,QAAD,EAAoB,QAApB,EAAqC;AACzC,WAAA,MAAM,CAAC,GAAP,CACE,UAAU,CAAC,sBAAD,CADZ,EAEE,QAAQ,IAAI,UAAU,CAAC,gCAAD,CAFxB,EAGE,QAAQ,IAAI,UAAU,CAAC,8BAAD,CAHxB,CAAA;AAIC,GANU;AAOb,EAAA,QAAQ,EAAE,YAAA;AAAM,WAAA,MAAM,CAAC,GAAP,CAAW,UAAU,CAArB,2BAAqB,CAArB,CAAA;AAAmD,GAPtD;AAQb,EAAA,YAAY,EAAE,YAAA;AAAM,WAAA,MAAM,CAAC,GAAP,CAAW,UAAU,CAArB,2BAAqB,CAArB,CAAA;AAAmD,GAR1D;AASb,EAAA,gBAAgB,EAAE,YAAA;AAChB,WAAA,MAAM,CAAC,GAAP,CAAW,UAAU,CAAC,oCAAD,CAArB,CAAA;AAA4D;AAVjD,CAAf;AAsBA,OAAO,IAAM,IAAI,GAAG,KAAK,CAAC,UAAN,CAClB,UAAC,EAAD,EAAwD,YAAxD,EAAoE;;;AAAjE,MAAA,QAAQ,GAAA,EAAA,CAAA,QAAR;AAAA,MAAU,OAAO,GAAA,EAAA,CAAA,OAAjB;AAAA,MAAmB,KAAK,GAAA,EAAA,CAAA,KAAxB;AAAA,MAA0B,IAAI,GAAA,EAAA,CAAA,IAA9B;AAAA,MAAgC,QAAQ,GAAA,EAAA,CAAA,QAAxC;AAAA,MAA6C,IAAI,GAAA,MAAA,CAAA,EAAA,EAAnD,CAAA,UAAA,EAAA,SAAA,EAAA,OAAA,EAAA,MAAA,EAAA,UAAA,CAAmD,CAAjD;;AACD,MAAM,OAAO,GAAG,KAAK,CAAC,UAAN,CAAiB,eAAjB,CAAhB;AACA,MAAM,GAAG,GAAG,KAAK,CAAC,MAAN,EAAZ;AACA,EAAA,KAAK,CAAC,mBAAN,CACE,YADF,EAEE;AACA,cAAA;AAAM,WAAA,GAAG,CAAH,OAAA;AAAgC,GAHxC;;AAKM,MAAA,EAAA,GAAsB,KAAK,CAAC,QAAN,CAAe,KAAf,CAAtB;AAAA,MAAC,MAAM,GAAA,EAAA,CAAA,CAAA,CAAP;AAAA,MAAS,SAAS,GAAA,EAAA,CAAA,CAAA,CAAlB;;AACN,MAAM,QAAQ,GAAG,KAAK,CAAC,WAAN,CAAkB,YAAA;AACjC,IAAA,GAAG,CAAC,OAAJ,IAAe,SAAS,CAAC,QAAQ,CAAC,aAAT,KAA2B,GAAG,CAAC,OAAhC,CAAxB;AACD,GAFgB,EAEd,CAAC,GAAD,EAAM,SAAN,CAFc,CAAjB;AAGA,EAAA,KAAK,CAAC,SAAN,CAAgB,YAAA;AACd,IAAA,QAAQ;AACT,GAFD,EAEG,CAAC,QAAD,CAFH;AAGA,MAAM,WAAW,GAAG,OAAO,KAAP,KAAiB,WAArC;AACA,MAAM,UAAU,GACb,WAAW,IAAI,CAAA,CAAA,EAAA,GAAA,OAAO,CAAC,YAAR,MAAoB,IAApB,IAAoB,EAAA,KAAA,KAAA,CAApB,GAAoB,KAAA,CAApB,GAAoB,EAAA,CAAE,KAAtB,MAAgC,KAAhD,IACA,CAAA,CAAA,EAAA,GAAA,OAAO,CAAC,YAAR,MAAoB,IAApB,IAAoB,EAAA,KAAA,KAAA,CAApB,GAAoB,KAAA,CAApB,GAAoB,EAAA,CAAE,KAAtB,MAAgC,QAFlC;;AAIA,MAAM,WAAW,GAAG,UAAC,GAAD,EAA4C;AAC9D,QAAM,WAAW,GAAG,OAAO,KAAP,KAAiB,WAAjB,GAA+B,KAA/B,GAAuC,QAAQ,IAAI,EAAvE;AACA,IAAA,OAAO,CAAC,WAAR,CAAoB,GAApB,EAA6C,WAA7C;AACA,QAAI,OAAO,OAAP,KAAmB,UAAvB,EACE,OAAO,CAAC,GAAD,EAA0B,WAA1B,CAAP;AACH,GALD;;AAMA,MAAM,aAAa,GAA+B,UAAA,GAAA,EAAG;AACnD,QAAI,GAAG,CAAC,GAAJ,KAAY,OAAhB,EAAyB;AACvB,MAAA,WAAW,CAAC,GAAD,CAAX;AACA,MAAA,GAAG,CAAC,cAAJ;AACD;AACF,GALD;;AAMA,SACE,KAAA,CAAA,aAAA,CAAA,QAAA,EAAA,QAAA,CAAA,EAAA,EACM,MAAM,CAAC,IAAP,CAAY,MAAZ,EAAoB,CAAC,CAAC,QAAtB,CADN,EACqC;AACnC,IAAA,QAAQ,EAAE,QADyB;AAEnC,IAAA,OAAO,EAAE,WAF0B;AAGnC,IAAA,MAAM,EAAE,QAH2B;AAInC,IAAA,OAAO,EAAE,QAJ0B;AAKnC,IAAA,SAAS,EAAE,aALwB;AAMnC,IAAA,IAAI,EAAC,QAN8B;AAMtB,qBACE,UAPoB;AAQnC,IAAA,GAAG,EAAE,GAR8B;AASnC,IAAA,QAAQ,EAAE,CAAC;AATwB,GADrC,EAWM,IAXN,CAAA,EAaE,KAAA,CAAA,aAAA,CAAA,MAAA,EAAA,QAAA,CAAA,EAAA,EAAU,MAAM,CAAC,QAAP,EAAV,CAAA,EAA8B,IAA9B,CAbF,EAcE,KAAA,CAAA,aAAA,CAAA,MAAA,EAAA,QAAA,CAAA,EAAA,EAAU,MAAM,CAAC,YAAP,EAAV,CAAA,EAAkC,QAAlC,CAdF,EAeG,UAAU,IAAI,KAAA,CAAA,aAAA,CAAC,SAAD,EAAU,QAAA,CAAA,EAAA,EAAK,MAAM,CAAC,gBAAP,EAAL,CAAV,CAfjB,CADF;AAmBD,CApDiB,CAAb;AAuDP,IAAI,CAAC,WAAL,GAAmB,eAAnB","sourceRoot":"","sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { CheckIcon } from '@pluralsight/ps-design-system-icon';\nimport glamorDefault, * as glamorExports from 'glamor';\nimport React from 'react';\nimport stylesheet from '../css/index';\nimport { DropdownContext } from '../js/index';\nvar glamor = glamorDefault || glamorExports;\nvar styles = {\n    item: function (isActive, disabled) {\n        return glamor.css(stylesheet['.psds-dropdown__item'], disabled && stylesheet['.psds-dropdown__item--disabled'], isActive && stylesheet['.psds-dropdown__item--active']);\n    },\n    itemIcon: function () { return glamor.css(stylesheet[\".psds-dropdown__item-icon\"]); },\n    itemEllipsis: function () { return glamor.css(stylesheet[\".psds-dropdown__item-text\"]); },\n    itemSelectedIcon: function () {\n        return glamor.css(stylesheet['.psds-dropdown__item-selected-icon']);\n    }\n};\nexport var Item = React.forwardRef(function (_a, forwardedRef) {\n    var _b, _c;\n    var disabled = _a.disabled, onClick = _a.onClick, value = _a.value, icon = _a.icon, children = _a.children, rest = __rest(_a, [\"disabled\", \"onClick\", \"value\", \"icon\", \"children\"]);\n    var context = React.useContext(DropdownContext);\n    var ref = React.useRef();\n    React.useImperativeHandle(forwardedRef, \n    // eslint-disable-next-line @typescript-eslint/no-unnecessary-type-assertion\n    function () { return ref.current; });\n    var _d = React.useState(false), active = _d[0], setActive = _d[1];\n    var isActive = React.useCallback(function () {\n        ref.current && setActive(document.activeElement === ref.current);\n    }, [ref, setActive]);\n    React.useEffect(function () {\n        isActive();\n    }, [isActive]);\n    var valueExists = typeof value !== 'undefined';\n    var isSelected = (valueExists && ((_b = context.selectedItem) === null || _b === void 0 ? void 0 : _b.value) === value) ||\n        ((_c = context.selectedItem) === null || _c === void 0 ? void 0 : _c.label) === children;\n    var handleClick = function (evt) {\n        var valueToSend = typeof value !== 'undefined' ? value : children || '';\n        context.onMenuClick(evt, valueToSend);\n        if (typeof onClick === 'function')\n            onClick(evt, valueToSend);\n    };\n    var handleKeyDown = function (evt) {\n        if (evt.key === 'Enter') {\n            handleClick(evt);\n            evt.preventDefault();\n        }\n    };\n    return (React.createElement(\"button\", __assign({}, styles.item(active, !!disabled), { disabled: disabled, onClick: handleClick, onBlur: isActive, onFocus: isActive, onKeyDown: handleKeyDown, role: \"option\", \"aria-selected\": isSelected, ref: ref, tabIndex: -1 }, rest),\n        React.createElement(\"span\", __assign({}, styles.itemIcon()), icon),\n        React.createElement(\"span\", __assign({}, styles.itemEllipsis()), children),\n        isSelected && React.createElement(CheckIcon, __assign({}, styles.itemSelectedIcon()))));\n});\nItem.displayName = 'Dropdown.Item';\n//# sourceMappingURL=item.js.map"]},"metadata":{},"sourceType":"module"}