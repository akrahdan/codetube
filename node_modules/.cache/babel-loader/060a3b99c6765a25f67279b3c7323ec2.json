{"ast":null,"code":"import _objectWithoutProperties from\"/Users/akrah/Documents/dev/readux/src/codefluent/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";import _objectSpread from\"/Users/akrah/Documents/dev/readux/src/codefluent/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/akrah/Documents/dev/readux/src/codefluent/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _regeneratorRuntime from\"/Users/akrah/Documents/dev/readux/src/codefluent/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _toConsumableArray from\"/Users/akrah/Documents/dev/readux/src/codefluent/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _asyncToGenerator from\"/Users/akrah/Documents/dev/readux/src/codefluent/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import Select from'react-select';import{useFetchCourseLevelQuery,useFetchInstructorCoursesQuery}from\"services/courses\";import{useFetchProjectCategoriesQuery}from\"services/projects\";import{useFetchProjectQuery,useUpdateProjectMutation,useEditHeadingMutation,useCreateHeadingMutation}from\"services/projects\";import{selectLocationPayload,selectLocationType}from\"state/location/selectors\";import{useAppSelector,useAppDispatch}from\"store/hooks\";import{selectSave,selectCourses}from\"state/course/courseSplice\";import{useState,useEffect}from\"react\";import*as client from'filestack-js';import Autosuggest from'react-autosuggest';import{defaultTheme}from'react-autosuggest/dist/theme';import algoliasearch from\"algoliasearch/lite\";import{UploadProgress}from\"./UploadProgress\";import{RTEditor}from'portal/scenes/Instructor/Editor';import classNames from\"classnames\";import{usePrompt}from\"../../Courses/userPrompt\";import{useAlert}from\"react-alert\";import styles from'./style.module.scss';import{saveCourse}from\"state/course/courseSplice\";import{selectProject}from\"state/project/projectSplice\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var filestack=client.Filestack(process.env.REACT_APP_FILESTACK_APP_KEY,{});var searchClient=algoliasearch(process.env.REACT_APP_ALGOLIA_APP_ID,process.env.REACT_APP_ALGOLIA_SEARCH_KEY);export var LandingPage=function LandingPage(){var getSuggestions=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(query){var inputValue,inputLength,results,suggestions,courseSuggestions;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:inputValue=query.trim().toLowerCase();inputLength=inputValue.length;if(!(inputLength===0)){_context.next=4;break;}return _context.abrupt(\"return\",[]);case 4:_context.next=6;return searchClient.initIndex('tags_index').search(inputValue);case 6:results=_context.sent;suggestions=results.hits.map(function(hit){return hit;});courseSuggestions=[].concat(_toConsumableArray(suggestions),[{isAddNew:true}]);return _context.abrupt(\"return\",courseSuggestions);case 10:case\"end\":return _context.stop();}}},_callee);}));return function getSuggestions(_x){return _ref.apply(this,arguments);};}();var _useFetchInstructorCo=useFetchInstructorCoursesQuery(),coursesQuery=_useFetchInstructorCo.data;var _useCreateHeadingMuta=useCreateHeadingMutation(),_useCreateHeadingMuta2=_slicedToArray(_useCreateHeadingMuta,1),createHeading=_useCreateHeadingMuta2[0];var _useEditHeadingMutati=useEditHeadingMutation(),_useEditHeadingMutati2=_slicedToArray(_useEditHeadingMutati,1),editHeading=_useEditHeadingMutati2[0];var locationPayload=useAppSelector(selectLocationPayload);var locationPath=useAppSelector(selectLocationType);var selectedSave=useAppSelector(selectSave);var selectedProject=useAppSelector(selectProject);var selectedCourses=useAppSelector(selectCourses);var dispatch=useAppDispatch();var _useFetchProjectQuery=useFetchProjectQuery(locationPayload.id),project=_useFetchProjectQuery.data,isLoading=_useFetchProjectQuery.isLoading;var _useUpdateProjectMuta=useUpdateProjectMutation(),_useUpdateProjectMuta2=_slicedToArray(_useUpdateProjectMuta,1),updateProject=_useUpdateProjectMuta2[0];var _useFetchCourseLevelQ=useFetchCourseLevelQuery(),levels=_useFetchCourseLevelQ.data;var _useFetchProjectCateg=useFetchProjectCategoriesQuery(),categories=_useFetchProjectCateg.data;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),uploading=_useState2[0],setUploading=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),progress=_useState4[0],setProgress=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],setError=_useState6[1];var _useState7=useState('Progress'),_useState8=_slicedToArray(_useState7,2),status=_useState8[0],setStatus=_useState8[1];var _useState9=useState(null),_useState10=_slicedToArray(_useState9,2),files=_useState10[0],setFiles=_useState10[1];var alert=useAlert();var _useState11=useState(),_useState12=_slicedToArray(_useState11,2),category=_useState12[0],setCategory=_useState12[1];var _useState13=useState([]),_useState14=_slicedToArray(_useState13,2),suggestions=_useState14[0],setSuggestions=_useState14[1];var _useState15=useState(''),_useState16=_slicedToArray(_useState15,2),suggestionValue=_useState16[0],setSuggestionValue=_useState16[1];var _useState17=useState(selectedProject),_useState18=_slicedToArray(_useState17,2),projectUpdate=_useState18[0],setProjectUpdate=_useState18[1];var _useState19=useState(selectedCourses),_useState20=_slicedToArray(_useState19,2),courses=_useState20[0],setCourses=_useState20[1];var _useState21=useState(),_useState22=_slicedToArray(_useState21,2),course=_useState22[0],setCourse=_useState22[1];var _useState23=useState(selectedProject?selectedProject.courses:[]),_useState24=_slicedToArray(_useState23,2),projectCourse=_useState24[0],setProjectCourse=_useState24[1];var _useState25=useState(selectedProject?selectedProject.tags:[]),_useState26=_slicedToArray(_useState25,2),tags=_useState26[0],setTags=_useState26[1];var _useState27=useState(selectedProject?selectedProject.header:{heading:'',description:'',id:null,projects:[]}),_useState28=_slicedToArray(_useState27,2),header=_useState28[0],setHeader=_useState28[1];usePrompt(true);var onProgress=function onProgress(eve){console.log(eve.totalPercent);setProgress(eve.totalPercent);};var onUpload=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(files,onProgress){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:setError(null);setStatus('Progress');setUploading(true);filestack.upload(files,{onProgress:onProgress}).then(function(results){setProjectUpdate(_objectSpread(_objectSpread({},projectUpdate),{},{thumbnail_url:results.url}));}).catch(function(err){setStatus('Failed');console.log(err);setError(err.status);});case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function onUpload(_x2,_x3){return _ref2.apply(this,arguments);};}();useEffect(function(){setProjectCourse(selectedProject===null||selectedProject===void 0?void 0:selectedProject.courses);},[selectedProject]);var renderSuggestion=function renderSuggestion(suggestion){if(suggestion.isAddNew){return/*#__PURE__*/_jsx(\"div\",{className:\"course-labels--propose-label--1zROI\",children:/*#__PURE__*/_jsxs(\"a\",{role:\"button\",tabIndex:0,children:[\"Propose new topic \",suggestionValue]})});}console.log('Suggestions: ',suggestion.name);return/*#__PURE__*/_jsx(\"span\",{className:\"course-labels--course-label--1Vi_C label label-default\",children:suggestion.name});};var theme=_objectSpread(_objectSpread({},defaultTheme),{},{container:'autosuggest-theme--container--aLRPK',itemsContainer:'label-manager--suggestions-container--2TqhD',item:'autosuggest-theme--suggestion--Ut3Fu'});var onSuggestionsFetchRequested=function onSuggestionsFetchRequested(_ref3){var value=_ref3.value;getSuggestions(value).then(function(results){return setSuggestions(results);});};var handleSuggestionChange=function handleSuggestionChange(event,_ref4){var newValue=_ref4.newValue,method=_ref4.method;setSuggestionValue(newValue);};var suggestInputProps={placeholder:'Type suggestion',value:suggestionValue,className:'form-control',onChange:handleSuggestionChange};useEffect(function(){if(selectedSave.locationPath==locationPath){if(header){if(selectedProject.header){editHeading(_objectSpread(_objectSpread({},header),{},{projects:[projectUpdate.id]})).then(function(res){var _body$syllabuses,_body$included,_body$outcomes;var header=projectUpdate.header,body=_objectWithoutProperties(projectUpdate,[\"header\"]);updateProject(_objectSpread(_objectSpread({},body),{},{tags:tags,syllabuses:body===null||body===void 0?void 0:(_body$syllabuses=body.syllabuses)===null||_body$syllabuses===void 0?void 0:_body$syllabuses.map(function(item){return item.id;}),included:(_body$included=body.included)===null||_body$included===void 0?void 0:_body$included.map(function(item){return item===null||item===void 0?void 0:item.id;}),outcomes:(_body$outcomes=body.outcomes)===null||_body$outcomes===void 0?void 0:_body$outcomes.map(function(item){return item===null||item===void 0?void 0:item.id;}),courses:projectCourse.map(function(item){return Number(item.id);})})).then(function(res){if(res.data&&res.data.id){alert.show(\"Your changes have been saved successfully\");setProjectUpdate(res.data);dispatch(saveCourse({submit:false,locationPath:null}));}}).catch(function(err){alert.error(err);dispatch(saveCourse({submit:false,locationPath:null}));});});}else{createHeading({heading:header.heading,description:header.description,projects:[projectUpdate.id]}).then(function(res){var _body$syllabuses2,_body$included2,_body$outcomes2;var header=projectUpdate.header,body=_objectWithoutProperties(projectUpdate,[\"header\"]);updateProject(_objectSpread(_objectSpread({},body),{},{tags:tags,syllabuses:body===null||body===void 0?void 0:(_body$syllabuses2=body.syllabuses)===null||_body$syllabuses2===void 0?void 0:_body$syllabuses2.map(function(item){return item.id;}),included:(_body$included2=body.included)===null||_body$included2===void 0?void 0:_body$included2.map(function(item){return item===null||item===void 0?void 0:item.id;}),outcomes:(_body$outcomes2=body.outcomes)===null||_body$outcomes2===void 0?void 0:_body$outcomes2.map(function(item){return item===null||item===void 0?void 0:item.id;}),courses:projectCourse.map(function(item){return Number(item.id);})})).then(function(res){if(res.data&&res.data.id){alert.show(\"Your changes have been saved successfully\");setProjectUpdate(res.data);dispatch(saveCourse({submit:false,locationPath:null}));}}).catch(function(err){alert.error(err);dispatch(saveCourse({submit:false,locationPath:null}));});});}}}},[selectedSave]);useEffect(function(){setProjectUpdate(selectedProject);setTags(selectedProject?selectedProject.tags:[]);setHeader(selectedProject?selectedProject.header:null);var cat=selectedProject&&selectedProject.category;var newCat=categories&&categories.find(function(item){return item.id==cat;});if(newCat){setCategory(newCat);}},[selectedProject]);useEffect(function(){setCourses(selectedCourses);},[selectedCourses]);if(isLoading||!projectUpdate){return/*#__PURE__*/_jsxs(\"div\",{className:\"ud-app-loader\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"sub-header--wrapper--3Vunm\",children:/*#__PURE__*/_jsx(\"div\",{className:\"sub-header--main-content--22it3\",children:/*#__PURE__*/_jsx(\"h2\",{\"data-purpose\":\"page-title\",className:\"font-heading-serif-xl sub-header--title--2VD8q\",children:\"Project landing page\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"main-content--wrap_component--2TEkz\",children:/*#__PURE__*/_jsx(\"form\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"div\",{className:classNames(\"cfi-medium\",\"cfi\",\"cfi-circle-loader\",styles.loader)})})})})]});}var validateFileType=function validateFileType(fileItem){var fileType=fileItem.filetype;// image/png image/jpeg\nvar rootType=fileType.split(\"/\")[0];switch(rootType){case\"image\":return'File';default:return'Video';}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"sub-header--wrapper--3Vunm\",children:/*#__PURE__*/_jsx(\"div\",{className:\"sub-header--main-content--22it3\",children:/*#__PURE__*/_jsx(\"h2\",{\"data-purpose\":\"page-title\",className:\"font-heading-serif-xl sub-header--title--2VD8q\",children:\"Project landing page\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"main-content--wrap_component--2TEkz\",children:/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"title\",className:\"control-label\",children:\"Project title\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-control-counter-container\",children:[/*#__PURE__*/_jsx(\"input\",{placeholder:\"Insert your course title.\",name:\"title\",\"data-purpose\":\"edit-course-title\",maxLength:60,value:projectUpdate.title,onChange:function onChange(event){return setProjectUpdate(_objectSpread(_objectSpread({},projectUpdate),{},{title:event.target.value}));},id:\"title\",className:\"form-control\"}),/*#__PURE__*/_jsx(\"div\",{className:\"form-control-counter\",\"data-purpose\":\"form-control-counter\",children:projectUpdate.title?projectUpdate.title.length:null})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"headline\",className:\"control-label\",children:\"Project header heading\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-control-counter-container\",children:[/*#__PURE__*/_jsx(\"input\",{placeholder:\"Insert your course subtitle.\",name:\"headline\",value:header?header.heading?header.heading:'':'',onChange:function onChange(event){return setHeader(_objectSpread(_objectSpread({},header),{},{heading:event.target.value}));},maxLength:120,id:\"headline\",className:\"form-control\"}),/*#__PURE__*/_jsx(\"div\",{className:\"form-control-counter\",\"data-purpose\":\"form-control-counter\",children:header?header.heading?header.heading.length:null:null})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"description\",className:\"control-label\",children:\"Project header description\"}),/*#__PURE__*/_jsx(RTEditor,{editorValue:header?header.description:'',handleChange:function handleChange(value){return setHeader(_objectSpread(_objectSpread({},header),{},{description:value}));}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"description\",className:\"control-label\",children:\"Project description\"}),/*#__PURE__*/_jsx(RTEditor,{editorValue:projectUpdate?projectUpdate.description:'',handleChange:function handleChange(value){return setProjectUpdate(_objectSpread(_objectSpread({},projectUpdate),{},{description:value}));}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Basic info\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"course-basics-form--inline-fields--3ZuU2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"instructional_level\",className:\"sr-only control-label\",children:\"Project instructional level\"}),/*#__PURE__*/_jsx(\"div\",{className:\"form-control-single-select-container\",children:/*#__PURE__*/_jsxs(\"select\",{title:\"Instructional level\",id:\"instructional_level\",className:\"form-control\",value:projectUpdate.level||-1,onChange:function onChange(event){return setProjectUpdate(_objectSpread(_objectSpread({},projectUpdate),{},{level:event.target.value}));},children:[/*#__PURE__*/_jsx(\"option\",{value:-1,children:\"-- Select Level --\"}),levels&&levels.map(function(level){return/*#__PURE__*/_jsx(\"option\",{value:level.name,children:level.display},level.name);})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"category\",className:\"sr-only control-label\",children:\"Project category\"}),/*#__PURE__*/_jsx(\"div\",{className:\"form-control-single-select-container\",children:/*#__PURE__*/_jsxs(\"select\",{title:\"Category\",id:\"category\",value:projectUpdate.category||-1,onChange:function onChange(event){var newCat=categories&&categories.find(function(cat){return cat.id==Number(event.target.value);});if(newCat)setProjectUpdate(_objectSpread(_objectSpread({},projectUpdate),{},{category:newCat.id}));setCategory(newCat);},className:\"form-control\",children:[/*#__PURE__*/_jsx(\"option\",{value:-1,children:\"-- Select Category --\"}),categories&&categories.map(function(category){return/*#__PURE__*/_jsx(\"option\",{value:category.id,children:category.title},category.id);})]})})]})]}),/*#__PURE__*/_jsx(\"p\",{children:\"Select Courses for this project\"}),/*#__PURE__*/_jsx(\"div\",{className:\"course-basics-form--inline-fields--3ZuU2\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"courses\",className:\"sr-only control-label\",children:\"Project courses\"}),/*#__PURE__*/_jsx(Select,{closeMenuOnSelect:false,onChange:function onChange(value){console.log(value);value&&setProjectCourse(value);},value:projectCourse,getOptionLabel:function getOptionLabel(options){return options.title;},getOptionValue:function getOptionValue(options){return options.id.toString();},isMulti:true,options:courses})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"headline\",className:\"control-label\",children:\"Let your students know the overall goal of this project\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-control-counter-container\",children:[/*#__PURE__*/_jsx(\"input\",{placeholder:\"Insert your course subtitle.\",name:\"headline\",value:projectUpdate.goal||'',onChange:function onChange(event){return setProjectUpdate(_objectSpread(_objectSpread({},projectUpdate),{},{goal:event.target.value}));},maxLength:120,id:\"headline\",className:\"form-control\"}),/*#__PURE__*/_jsx(\"div\",{className:\"form-control-counter\",\"data-purpose\":\"form-control-counter\",children:projectUpdate.goal?projectUpdate.goal.length:null})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"label-manager--sublabel--kpb1O\",children:[/*#__PURE__*/_jsxs(\"span\",{\"data-purpose\":\"safely-set-inner-html:label-manager:what-is-taught\",children:[\"What is \",/*#__PURE__*/_jsx(\"strong\",{children:\"primarily\"}),\" taught in your project?\"]}),/*#__PURE__*/_jsx(\"span\",{className:\"label-manager--tooltip-icon--15XkO overlay-with-pointer cfi cfi-info-circle\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"m0 row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-sm-6 pl0 pr0\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"course-labels--course-labels--gbBja\",children:tags&&tags.map(function(tag){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"span\",{className:\"course-labels--course-label--1Vi_C label label-default\",children:[/*#__PURE__*/_jsx(\"span\",{children:tag}),/*#__PURE__*/_jsx(\"span\",{className:\"cfi cfi-close course-labels--course-label__icon--cBTbb\",role:\"button\",tabIndex:0})]},tag)});})}),/*#__PURE__*/_jsx(Autosuggest,{suggestions:suggestions,renderSuggestion:renderSuggestion,inputProps:suggestInputProps,theme:theme,onSuggestionSelected:function onSuggestionSelected(event,_ref5){var suggestion=_ref5.suggestion;if(suggestion.isAddNew){setTags([].concat(_toConsumableArray(tags),[suggestionValue]));}else{setTags([].concat(_toConsumableArray(tags),[suggestion.name]));}},onSuggestionsClearRequested:function onSuggestionsClearRequested(){setSuggestions([]);},getSuggestionValue:function getSuggestionValue(suggestion){if(suggestion.isAddNew)return suggestionValue;return suggestion.name;},onSuggestionsFetchRequested:onSuggestionsFetchRequested})]})})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"control-label\",children:\"Course image\"}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"image-upload-preview-with-crop--stack--URrDD\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"image-upload-preview-with-crop--previewWrapper--1eYsy\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"image-upload-preview-with-crop--imageWrapper--fNINE\",children:/*#__PURE__*/_jsx(\"img\",{alt:\"Course image\",src:projectUpdate.thumbnail_url?projectUpdate.thumbnail_url:\"https://s.udemycdn.com/course/750x422/placeholder.jpg\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"image-upload-preview-with-crop--tips--17Lj2\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"image-upload-preview-with-crop--form-element--2Nnsf\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"span\",{children:\"Upload your project image here. Important guidelines: 750x422 pixels; .jpg, .jpeg,. gif, or .png. no text on the image.\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"file-uploader--file-selector--SGCns\",children:uploading?/*#__PURE__*/_jsx(UploadProgress,{progress:progress,changeUpload:function changeUpload(){return setUploading(!uploading);}}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"input\",{accept:\".gif,.jpg,.jpeg,.png\",type:\"file\",onChange:function onChange(event){return onUpload(event.target.files[0],onProgress);},id:\"FileUploaderS3-0--24\",className:\"sr-only\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"FileUploaderS3-0--24\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-control file-uploader--fake-file-input--1_ohV\",children:\"No file selected\"}),/*#__PURE__*/_jsx(\"span\",{className:\"input-group-btn\",children:/*#__PURE__*/_jsx(\"div\",{\"data-type\":\"button\",className:\"btn btn-default\",children:\"Upload File\"})})]})})]})}),/*#__PURE__*/_jsx(\"input\",{type:\"hidden\"})]})]})})]})]})]})})]});};export default LandingPage;","map":{"version":3,"sources":["/Users/akrah/Documents/dev/readux/src/codefluent/src/portal/scenes/Instructor/Projects/Landing/index.tsx"],"names":["Select","useFetchCourseLevelQuery","useFetchInstructorCoursesQuery","useFetchProjectCategoriesQuery","useFetchProjectQuery","useUpdateProjectMutation","useEditHeadingMutation","useCreateHeadingMutation","selectLocationPayload","selectLocationType","useAppSelector","useAppDispatch","selectSave","selectCourses","useState","useEffect","client","Autosuggest","defaultTheme","algoliasearch","UploadProgress","RTEditor","classNames","usePrompt","useAlert","styles","saveCourse","selectProject","filestack","Filestack","process","env","REACT_APP_FILESTACK_APP_KEY","searchClient","REACT_APP_ALGOLIA_APP_ID","REACT_APP_ALGOLIA_SEARCH_KEY","LandingPage","getSuggestions","query","inputValue","trim","toLowerCase","inputLength","length","initIndex","search","results","suggestions","hits","map","hit","courseSuggestions","isAddNew","coursesQuery","data","createHeading","editHeading","locationPayload","locationPath","selectedSave","selectedProject","selectedCourses","dispatch","id","project","isLoading","updateProject","levels","categories","uploading","setUploading","progress","setProgress","error","setError","status","setStatus","files","setFiles","alert","category","setCategory","setSuggestions","suggestionValue","setSuggestionValue","projectUpdate","setProjectUpdate","courses","setCourses","course","setCourse","projectCourse","setProjectCourse","tags","setTags","header","heading","description","projects","setHeader","onProgress","eve","console","log","totalPercent","onUpload","upload","then","thumbnail_url","url","catch","err","renderSuggestion","suggestion","name","theme","container","itemsContainer","item","onSuggestionsFetchRequested","value","handleSuggestionChange","event","newValue","method","suggestInputProps","placeholder","className","onChange","res","body","syllabuses","included","outcomes","Number","show","submit","cat","newCat","find","loader","validateFileType","fileItem","fileType","filetype","rootType","split","title","target","level","display","options","toString","goal","tag"],"mappings":"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","sourcesContent":["import Select from 'react-select';\nimport { CoursePlayerResponse, CourseResponse, useFetchCourseLevelQuery, useFetchInstructorCoursesQuery } from \"services/courses\";\nimport { useFetchProjectCategoriesQuery } from \"services/projects\";\nimport { useFetchProjectQuery, useUpdateProjectMutation, useEditHeadingMutation, useCreateHeadingMutation } from \"services/projects\";\nimport type { HeaderDescription } from \"services/projects\";\nimport { selectLocationPayload, selectLocationType } from \"state/location/selectors\";\nimport { useAppSelector, useAppDispatch } from \"store/hooks\";\n\nimport { selectSave, selectCourses } from \"state/course/courseSplice\";\nimport { useState, useEffect } from \"react\";\nimport * as client from 'filestack-js';\nimport Player from 'react-player';\nimport Autosuggest from 'react-autosuggest';\nimport { defaultTheme } from 'react-autosuggest/dist/theme'\nimport algoliasearch from \"algoliasearch/lite\";\nimport { autoSearch } from \"services/courses\";\nimport type { ProjectEntityResponse, ProjectEntityRequest, Course } from \"services/projects\";\nimport { UploadProgress } from \"./UploadProgress\";\nimport { RTEditor } from 'portal/scenes/Instructor/Editor';\nimport classNames from \"classnames\";\nimport { usePrompt } from \"../../Courses/userPrompt\";\nimport { useAlert } from \"react-alert\";\nimport type { CategoryResponse } from \"services/courses\";\nimport styles from './style.module.scss'\nimport { saveCourse } from \"state/course/courseSplice\";\nimport { selectProject } from \"state/project/projectSplice\";\nimport { values } from 'lodash';\n\n\nconst filestack = client.Filestack(process.env.REACT_APP_FILESTACK_APP_KEY, {})\n\nconst searchClient = algoliasearch(\n  process.env.REACT_APP_ALGOLIA_APP_ID,\n  process.env.REACT_APP_ALGOLIA_SEARCH_KEY\n);\n\nexport const LandingPage = () => {\n  const getSuggestions = async (query: string) => {\n    const inputValue = query.trim().toLowerCase();\n    const inputLength = inputValue.length;\n    if (inputLength === 0) return []\n    const results = await searchClient.initIndex('tags_index').search(inputValue)\n    const suggestions = results.hits.map(hit => {\n      return hit\n    })\n\n    const courseSuggestions = [...suggestions, { isAddNew: true }]\n    return courseSuggestions\n  }\n\n\n  const { data: coursesQuery } = useFetchInstructorCoursesQuery()\n  const [createHeading] = useCreateHeadingMutation()\n  const [editHeading] = useEditHeadingMutation()\n  const locationPayload = useAppSelector(selectLocationPayload);\n  const locationPath = useAppSelector(selectLocationType);\n  const selectedSave = useAppSelector(selectSave);\n  const selectedProject = useAppSelector(selectProject)\n  const selectedCourses = useAppSelector(selectCourses)\n  const dispatch = useAppDispatch()\n  const { data: project, isLoading } = useFetchProjectQuery(locationPayload.id)\n  const [updateProject] = useUpdateProjectMutation()\n\n  const { data: levels } = useFetchCourseLevelQuery()\n  const { data: categories } = useFetchProjectCategoriesQuery()\n  const [uploading, setUploading] = useState(false)\n  const [progress, setProgress] = useState(0)\n\n  const [error, setError] = useState(null)\n  const [status, setStatus] = useState('Progress')\n  const [files, setFiles] = useState(null);\n  const alert = useAlert()\n  const [category, setCategory] = useState<CategoryResponse>()\n  const [suggestions, setSuggestions] = useState([]);\n  const [suggestionValue, setSuggestionValue] = useState('');\n  const [projectUpdate, setProjectUpdate] = useState<ProjectEntityResponse>(selectedProject)\n  const [courses, setCourses] = useState<CoursePlayerResponse[]>(selectedCourses)\n  const [course, setCourse] = useState<CoursePlayerResponse>()\n  const [projectCourse, setProjectCourse] = useState<CoursePlayerResponse[]>(selectedProject ? selectedProject.courses : [])\n  const [tags, setTags] = useState<string[]>(selectedProject ? selectedProject.tags : []);\n  const [header, setHeader] = useState<HeaderDescription>(selectedProject ? selectedProject.header : {\n    heading: '',\n    description: '',\n    id: null,\n    projects: []\n  })\n  usePrompt(true)\n  const onProgress = eve => {\n    console.log(eve.totalPercent)\n    setProgress(eve.totalPercent)\n\n  }\n  const onUpload = async (files, onProgress) => {\n    setError(null)\n    setStatus('Progress')\n    setUploading(true)\n\n    filestack.upload(files, { onProgress })\n      .then(results => {\n        setProjectUpdate({\n          ...projectUpdate,\n          thumbnail_url: results.url\n        })\n      }).catch(err => {\n        setStatus('Failed')\n        console.log(err)\n        setError(err.status)\n      })\n  }\n\n  useEffect(() => {\n     setProjectCourse(selectedProject?.courses)\n  }, [selectedProject])\n\n\n\n\n\n  const renderSuggestion = suggestion => {\n\n    if (suggestion.isAddNew) {\n\n      return (\n        <div className=\"course-labels--propose-label--1zROI\">\n          <a role=\"button\" tabIndex={0}>Propose new topic {suggestionValue}\n          </a>\n        </div>\n\n      );\n    }\n    console.log('Suggestions: ', suggestion.name)\n\n    return <span className=\"course-labels--course-label--1Vi_C label label-default\">{suggestion.name}</span>;\n  };\n\n  const theme = {\n    ...defaultTheme,\n    container: 'autosuggest-theme--container--aLRPK',\n    itemsContainer: 'label-manager--suggestions-container--2TqhD',\n    item: 'autosuggest-theme--suggestion--Ut3Fu',\n  }\n  const onSuggestionsFetchRequested = ({ value }) => {\n    getSuggestions(value)\n      .then(results => setSuggestions(results))\n\n  }\n  const handleSuggestionChange = (event, { newValue, method }) => {\n    setSuggestionValue(newValue)\n  }\n\n  const suggestInputProps = {\n    placeholder: 'Type suggestion',\n    value: suggestionValue,\n    className: 'form-control',\n    onChange: handleSuggestionChange\n  }\n\n  useEffect(() => {\n\n    if (selectedSave.locationPath == locationPath) {\n      if (header) {\n        if (selectedProject.header) {\n          editHeading({\n            ...header,\n            projects: [projectUpdate.id]\n          }).then((res: {\n            data: HeaderDescription\n          }) => {\n            const { header, ...body } = projectUpdate\n            updateProject({\n              ...body,\n              tags,\n              syllabuses: body?.syllabuses?.map(item => item.id),\n              included: body.included?.map(item => item?.id),\n              outcomes: body.outcomes?.map(item => item?.id),\n              \n              courses: projectCourse.map(item => Number(item.id)),\n              \n\n            }).then((res: { data: ProjectEntityResponse }) => {\n              if (res.data && res.data.id) {\n                alert.show(\"Your changes have been saved successfully\")\n                setProjectUpdate(res.data)\n                dispatch(saveCourse({\n                  submit: false,\n                  locationPath: null\n                }))\n              }\n\n            }).catch(err => {\n              alert.error(err)\n              dispatch(saveCourse({\n                submit: false,\n                locationPath: null\n              }))\n            })\n          })\n        } else {\n          createHeading({\n            heading: header.heading,\n            description: header.description,\n            projects: [projectUpdate.id]\n          }).then((res: {\n            data: HeaderDescription\n          }) => {\n            const { header, ...body } = projectUpdate\n            updateProject({\n              ...body,\n              tags,\n              syllabuses: body?.syllabuses?.map(item => item.id),\n              included: body.included?.map(item => item?.id),\n              outcomes: body.outcomes?.map(item => item?.id),\n              courses: projectCourse.map(item => Number(item.id))\n            }).then((res: { data: ProjectEntityResponse }) => {\n              if (res.data && res.data.id) {\n                alert.show(\"Your changes have been saved successfully\")\n                setProjectUpdate(res.data)\n                dispatch(saveCourse({\n                  submit: false,\n                  locationPath: null\n                }))\n              }\n\n            }).catch(err => {\n              alert.error(err)\n              dispatch(saveCourse({\n                submit: false,\n                locationPath: null\n              }))\n            })\n          })\n        }\n      }\n\n    }\n  }, [selectedSave])\n\n  useEffect(() => {\n    setProjectUpdate(selectedProject)\n    setTags(selectedProject ? selectedProject.tags : [])\n    setHeader(selectedProject ? selectedProject.header : null)\n    const cat = selectedProject && selectedProject.category\n    const newCat = categories && categories.find(item => item.id == cat)\n    if (newCat) {\n      setCategory(newCat)\n    }\n\n  }, [selectedProject])\n\n\n  useEffect(() => {\n    setCourses(selectedCourses)\n  }, [selectedCourses])\n\n  if (isLoading || !projectUpdate) {\n\n    return (\n      <div className=\"ud-app-loader\">\n        <div className=\"sub-header--wrapper--3Vunm\">\n          <div className=\"sub-header--main-content--22it3\">\n            <h2\n              data-purpose=\"page-title\"\n              className=\"font-heading-serif-xl sub-header--title--2VD8q\"\n            >\n              Project landing page\n            </h2>\n          </div>\n        </div>\n        <div className=\"main-content--wrap_component--2TEkz\">\n          <form>\n            <div className=\"form-group\">\n              <div className={classNames(\"cfi-medium\", \"cfi\", \"cfi-circle-loader\",\n                styles.loader)}>\n\n              </div>\n            </div>\n          </form>\n\n        </div>\n\n\n      </div>\n    );\n  }\n\n  const validateFileType = (fileItem) => {\n    var fileType = fileItem.filetype; // image/png image/jpeg\n    var rootType = fileType.split(\"/\")[0];\n    switch (rootType) {\n      case \"image\":\n        return 'File';\n      default:\n        return 'Video';\n    }\n  }\n\n  return (\n    <div>\n      <div className=\"sub-header--wrapper--3Vunm\">\n        <div className=\"sub-header--main-content--22it3\">\n          <h2\n            data-purpose=\"page-title\"\n            className=\"font-heading-serif-xl sub-header--title--2VD8q\"\n          >\n            Project landing page\n          </h2>\n        </div>\n      </div>\n      <div className=\"main-content--wrap_component--2TEkz\">\n\n        <form >\n          <div className=\"form-group\">\n            <label htmlFor=\"title\" className=\"control-label\">\n              Project title\n            </label>\n            <div className=\"form-control-counter-container\">\n              <input\n                placeholder=\"Insert your course title.\"\n                name=\"title\"\n                data-purpose=\"edit-course-title\"\n                maxLength={60}\n                value={projectUpdate.title}\n                onChange={(event) => setProjectUpdate({\n                  ...projectUpdate,\n                  title: event.target.value\n                })}\n                id=\"title\"\n                className=\"form-control\"\n              />\n              <div\n                className=\"form-control-counter\"\n                data-purpose=\"form-control-counter\"\n              >\n                {projectUpdate.title ? projectUpdate.title.length : null}\n              </div>\n            </div>\n          </div>\n          <div className=\"form-group\">\n            <label htmlFor=\"headline\" className=\"control-label\">\n              Project header heading\n            </label>\n            <div className=\"form-control-counter-container\">\n              <input\n                placeholder=\"Insert your course subtitle.\"\n                name=\"headline\"\n                value={header ? header.heading ? header.heading : '' : ''}\n                onChange={event => setHeader({\n                  ...header,\n                  heading: event.target.value\n                })}\n                maxLength={120}\n                id=\"headline\"\n                className=\"form-control\"\n              />\n              <div\n                className=\"form-control-counter\"\n                data-purpose=\"form-control-counter\"\n              >\n                {header ? header.heading ? header.heading.length : null : null}\n              </div>\n            </div>\n          </div>\n\n          <div className=\"form-group\">\n            <label htmlFor=\"description\" className=\"control-label\">\n              Project header description\n            </label>\n            <RTEditor editorValue={header ? header.description : ''} handleChange={(value) =>\n              setHeader(\n                {\n                  ...header,\n                  description: value\n                }\n              )} />\n          </div>\n          <div>\n\n            <div className=\"form-group\">\n              <label htmlFor=\"description\" className=\"control-label\">\n                Project description\n              </label>\n              <RTEditor editorValue={projectUpdate ? projectUpdate.description : ''} handleChange={(value) =>\n                setProjectUpdate(\n                  {\n                    ...projectUpdate,\n                    description: value\n                  }\n                )} />\n            </div>\n            <div>\n              <p>Basic info</p>\n              <div className=\"course-basics-form--inline-fields--3ZuU2\">\n                <div className=\"form-group\">\n                  <label\n                    htmlFor=\"instructional_level\"\n                    className=\"sr-only control-label\"\n                  >\n                    Project instructional level\n                  </label>\n                  <div className=\"form-control-single-select-container\">\n                    <select\n                      title=\"Instructional level\"\n                      id=\"instructional_level\"\n                      className=\"form-control\"\n                      value={projectUpdate.level || -1}\n                      onChange={event => setProjectUpdate({\n                        ...projectUpdate,\n                        level: event.target.value\n                      })}\n                    >\n                      <option value={-1}>-- Select Level --</option>\n                      {levels && levels.map(level => <option key={level.name} value={level.name}>{level.display}</option>)}\n\n                    </select>\n                  </div>\n                </div>\n                <div className=\"form-group\">\n                  <label htmlFor=\"category\" className=\"sr-only control-label\">\n                    Project category\n                  </label>\n                  <div className=\"form-control-single-select-container\">\n                    <select\n                      title=\"Category\"\n                      id=\"category\"\n                      value={projectUpdate.category || -1}\n                      onChange={(event) => {\n                        const newCat = categories && categories.find(cat => cat.id == Number(event.target.value))\n                        if (newCat) setProjectUpdate({\n                          ...projectUpdate,\n                          category: newCat.id\n                        })\n                        setCategory(newCat)\n                      }}\n                      className=\"form-control\"\n                    >\n                      <option value={-1}>-- Select Category --</option>\n                      {categories && categories.map(category => <option key={category.id} value={category.id}>{category.title}</option>)}\n\n                    </select>\n                  </div>\n                </div>\n\n              </div>\n\n              <p>Select Courses for this project</p>\n              <div className=\"course-basics-form--inline-fields--3ZuU2\">\n\n                <div className=\"form-group\">\n                  <label htmlFor=\"courses\" className=\"sr-only control-label\">\n                    Project courses\n                  </label>\n                  <Select\n                    closeMenuOnSelect={false}\n                    onChange={value => {\n                      console.log(value)\n                     value && setProjectCourse(value as CoursePlayerResponse[])\n                    }}\n                    value = {projectCourse}\n                  \n                    getOptionLabel={options => options.title}\n                    getOptionValue={options => options.id.toString()}\n                    isMulti\n                    options={courses}\n\n                  />\n                </div>\n\n              </div>\n\n              <div className=\"form-group\">\n                <label htmlFor=\"headline\" className=\"control-label\">\n                  Let your students know the overall goal of this project\n                </label>\n                <div className=\"form-control-counter-container\">\n                  <input\n                    placeholder=\"Insert your course subtitle.\"\n                    name=\"headline\"\n                    value={projectUpdate.goal || ''}\n                    onChange={event => setProjectUpdate({\n                      ...projectUpdate,\n                      goal: event.target.value\n                    })}\n                    maxLength={120}\n                    id=\"headline\"\n                    className=\"form-control\"\n                  />\n                  <div\n                    className=\"form-control-counter\"\n                    data-purpose=\"form-control-counter\"\n                  >\n                    {projectUpdate.goal ? projectUpdate.goal.length : null}\n                  </div>\n                </div>\n              </div>\n              <div className=\"form-group\">\n                <div>\n                  <div>\n                    <div className=\"label-manager--sublabel--kpb1O\">\n                      <span data-purpose=\"safely-set-inner-html:label-manager:what-is-taught\">\n                        What is <strong>primarily</strong> taught in your project?\n                      </span>\n                      <span className=\"label-manager--tooltip-icon--15XkO overlay-with-pointer cfi cfi-info-circle\" />\n                    </div>\n                  </div>\n                  <div className=\"m0 row\">\n                    <div className=\"col-sm-6 pl0 pr0\">\n                      <span className=\"course-labels--course-labels--gbBja\">\n                        {tags && tags.map(tag => (\n                          <>\n                            <span\n                              key={tag}\n                              className=\"course-labels--course-label--1Vi_C label label-default\"\n                            >\n                              <span>{tag}</span>\n                              <span\n                                className=\"cfi cfi-close course-labels--course-label__icon--cBTbb\"\n\n                                role=\"button\"\n                                tabIndex={0}\n                              />\n                            </span>\n                          </>\n                        ))}\n\n                      </span>\n                      <Autosuggest\n                        suggestions={suggestions}\n                        renderSuggestion={renderSuggestion}\n                        inputProps={suggestInputProps}\n                        theme={theme}\n                        onSuggestionSelected={(event, { suggestion }) => {\n                          if (suggestion.isAddNew) {\n                            setTags([\n                              ...tags,\n                              suggestionValue\n                            ])\n                          } else {\n                            setTags([\n                              ...tags,\n                              suggestion.name\n                            ])\n                          }\n                        }}\n                        onSuggestionsClearRequested={() => {\n                          setSuggestions([])\n                        }}\n                        getSuggestionValue={(suggestion) => {\n                          if (suggestion.isAddNew) return suggestionValue\n                          return suggestion.name\n                        }}\n                        onSuggestionsFetchRequested={onSuggestionsFetchRequested} />\n                    </div>\n\n                  </div>\n\n\n                </div>\n              </div>\n            </div>\n            <div className=\"form-group\">\n              <label className=\"control-label\">Course image</label>\n              <div>\n                <div className=\"image-upload-preview-with-crop--stack--URrDD\">\n                  <div className=\"image-upload-preview-with-crop--previewWrapper--1eYsy\">\n                    <div className=\"image-upload-preview-with-crop--imageWrapper--fNINE\">\n                      <img\n\n                        alt=\"Course image\"\n\n                        src={projectUpdate.thumbnail_url ? projectUpdate.thumbnail_url : \"https://s.udemycdn.com/course/750x422/placeholder.jpg\"}\n                      />\n                    </div>\n                    <div className=\"image-upload-preview-with-crop--tips--17Lj2\" />\n                  </div>\n                  <div className=\"image-upload-preview-with-crop--form-element--2Nnsf\">\n                    <div>\n                      <p>\n                        <span>\n                          Upload your project image here. Important guidelines: 750x422 pixels;\n                          .jpg, .jpeg,. gif, or .png. no text on the image.\n                        </span>\n                      </p>\n                    </div>\n                    <div\n                      className=\"file-uploader--file-selector--SGCns\"\n\n                    >\n                      {uploading ? <UploadProgress progress={progress} changeUpload={() => setUploading(!uploading)} /> : (\n                        <><input\n                          accept=\".gif,.jpg,.jpeg,.png\"\n                          type=\"file\"\n                          onChange={event => onUpload(event.target.files[0], onProgress)}\n                          id=\"FileUploaderS3-0--24\"\n                          className=\"sr-only\"\n                        />\n                          <label htmlFor=\"FileUploaderS3-0--24\">\n                            <span className=\"input-group\">\n                              <div className=\"form-control file-uploader--fake-file-input--1_ohV\">\n                                No file selected\n                              </div>\n                              <span className=\"input-group-btn\">\n                                <div data-type=\"button\" className=\"btn btn-default\">\n                                  Upload File\n                                </div>\n                              </span>\n                            </span>\n                          </label>\n                        </>)}\n                    </div>\n                    <input type=\"hidden\" />\n                  </div>\n                </div>\n              </div>\n            </div>\n\n\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default LandingPage;\n"]},"metadata":{},"sourceType":"module"}