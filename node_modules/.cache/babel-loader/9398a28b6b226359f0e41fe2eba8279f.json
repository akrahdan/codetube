{"ast":null,"code":"import _objectSpread from\"/Users/akrah/Documents/dev/readux/src/codefluent/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/akrah/Documents/dev/readux/src/codefluent/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _regeneratorRuntime from\"/Users/akrah/Documents/dev/readux/src/codefluent/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _toConsumableArray from\"/Users/akrah/Documents/dev/readux/src/codefluent/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _asyncToGenerator from\"/Users/akrah/Documents/dev/readux/src/codefluent/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import{useFetchCourseQuery,useFetchCourseLevelQuery,useFetchCategoriesQuery,useUpdateCourseMutation}from\"services/courses\";import{selectLocationPayload,selectLocationType}from\"state/location/selectors\";import{useAppSelector,useAppDispatch}from\"store/hooks\";import{selectSave}from\"state/course/courseSplice\";import{useState,useEffect}from\"react\";import*as client from'filestack-js';import Player from'react-player';import Autosuggest from'react-autosuggest';import{defaultTheme}from'react-autosuggest/dist/theme';import algoliasearch from\"algoliasearch/lite\";import{UploadProgress}from\"./UploadProgress\";import{RTEditor}from'portal/scenes/Instructor/Editor';import classNames from\"classnames\";import{usePrompt}from\"../userPrompt\";import{saveCourse}from\"state/course/courseSplice\";import{selectCourse}from\"state/course/courseSplice\";import{useAlert}from\"react-alert\";import styles from'./style.module.scss';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var filestack=client.Filestack(process.env.REACT_APP_FILESTACK_APP_KEY,{});var searchClient=algoliasearch(process.env.REACT_APP_ALGOLIA_APP_ID,process.env.REACT_APP_ALGOLIA_SEARCH_KEY);export var LandingPage=function LandingPage(){var getSuggestions=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(query){var inputValue,inputLength,results,suggestions,courseSuggestions;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:inputValue=query.trim().toLowerCase();inputLength=inputValue.length;if(!(inputLength===0)){_context.next=4;break;}return _context.abrupt(\"return\",[]);case 4:_context.next=6;return searchClient.initIndex('tags_index').search(inputValue);case 6:results=_context.sent;suggestions=results.hits.map(function(hit){return hit;});courseSuggestions=[].concat(_toConsumableArray(suggestions),[{isAddNew:true}]);return _context.abrupt(\"return\",courseSuggestions);case 10:case\"end\":return _context.stop();}}},_callee);}));return function getSuggestions(_x){return _ref.apply(this,arguments);};}();var dispatch=useAppDispatch();var locationPayload=useAppSelector(selectLocationPayload);var locationPath=useAppSelector(selectLocationType);var selectedSave=useAppSelector(selectSave);var course=useAppSelector(selectCourse);var _useFetchCourseQuery=useFetchCourseQuery(locationPayload.id),courseQuery=_useFetchCourseQuery.data,isLoading=_useFetchCourseQuery.isLoading;var _useUpdateCourseMutat=useUpdateCourseMutation(),_useUpdateCourseMutat2=_slicedToArray(_useUpdateCourseMutat,1),updateCourse=_useUpdateCourseMutat2[0];var _useFetchCourseLevelQ=useFetchCourseLevelQuery(),levels=_useFetchCourseLevelQ.data;var _useFetchCategoriesQu=useFetchCategoriesQuery(),categories=_useFetchCategoriesQu.data;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),uploading=_useState2[0],setUploading=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),videoUploading=_useState4[0],setVideoUploading=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),progress=_useState6[0],setProgress=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),mediaResources=_useState8[0],setMediaResources=_useState8[1];var _useState9=useState(null),_useState10=_slicedToArray(_useState9,2),error=_useState10[0],setError=_useState10[1];var _useState11=useState('Progress'),_useState12=_slicedToArray(_useState11,2),status=_useState12[0],setStatus=_useState12[1];var _useState13=useState(null),_useState14=_slicedToArray(_useState13,2),files=_useState14[0],setFiles=_useState14[1];var alert=useAlert();var _useState15=useState(),_useState16=_slicedToArray(_useState15,2),category=_useState16[0],setCategory=_useState16[1];var _useState17=useState([]),_useState18=_slicedToArray(_useState17,2),suggestions=_useState18[0],setSuggestions=_useState18[1];var _useState19=useState(''),_useState20=_slicedToArray(_useState19,2),suggestionValue=_useState20[0],setSuggestionValue=_useState20[1];var _useState21=useState(course?course.tags:[]),_useState22=_slicedToArray(_useState21,2),tags=_useState22[0],setTags=_useState22[1];usePrompt(true);var onProgress=function onProgress(eve){console.log(eve.totalPercent);setProgress(eve.totalPercent);};var onUpload=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(files,onProgress){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:setError(null);setStatus('Progress');setUploading(true);filestack.upload(files,{onProgress:onProgress}).then(function(results){setCourseUpdate(_objectSpread(_objectSpread({},courseUpdate),{},{cover_image:results.url}));}).catch(function(err){setStatus('Failed');console.log(err);setError(err.status);});case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function onUpload(_x2,_x3){return _ref2.apply(this,arguments);};}();var onVideoUpload=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(files,onProgress){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:setError(null);setStatus('Progress');setVideoUploading(true);filestack.upload(files,{onProgress:onProgress}).then(function(results){setCourseUpdate(_objectSpread(_objectSpread({},courseUpdate),{},{video_url:results.url}));}).catch(function(err){setStatus('Failed');console.log(err);setError(err.status);});case 4:case\"end\":return _context3.stop();}}},_callee3);}));return function onVideoUpload(_x4,_x5){return _ref3.apply(this,arguments);};}();var _useState23=useState(course),_useState24=_slicedToArray(_useState23,2),courseUpdate=_useState24[0],setCourseUpdate=_useState24[1];var renderSuggestion=function renderSuggestion(suggestion){if(suggestion.isAddNew){return/*#__PURE__*/_jsx(\"div\",{className:\"course-labels--propose-label--1zROI\",children:/*#__PURE__*/_jsxs(\"a\",{role:\"button\",tabIndex:0,children:[\"Propose new topic \",suggestionValue]})});}console.log('Suggestions: ',suggestion.name);return/*#__PURE__*/_jsx(\"span\",{className:\"course-labels--course-label--1Vi_C label label-default\",children:suggestion.name});};var theme=_objectSpread(_objectSpread({},defaultTheme),{},{container:'autosuggest-theme--container--aLRPK',itemsContainer:'label-manager--suggestions-container--2TqhD',item:'autosuggest-theme--suggestion--Ut3Fu'});var onSuggestionsFetchRequested=function onSuggestionsFetchRequested(_ref4){var value=_ref4.value;getSuggestions(value).then(function(results){return setSuggestions(results);});};var handleSuggestionChange=function handleSuggestionChange(event,_ref5){var newValue=_ref5.newValue,method=_ref5.method;setSuggestionValue(newValue);};var suggestInputProps={placeholder:'Type suggestion',value:suggestionValue,className:'form-control',onChange:handleSuggestionChange};useEffect(function(){if(selectedSave.locationPath==locationPath){updateCourse(_objectSpread(_objectSpread({},courseUpdate),{},{category:courseUpdate.category,tags:tags})).then(function(res){var _res$data;if(res===null||res===void 0?void 0:(_res$data=res.data)===null||_res$data===void 0?void 0:_res$data.title){dispatch(saveCourse({submit:false,locationPath:null}));alert.show(\"Your changes have been saved successfully\");}else{dispatch(saveCourse({submit:false,locationPath:null}));alert.error(res===null||res===void 0?void 0:res.data);}}).catch(function(err){console.log(err);alert.error(err);});}},[selectedSave]);useEffect(function(){setCourseUpdate(course);setTags(course?course.tags:[]);var cat=course&&course.category;var newCat=categories&&categories.find(function(item){return item.id==cat;});if(newCat){setCategory(newCat);}},[course]);if(isLoading||!courseUpdate){return/*#__PURE__*/_jsxs(\"div\",{className:\"ud-app-loader\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"sub-header--wrapper--3Vunm\",children:/*#__PURE__*/_jsx(\"div\",{className:\"sub-header--main-content--22it3\",children:/*#__PURE__*/_jsx(\"h2\",{\"data-purpose\":\"page-title\",className:\"font-heading-serif-xl sub-header--title--2VD8q\",children:\"Course landing page\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"main-content--wrap_component--2TEkz\",children:/*#__PURE__*/_jsx(\"form\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"div\",{className:classNames(\"cfi-medium\",\"cfi\",\"cfi-circle-loader\",styles.loader)})})})})]});}var validateFileType=function validateFileType(fileItem){var fileType=fileItem.filetype;// image/png image/jpeg\nvar rootType=fileType.split(\"/\")[0];switch(rootType){case\"image\":return'File';default:return'Video';}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"sub-header--wrapper--3Vunm\",children:/*#__PURE__*/_jsx(\"div\",{className:\"sub-header--main-content--22it3\",children:/*#__PURE__*/_jsx(\"h2\",{\"data-purpose\":\"page-title\",className:\"font-heading-serif-xl sub-header--title--2VD8q\",children:\"Course landing page\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"main-content--wrap_component--2TEkz\",children:[\" \",/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"title\",className:\"control-label\",children:\"Course title\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-control-counter-container\",children:[/*#__PURE__*/_jsx(\"input\",{placeholder:\"Insert your course title.\",name:\"title\",\"data-purpose\":\"edit-course-title\",maxLength:60,value:courseUpdate.title,onChange:function onChange(event){return setCourseUpdate(_objectSpread(_objectSpread({},courseUpdate),{},{title:event.target.value}));},id:\"title\",className:\"form-control\"}),/*#__PURE__*/_jsx(\"div\",{className:\"form-control-counter\",\"data-purpose\":\"form-control-counter\",children:courseUpdate.title?courseUpdate.title.length:null})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"headline\",className:\"control-label\",children:\"Course subtitle\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-control-counter-container\",children:[/*#__PURE__*/_jsx(\"input\",{placeholder:\"Insert your course subtitle.\",name:\"headline\",value:courseUpdate===null||courseUpdate===void 0?void 0:courseUpdate.headline,onChange:function onChange(event){return setCourseUpdate(_objectSpread(_objectSpread({},courseUpdate),{},{headline:event.target.value}));},maxLength:120,id:\"headline\",className:\"form-control\"}),/*#__PURE__*/_jsx(\"div\",{className:\"form-control-counter\",\"data-purpose\":\"form-control-counter\",children:(courseUpdate===null||courseUpdate===void 0?void 0:courseUpdate.headline)?courseUpdate===null||courseUpdate===void 0?void 0:courseUpdate.headline.length:null})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"description\",className:\"control-label\",children:\"Course description\"}),/*#__PURE__*/_jsx(RTEditor,{editorValue:courseUpdate?courseUpdate.description:'',handleChange:function handleChange(value){return setCourseUpdate(_objectSpread(_objectSpread({},courseUpdate),{},{description:value}));}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Basic info\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"course-basics-form--inline-fields--3ZuU2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"instructional_level\",className:\"sr-only control-label\",children:\"Course instructional level\"}),/*#__PURE__*/_jsx(\"div\",{className:\"form-control-single-select-container\",children:/*#__PURE__*/_jsxs(\"select\",{title:\"Instructional level\",id:\"instructional_level\",className:\"form-control\",value:courseUpdate.level||-1,onChange:function onChange(event){return setCourseUpdate(_objectSpread(_objectSpread({},courseUpdate),{},{level:event.target.value}));},children:[/*#__PURE__*/_jsx(\"option\",{value:-1,children:\"-- Select Level --\"}),levels&&levels.map(function(level){return/*#__PURE__*/_jsx(\"option\",{value:level.name,children:level.display},level.name);})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"category\",className:\"sr-only control-label\",children:\"Course category\"}),/*#__PURE__*/_jsx(\"div\",{className:\"form-control-single-select-container\",children:/*#__PURE__*/_jsxs(\"select\",{title:\"Category\",id:\"category\",value:courseUpdate.category||-1,onChange:function onChange(event){var newCat=categories&&categories.find(function(cat){return cat.id==Number(event.target.value);});if(newCat)setCourseUpdate(_objectSpread(_objectSpread({},courseUpdate),{},{category:newCat.id}));setCategory(newCat);},className:\"form-control\",children:[/*#__PURE__*/_jsx(\"option\",{value:-1,children:\"-- Select Category --\"}),categories&&categories.map(function(category){return/*#__PURE__*/_jsx(\"option\",{value:category.id,children:category.title},category.id);})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"subcategory\",className:\"sr-only control-label\",children:\"Course subcategory\"}),/*#__PURE__*/_jsx(\"div\",{className:\"form-control-single-select-container\",children:/*#__PURE__*/_jsxs(\"select\",{title:\"Subcategory\",id:\"subcategory\",value:courseUpdate.subcategory||-1,onChange:function onChange(event){return setCourseUpdate(_objectSpread(_objectSpread({},courseUpdate),{},{subcategory:Number(event.target.value)}));},className:\"form-control\",children:[/*#__PURE__*/_jsx(\"option\",{value:-1,children:\"-- Select Subcategory --\"}),category&&category.children&&category.children.map(function(cat){return/*#__PURE__*/_jsx(\"option\",{value:cat.id,children:cat.title},cat.id);})]})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"label-manager--sublabel--kpb1O\",children:[/*#__PURE__*/_jsxs(\"span\",{\"data-purpose\":\"safely-set-inner-html:label-manager:what-is-taught\",children:[\"What is \",/*#__PURE__*/_jsx(\"strong\",{children:\"primarily\"}),\" taught in your course?\"]}),/*#__PURE__*/_jsx(\"span\",{className:\"label-manager--tooltip-icon--15XkO overlay-with-pointer cfi cfi-info-circle\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"m0 row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-sm-6 pl0 pr0\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"course-labels--course-labels--gbBja\",children:tags&&tags.map(function(tag){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"span\",{className:\"course-labels--course-label--1Vi_C label label-default\",children:[/*#__PURE__*/_jsx(\"span\",{children:tag}),/*#__PURE__*/_jsx(\"span\",{className:\"cfi cfi-close course-labels--course-label__icon--cBTbb\",role:\"button\",tabIndex:0})]},tag)});})}),/*#__PURE__*/_jsx(Autosuggest,{suggestions:suggestions,renderSuggestion:renderSuggestion,inputProps:suggestInputProps,theme:theme,onSuggestionSelected:function onSuggestionSelected(event,_ref6){var suggestion=_ref6.suggestion;if(suggestion.isAddNew){setTags([].concat(_toConsumableArray(tags),[suggestionValue]));}else{setTags([].concat(_toConsumableArray(tags),[suggestion.name]));}},onSuggestionsClearRequested:function onSuggestionsClearRequested(){setSuggestions([]);},getSuggestionValue:function getSuggestionValue(suggestion){if(suggestion.isAddNew)return suggestionValue;return suggestion.name;},onSuggestionsFetchRequested:onSuggestionsFetchRequested})]})})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"control-label\",children:\"Course image\"}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"image-upload-preview-with-crop--stack--URrDD\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"image-upload-preview-with-crop--previewWrapper--1eYsy\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"image-upload-preview-with-crop--imageWrapper--fNINE\",children:/*#__PURE__*/_jsx(\"img\",{alt:\"Course image\",src:courseUpdate.cover_image?courseUpdate.cover_image:\"https://s.udemycdn.com/course/750x422/placeholder.jpg\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"image-upload-preview-with-crop--tips--17Lj2\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"image-upload-preview-with-crop--form-element--2Nnsf\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"span\",{children:\"Upload your course image here.Important guidelines: 750x422 pixels; .jpg, .jpeg,. gif, or .png. no text on the image.\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"file-uploader--file-selector--SGCns\",children:uploading?/*#__PURE__*/_jsx(UploadProgress,{progress:progress,changeUpload:function changeUpload(){return setUploading(!uploading);}}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"input\",{accept:\".gif,.jpg,.jpeg,.png\",type:\"file\",onChange:function onChange(event){return onUpload(event.target.files[0],onProgress);},id:\"FileUploaderS3-0--24\",className:\"sr-only\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"FileUploaderS3-0--24\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-control file-uploader--fake-file-input--1_ohV\",children:\"No file selected\"}),/*#__PURE__*/_jsx(\"span\",{className:\"input-group-btn\",children:/*#__PURE__*/_jsx(\"div\",{\"data-type\":\"button\",className:\"btn btn-default\",children:\"Upload File\"})})]})})]})}),/*#__PURE__*/_jsx(\"input\",{type:\"hidden\"})]})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"control-label\",children:\"Promotional video\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"video-upload-with-preview--wrapper--1Gozg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"video-upload-with-preview--previewWrapper--2cwTN\",children:[courseUpdate.video_url?/*#__PURE__*/_jsx(Player,{light:true,className:\"contained\",url:courseUpdate.video_url,width:\"480px\",height:\"270px\"}):/*#__PURE__*/_jsx(\"img\",{className:\"contained\",\"data-purpose\":\"image-preview\",alt:\"placeholder\",width:480,height:270,src:\"https://s.udemycdn.com/course/480x270/placeholder.jpg\"}),videoUploading&&progress<100&&/*#__PURE__*/_jsx(\"div\",{className:\"uploading-backdrop--wrapperLoader--3qlfG\",children:/*#__PURE__*/_jsx(\"span\",{\"aria-label\":\"Loading\",className:\"uploading-backdrop--loader--23uMA cfi-medium cfi cfi-circle-loader\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"video-upload-with-preview--formElement--3gzlF\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"video-upload-with-preview--tips--31TuE\",children:/*#__PURE__*/_jsx(\"div\",{className:\"tip\",children:/*#__PURE__*/_jsxs(\"p\",{\"data-purpose\":\"safely-set-inner-html:course-basics-form:promo-video-content-link\",children:[\"Students who watch a well-made promo video are\",/*#__PURE__*/_jsx(\"b\",{children:\"5X more likely to enroll\"})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"file-uploader--file-selector--SGCns\",\"data-purpose\":true,children:videoUploading?/*#__PURE__*/_jsx(UploadProgress,{progress:progress,changeUpload:function changeUpload(){return setUploading(!videoUploading);}}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"input\",{accept:\".avi,.mpg,.mpeg,.flv,.mov,.m2v,.m4v,.mp4,.rm,.ram,.vob,.ogv,.webm,.wmv\",type:\"file\",onChange:function onChange(event){return onVideoUpload(event.target.files[0],onProgress);},id:\"FileUploaderS3-0--25\",className:\"sr-only\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"FileUploaderS3-0--25\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-control file-uploader--fake-file-input--1_ohV\",children:\"No file selected\"}),/*#__PURE__*/_jsx(\"span\",{className:\"input-group-btn\",children:/*#__PURE__*/_jsx(\"div\",{\"data-type\":\"button\",className:\"btn btn-default\",children:\"Upload File\"})})]})})]})})]})]})]}),/*#__PURE__*/_jsx(\"div\",{})]})]})]});};export default LandingPage;","map":{"version":3,"sources":["/Users/akrah/Documents/dev/readux/src/codefluent/src/portal/scenes/Instructor/Courses/Landing/LandingPage.tsx"],"names":["useFetchCourseQuery","useFetchCourseLevelQuery","useFetchCategoriesQuery","useUpdateCourseMutation","selectLocationPayload","selectLocationType","useAppSelector","useAppDispatch","selectSave","useState","useEffect","client","Player","Autosuggest","defaultTheme","algoliasearch","UploadProgress","RTEditor","classNames","usePrompt","saveCourse","selectCourse","useAlert","styles","filestack","Filestack","process","env","REACT_APP_FILESTACK_APP_KEY","searchClient","REACT_APP_ALGOLIA_APP_ID","REACT_APP_ALGOLIA_SEARCH_KEY","LandingPage","getSuggestions","query","inputValue","trim","toLowerCase","inputLength","length","initIndex","search","results","suggestions","hits","map","hit","courseSuggestions","isAddNew","dispatch","locationPayload","locationPath","selectedSave","course","id","courseQuery","data","isLoading","updateCourse","levels","categories","uploading","setUploading","videoUploading","setVideoUploading","progress","setProgress","mediaResources","setMediaResources","error","setError","status","setStatus","files","setFiles","alert","category","setCategory","setSuggestions","suggestionValue","setSuggestionValue","tags","setTags","onProgress","eve","console","log","totalPercent","onUpload","upload","then","setCourseUpdate","courseUpdate","cover_image","url","catch","err","onVideoUpload","video_url","renderSuggestion","suggestion","name","theme","container","itemsContainer","item","onSuggestionsFetchRequested","value","handleSuggestionChange","event","newValue","method","suggestInputProps","placeholder","className","onChange","res","title","submit","show","cat","newCat","find","loader","validateFileType","fileItem","fileType","filetype","rootType","split","target","headline","description","level","display","Number","subcategory","children","tag"],"mappings":"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","sourcesContent":["import { useFetchCourseQuery, useFetchCourseLevelQuery, useFetchCategoriesQuery, useSearchTagsQuery, useUpdateCourseMutation } from \"services/courses\";\nimport { selectLocationPayload, selectLocationType } from \"state/location/selectors\";\nimport { useAppSelector, useAppDispatch } from \"store/hooks\";\nimport { selectSave } from \"state/course/courseSplice\";\nimport { useState, useEffect } from \"react\";\nimport * as client from 'filestack-js';\nimport Player from 'react-player';\nimport Autosuggest from 'react-autosuggest';\nimport { defaultTheme } from 'react-autosuggest/dist/theme'\nimport algoliasearch from \"algoliasearch/lite\";\nimport { autoSearch } from \"services/courses\";\nimport type { CourseResponse } from 'services/courses'\nimport { courseMessage } from \"portal/state/location/actions\";\nimport { UploadProgress } from \"./UploadProgress\";\nimport { RTEditor } from 'portal/scenes/Instructor/Editor';\nimport classNames from \"classnames\";\nimport { usePrompt } from \"../userPrompt\";\nimport { saveCourse } from \"state/course/courseSplice\";\nimport { selectCourse } from \"state/course/courseSplice\";\nimport { useAlert } from \"react-alert\";\nimport type { CategoryResponse } from \"services/courses\";\nimport styles from './style.module.scss'\n\n\n\nconst filestack = client.Filestack(process.env.REACT_APP_FILESTACK_APP_KEY, {})\n\nconst searchClient = algoliasearch(\n  process.env.REACT_APP_ALGOLIA_APP_ID,\n  process.env.REACT_APP_ALGOLIA_SEARCH_KEY\n);\n\nexport const LandingPage = () => {\n  const getSuggestions = async (query: string) => {\n    const inputValue = query.trim().toLowerCase();\n    const inputLength = inputValue.length;\n    if (inputLength === 0) return []\n    const results = await searchClient.initIndex('tags_index').search(inputValue)\n    const suggestions = results.hits.map(hit => {\n      return hit\n    })\n\n    const courseSuggestions = [...suggestions, { isAddNew: true }]\n    return courseSuggestions\n  }\n\n\n  const dispatch = useAppDispatch()\n  const locationPayload = useAppSelector(selectLocationPayload);\n  const locationPath = useAppSelector(selectLocationType);\n  const selectedSave = useAppSelector(selectSave);\n  const course = useAppSelector(selectCourse)\n  const { data: courseQuery, isLoading } = useFetchCourseQuery(locationPayload.id)\n  const [updateCourse] = useUpdateCourseMutation()\n  const { data: levels } = useFetchCourseLevelQuery()\n  const { data: categories } = useFetchCategoriesQuery()\n  const [uploading, setUploading] = useState(false)\n  const [videoUploading, setVideoUploading] = useState(false)\n  const [progress, setProgress] = useState(0)\n  const [mediaResources, setMediaResources] = useState([])\n  const [error, setError] = useState(null)\n  const [status, setStatus] = useState('Progress')\n  const [files, setFiles] = useState(null);\n  const alert = useAlert()\n  const [category, setCategory] = useState<CategoryResponse>()\n  const [suggestions, setSuggestions] = useState([]);\n  const [suggestionValue, setSuggestionValue] = useState('');\n  const [tags, setTags] = useState<string[]>(course ? course.tags : []);\n  usePrompt(true)\n  const onProgress = eve => {\n    console.log(eve.totalPercent)\n    setProgress(eve.totalPercent)\n\n  }\n  const onUpload = async (files, onProgress) => {\n    setError(null)\n    setStatus('Progress')\n    setUploading(true)\n\n    filestack.upload(files, { onProgress })\n      .then(results => {\n        setCourseUpdate({\n          ...courseUpdate,\n          cover_image: results.url\n        })\n      }).catch(err => {\n        setStatus('Failed')\n        console.log(err)\n        setError(err.status)\n      })\n  }\n\n  const onVideoUpload = async (files, onProgress) => {\n    setError(null)\n    setStatus('Progress')\n    setVideoUploading(true)\n\n    filestack.upload(files, { onProgress })\n      .then(results => {\n        setCourseUpdate({\n          ...courseUpdate,\n          video_url: results.url\n        })\n\n      }).catch(err => {\n        setStatus('Failed')\n        console.log(err)\n        setError(err.status)\n      })\n  }\n\n  const [courseUpdate, setCourseUpdate] = useState<CourseResponse>(course)\n\n  const renderSuggestion = suggestion => {\n\n    if (suggestion.isAddNew) {\n\n      return (\n        <div className=\"course-labels--propose-label--1zROI\">\n          <a role=\"button\" tabIndex={0}>Propose new topic {suggestionValue}\n          </a>\n        </div>\n\n      );\n    }\n    console.log('Suggestions: ', suggestion.name)\n\n    return <span className=\"course-labels--course-label--1Vi_C label label-default\">{suggestion.name}</span>;\n  };\n\n  const theme = {\n    ...defaultTheme,\n    container: 'autosuggest-theme--container--aLRPK',\n    itemsContainer: 'label-manager--suggestions-container--2TqhD',\n    item: 'autosuggest-theme--suggestion--Ut3Fu',\n  }\n  const onSuggestionsFetchRequested = ({ value }) => {\n    getSuggestions(value)\n      .then(results => setSuggestions(results))\n\n  }\n  const handleSuggestionChange = (event, { newValue, method }) => {\n    setSuggestionValue(newValue)\n  }\n\n  const suggestInputProps = {\n    placeholder: 'Type suggestion',\n    value: suggestionValue,\n    className: 'form-control',\n    onChange: handleSuggestionChange\n  }\n\n  useEffect(() => {\n\n    if (selectedSave.locationPath == locationPath) {\n      \n      updateCourse({\n        ...courseUpdate,\n        category: courseUpdate.category,\n        tags\n      }).then((res: { data: CourseResponse }) => {\n        if (res?.data?.title) {\n          dispatch(saveCourse({\n            submit: false,\n            locationPath: null\n          }))\n          alert.show(\"Your changes have been saved successfully\")\n        } else {\n          \n            dispatch(saveCourse({\n              submit: false,\n              locationPath: null\n            }))\n            alert.error(res?.data)\n          \n        }\n\n      }).catch(err => {\n        console.log(err)\n        alert.error(err)\n      })\n    }\n  }, [selectedSave])\n\n  useEffect(() => {\n    setCourseUpdate(course)\n    setTags(course ? course.tags : [])\n    const cat = course && course.category\n    const newCat = categories && categories.find(item => item.id == cat)\n    if (newCat) {\n      setCategory(newCat)\n    }\n\n  }, [course])\n\n  if (isLoading || !courseUpdate) {\n\n    return (\n      <div className=\"ud-app-loader\">\n        <div className=\"sub-header--wrapper--3Vunm\">\n          <div className=\"sub-header--main-content--22it3\">\n            <h2\n              data-purpose=\"page-title\"\n              className=\"font-heading-serif-xl sub-header--title--2VD8q\"\n            >\n              Course landing page\n            </h2>\n          </div>\n        </div>\n        <div className=\"main-content--wrap_component--2TEkz\">\n          <form>\n            <div className=\"form-group\">\n              <div className={classNames(\"cfi-medium\", \"cfi\", \"cfi-circle-loader\",\n                styles.loader)}>\n\n              </div>\n            </div>\n          </form>\n\n        </div>\n\n\n      </div>\n    );\n  }\n\n  const validateFileType = (fileItem) => {\n    var fileType = fileItem.filetype; // image/png image/jpeg\n    var rootType = fileType.split(\"/\")[0];\n    switch (rootType) {\n      case \"image\":\n        return 'File';\n      default:\n        return 'Video';\n    }\n  }\n\n  return (\n    <div>\n      <div className=\"sub-header--wrapper--3Vunm\">\n        <div className=\"sub-header--main-content--22it3\">\n          <h2\n            data-purpose=\"page-title\"\n            className=\"font-heading-serif-xl sub-header--title--2VD8q\"\n          >\n            Course landing page\n          </h2>\n        </div>\n      </div>\n      <div className=\"main-content--wrap_component--2TEkz\">\n        {\" \"}\n        <form >\n          <div className=\"form-group\">\n            <label htmlFor=\"title\" className=\"control-label\">\n              Course title\n            </label>\n            <div className=\"form-control-counter-container\">\n              <input\n                placeholder=\"Insert your course title.\"\n                name=\"title\"\n                data-purpose=\"edit-course-title\"\n                maxLength={60}\n                value={courseUpdate.title}\n                onChange={(event) => setCourseUpdate({\n                  ...courseUpdate,\n                  title: event.target.value\n                })}\n                id=\"title\"\n                className=\"form-control\"\n              />\n              <div\n                className=\"form-control-counter\"\n                data-purpose=\"form-control-counter\"\n              >\n                {courseUpdate.title ? courseUpdate.title.length : null}\n              </div>\n            </div>\n          </div>\n          <div className=\"form-group\">\n            <label htmlFor=\"headline\" className=\"control-label\">\n              Course subtitle\n            </label>\n            <div className=\"form-control-counter-container\">\n              <input\n                placeholder=\"Insert your course subtitle.\"\n                name=\"headline\"\n                value={courseUpdate?.headline}\n                onChange={event => setCourseUpdate({\n                  ...courseUpdate,\n                  headline: event.target.value\n                })}\n                maxLength={120}\n                id=\"headline\"\n                className=\"form-control\"\n              />\n              <div\n                className=\"form-control-counter\"\n                data-purpose=\"form-control-counter\"\n              >\n                {courseUpdate?.headline ? courseUpdate?.headline.length : null}\n              </div>\n            </div>\n          </div>\n\n          <div className=\"form-group\">\n            <label htmlFor=\"description\" className=\"control-label\">\n              Course description\n            </label>\n            <RTEditor editorValue={courseUpdate ? courseUpdate.description : ''} handleChange={(value) =>\n              setCourseUpdate(\n                {\n                  ...courseUpdate,\n                  description: value\n                }\n              )} />\n          </div>\n          <div>\n            <p>Basic info</p>\n            <div className=\"course-basics-form--inline-fields--3ZuU2\">\n              <div className=\"form-group\">\n                <label\n                  htmlFor=\"instructional_level\"\n                  className=\"sr-only control-label\"\n                >\n                  Course instructional level\n                </label>\n                <div className=\"form-control-single-select-container\">\n                  <select\n                    title=\"Instructional level\"\n                    id=\"instructional_level\"\n                    className=\"form-control\"\n                    value={courseUpdate.level || -1}\n                    onChange={event => setCourseUpdate({\n                      ...courseUpdate,\n                      level: event.target.value\n                    })}\n                  >\n                    <option value={-1}>-- Select Level --</option>\n                    {levels && levels.map(level => <option key={level.name} value={level.name}>{level.display}</option>)}\n\n                  </select>\n                </div>\n              </div>\n              <div className=\"form-group\">\n                <label htmlFor=\"category\" className=\"sr-only control-label\">\n                  Course category\n                </label>\n                <div className=\"form-control-single-select-container\">\n                  <select\n                    title=\"Category\"\n                    id=\"category\"\n                    value={courseUpdate.category || -1}\n                    onChange={(event) => {\n                      const newCat = categories && categories.find(cat => cat.id == Number(event.target.value))\n                      if (newCat) setCourseUpdate({\n                        ...courseUpdate,\n                        category: newCat.id\n                      })\n                      setCategory(newCat)\n                    }}\n                    className=\"form-control\"\n                  >\n                    <option value={-1}>-- Select Category --</option>\n                    {categories && categories.map(category => <option key={category.id} value={category.id}>{category.title}</option>)}\n\n                  </select>\n                </div>\n              </div>\n              <div className=\"form-group\">\n                <label htmlFor=\"subcategory\" className=\"sr-only control-label\">\n                  Course subcategory\n                </label>\n                <div className=\"form-control-single-select-container\">\n                  <select\n                    title=\"Subcategory\"\n                    id=\"subcategory\"\n                    value={courseUpdate.subcategory || -1}\n                    onChange={event => setCourseUpdate({\n                      ...courseUpdate,\n                      subcategory: Number(event.target.value)\n                    })}\n                    className=\"form-control\"\n                  >\n                    <option value={-1}>-- Select Subcategory --</option>\n                    {category && category.children && category.children.map(cat => <option key={cat.id} value={cat.id}>{cat.title}</option>)}\n                  </select>\n                </div>\n              </div>\n            </div>\n            <div className=\"form-group\">\n              <div>\n                <div>\n                  <div className=\"label-manager--sublabel--kpb1O\">\n                    <span data-purpose=\"safely-set-inner-html:label-manager:what-is-taught\">\n                      What is <strong>primarily</strong> taught in your course?\n                    </span>\n                    <span className=\"label-manager--tooltip-icon--15XkO overlay-with-pointer cfi cfi-info-circle\" />\n                  </div>\n                </div>\n                <div className=\"m0 row\">\n                  <div className=\"col-sm-6 pl0 pr0\">\n                    <span className=\"course-labels--course-labels--gbBja\">\n                      {tags && tags.map(tag => (\n                        <>\n                          <span\n                            key={tag}\n                            className=\"course-labels--course-label--1Vi_C label label-default\"\n                          >\n                            <span>{tag}</span>\n                            <span\n                              className=\"cfi cfi-close course-labels--course-label__icon--cBTbb\"\n\n                              role=\"button\"\n                              tabIndex={0}\n                            />\n                          </span>\n                        </>\n                      ))}\n\n                    </span>\n                    <Autosuggest\n                      suggestions={suggestions}\n                      renderSuggestion={renderSuggestion}\n                      inputProps={suggestInputProps}\n                      theme={theme}\n                      onSuggestionSelected={(event, { suggestion }) => {\n                        if (suggestion.isAddNew) {\n                          setTags([\n                            ...tags,\n                            suggestionValue\n                          ])\n                        } else {\n                          setTags([\n                            ...tags,\n                            suggestion.name\n                          ])\n                        }\n                      }}\n                      onSuggestionsClearRequested={() => {\n                        setSuggestions([])\n                      }}\n                      getSuggestionValue={(suggestion) => {\n                        if (suggestion.isAddNew) return suggestionValue\n                        return suggestion.name\n                      }}\n                      onSuggestionsFetchRequested={onSuggestionsFetchRequested} />\n                  </div>\n\n                </div>\n\n\n              </div>\n            </div>\n          </div>\n          <div className=\"form-group\">\n            <label className=\"control-label\">Course image</label>\n            <div>\n              <div className=\"image-upload-preview-with-crop--stack--URrDD\">\n                <div className=\"image-upload-preview-with-crop--previewWrapper--1eYsy\">\n                  <div className=\"image-upload-preview-with-crop--imageWrapper--fNINE\">\n                    <img\n\n                      alt=\"Course image\"\n\n                      src={courseUpdate.cover_image ? courseUpdate.cover_image : \"https://s.udemycdn.com/course/750x422/placeholder.jpg\"}\n                    />\n                  </div>\n                  <div className=\"image-upload-preview-with-crop--tips--17Lj2\" />\n                </div>\n                <div className=\"image-upload-preview-with-crop--form-element--2Nnsf\">\n                  <div>\n                    <p>\n                      <span>\n                        Upload your course image here.Important guidelines: 750x422 pixels;\n                        .jpg, .jpeg,. gif, or .png. no text on the image.\n                      </span>\n                    </p>\n                  </div>\n                  <div\n                    className=\"file-uploader--file-selector--SGCns\"\n\n                  >\n                    {uploading ? <UploadProgress progress={progress} changeUpload={() => setUploading(!uploading)} /> : (\n                      <><input\n                        accept=\".gif,.jpg,.jpeg,.png\"\n                        type=\"file\"\n                        onChange={event => onUpload(event.target.files[0], onProgress)}\n                        id=\"FileUploaderS3-0--24\"\n                        className=\"sr-only\"\n                      />\n                        <label htmlFor=\"FileUploaderS3-0--24\">\n                          <span className=\"input-group\">\n                            <div className=\"form-control file-uploader--fake-file-input--1_ohV\">\n                              No file selected\n                            </div>\n                            <span className=\"input-group-btn\">\n                              <div data-type=\"button\" className=\"btn btn-default\">\n                                Upload File\n                              </div>\n                            </span>\n                          </span>\n                        </label>\n                      </>)}\n                  </div>\n                  <input type=\"hidden\" />\n                </div>\n              </div>\n            </div>\n          </div>\n          <div className=\"form-group\">\n            <label className=\"control-label\">Promotional video</label>\n            <div className=\"video-upload-with-preview--wrapper--1Gozg\">\n              <div className=\"video-upload-with-preview--previewWrapper--2cwTN\">\n                {courseUpdate.video_url ? <Player light className=\"contained\" url={courseUpdate.video_url} width={`480px`} height={`270px`} /> : (<img\n                  className=\"contained\"\n                  data-purpose=\"image-preview\"\n                  alt=\"placeholder\"\n                  width={480}\n                  height={270}\n                  src=\"https://s.udemycdn.com/course/480x270/placeholder.jpg\"\n                />)}\n                {(videoUploading && progress < 100) && <div className=\"uploading-backdrop--wrapperLoader--3qlfG\">\n                  <span\n                    aria-label=\"Loading\"\n                    className=\"uploading-backdrop--loader--23uMA cfi-medium cfi cfi-circle-loader\"\n                  />\n                </div>}\n              </div>\n              <div className=\"video-upload-with-preview--formElement--3gzlF\">\n                <div className=\"video-upload-with-preview--tips--31TuE\">\n                  <div className=\"tip\">\n                    <p data-purpose=\"safely-set-inner-html:course-basics-form:promo-video-content-link\">\n                      Students who watch a well-made promo video are\n                      <b>5X more likely to enroll</b> \n                      \n                    </p>\n                  </div>\n                </div>\n                <div\n                  className=\"file-uploader--file-selector--SGCns\"\n                  data-purpose\n                >\n                  {videoUploading ? <UploadProgress progress={progress} changeUpload={() => setUploading(!videoUploading)} /> : (<><input\n                    accept=\".avi,.mpg,.mpeg,.flv,.mov,.m2v,.m4v,.mp4,.rm,.ram,.vob,.ogv,.webm,.wmv\"\n                    type=\"file\"\n                    onChange={event => onVideoUpload(event.target.files[0], onProgress)}\n                    id=\"FileUploaderS3-0--25\"\n                    className=\"sr-only\"\n                  />\n                    <label htmlFor=\"FileUploaderS3-0--25\">\n                      <span className=\"input-group\">\n                        <div className=\"form-control file-uploader--fake-file-input--1_ohV\">\n                          No file selected\n                        </div>\n                        <span className=\"input-group-btn\">\n                          <div data-type=\"button\"\n\n                            className=\"btn btn-default\">\n                            Upload File\n                          </div>\n                        </span>\n                      </span>\n                    </label>\n                  </>)}\n                </div>\n              </div>\n            </div>\n          </div>\n          <div>\n\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default LandingPage;\n"]},"metadata":{},"sourceType":"module"}