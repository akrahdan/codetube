{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport FocusManager from '@pluralsight/ps-design-system-focusmanager';\nimport Theme from '@pluralsight/ps-design-system-theme';\nimport { createUniversalPortal, isFunction, stylesFor, usePortal } from '@pluralsight/ps-design-system-util';\nimport glamorDefault, * as glamorExports from 'glamor';\nimport React from 'react';\nimport stylesheet from '../css/index';\nimport * as vars from '../vars/index';\nvar glamor = glamorDefault || glamorExports;\n/* eslint-disable-next-line camelcase */\n\nvar MODAL_OVERLAY_ID = 'psds-dialog__overlay';\nvar fade = glamor.keyframes(stylesheet['@keyframes psds-dialog__keyframes__fade']);\nvar styles = {\n  dialog: function (modal, tailPosition) {\n    return glamor.compose(glamor.css(stylesheet['.psds-dialog']({\n      fade: fade\n    })), modal && glamor.css(stylesheet['.psds-dialog--modal']), Boolean(tailPosition) && glamor.compose(stylesheet['.psds-dialog--w-tail'], stylesheet[\".psds-dialog--tailPosition-\" + tailPosition]));\n  },\n  content: function (props) {\n    return glamor.css(stylesheet['.psds-dialog__content'], stylesFor('dialog__content', props));\n  },\n  close: function () {\n    return glamor.css(stylesheet['.psds-dialog__close']);\n  },\n  overlay: function () {\n    return glamor.css(stylesheet['.psds-dialog__overlay']);\n  }\n};\n\nvar CloseButton = function (props) {\n  return React.createElement(\"button\", __assign({}, styles.close(), props, {\n    \"aria-label\": \"Close dialog\"\n  }), React.createElement(\"svg\", {\n    \"aria-label\": \"close icon\",\n    role: \"img\",\n    viewBox: \"0 0 24 24\",\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, React.createElement(\"path\", {\n    d: \"M18 7.41L16.59 6 12 10.59 7.41 6 6 7.41 10.59 12 6 16.59 7.41 18 12 13.41 16.59 18 18 16.59 13.41 12\"\n  })));\n};\n\nvar Overlay = function (_a) {\n  var disableCloseOnOverlayClick = _a.disableCloseOnOverlayClick,\n      onClose = _a.onClose,\n      props = __rest(_a, [\"disableCloseOnOverlayClick\", \"onClose\"]);\n\n  function handleOverlayClick(evt) {\n    if (disableCloseOnOverlayClick) return;\n    if (evt.target.id === MODAL_OVERLAY_ID) onClose && onClose(evt);\n  }\n\n  return React.createElement(\"div\", __assign({}, styles.overlay(), props, {\n    id: MODAL_OVERLAY_ID,\n    onClick: handleOverlayClick,\n    role: \"region\"\n  }));\n};\n\nvar Dialog = React.forwardRef(function (props, ref) {\n  var children = props.children,\n      _a = props.disableCloseButton,\n      disableCloseButton = _a === void 0 ? false : _a,\n      _b = props.disableCloseOnEscape,\n      disableCloseOnEscape = _b === void 0 ? false : _b,\n      _c = props.disableCloseOnOverlayClick,\n      disableCloseOnOverlayClick = _c === void 0 ? false : _c,\n      _d = props.disableFocusOnMount,\n      disableFocusOnMount = _d === void 0 ? false : _d,\n      onClose = props.onClose,\n      _e = props.modal,\n      modal = _e === void 0 ? false : _e,\n      _f = props.returnFocus,\n      returnFocus = _f === void 0 ? true : _f,\n      tailPosition = props.tailPosition,\n\n  /* eslint-disable-next-line camelcase */\n  UNSAFE_stylesFor = props.UNSAFE_stylesFor,\n      rest = __rest(props, [\"children\", \"disableCloseButton\", \"disableCloseOnEscape\", \"disableCloseOnOverlayClick\", \"disableFocusOnMount\", \"onClose\", \"modal\", \"returnFocus\", \"tailPosition\", \"UNSAFE_stylesFor\"]);\n\n  var autofocus = !disableFocusOnMount;\n  var trapped = !!modal || !!onClose;\n  var closeOnEscape = isFunction(onClose) && !disableCloseOnEscape;\n  var portal = usePortal(); // TODO: combine fns\n\n  function handleKeyUp(evt) {\n    if (!isEscape(evt)) return;\n    onClose && onClose(evt);\n  }\n\n  var content = React.createElement(FocusManager, __assign({}, styles.dialog(modal, tailPosition), rest, closeOnEscape && {\n    onKeyUp: handleKeyUp\n  }, modal && {\n    'aria-label': undefined\n  }, {\n    autofocus: autofocus,\n    trapped: trapped,\n    returnFocus: returnFocus,\n    ref: ref\n  }), React.createElement(Theme, {\n    name: Theme.names.light\n  }, React.createElement(\"div\", __assign({}, styles.content(props)), !disableCloseButton && isFunction(onClose) && // eslint-disable-next-line react/jsx-handler-names\n  React.createElement(CloseButton, {\n    onClick: onClose\n  }), children)));\n  return React.createElement(React.Fragment, null, modal ? createUniversalPortal(React.createElement(Overlay, {\n    \"aria-label\": rest['aria-label'],\n    disableCloseOnOverlayClick: disableCloseOnOverlayClick,\n    onClose: onClose\n  }, content), portal.current) : content);\n});\nDialog.displayName = 'Dialog';\nDialog.tailPositions = vars.tailPositions;\nexport var tailPositions = Dialog.tailPositions;\nexport default Dialog;\n\nfunction isEscape(evt) {\n  return evt.key === 'Escape';\n}","map":{"version":3,"sources":["../../../src/react/index.tsx"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport FocusManager from '@pluralsight/ps-design-system-focusmanager';\nimport Theme from '@pluralsight/ps-design-system-theme';\nimport { createUniversalPortal, isFunction, stylesFor, usePortal } from '@pluralsight/ps-design-system-util';\nimport glamorDefault, * as glamorExports from 'glamor';\nimport React from 'react';\nimport stylesheet from '../css/index';\nimport * as vars from '../vars/index';\nvar glamor = glamorDefault || glamorExports;\n/* eslint-disable-next-line camelcase */\nvar MODAL_OVERLAY_ID = 'psds-dialog__overlay';\nvar fade = glamor.keyframes(stylesheet['@keyframes psds-dialog__keyframes__fade']);\nvar styles = {\n    dialog: function (modal, tailPosition) {\n        return glamor.compose(glamor.css(stylesheet['.psds-dialog']({ fade: fade })), modal && glamor.css(stylesheet['.psds-dialog--modal']), Boolean(tailPosition) &&\n            glamor.compose(stylesheet['.psds-dialog--w-tail'], stylesheet[\".psds-dialog--tailPosition-\" + tailPosition]));\n    },\n    content: function (props) {\n        return glamor.css(stylesheet['.psds-dialog__content'], stylesFor('dialog__content', props));\n    },\n    close: function () { return glamor.css(stylesheet['.psds-dialog__close']); },\n    overlay: function () { return glamor.css(stylesheet['.psds-dialog__overlay']); }\n};\nvar CloseButton = function (props) { return (React.createElement(\"button\", __assign({}, styles.close(), props, { \"aria-label\": \"Close dialog\" }),\n    React.createElement(\"svg\", { \"aria-label\": \"close icon\", role: \"img\", viewBox: \"0 0 24 24\", xmlns: \"http://www.w3.org/2000/svg\" },\n        React.createElement(\"path\", { d: \"M18 7.41L16.59 6 12 10.59 7.41 6 6 7.41 10.59 12 6 16.59 7.41 18 12 13.41 16.59 18 18 16.59 13.41 12\" })))); };\nvar Overlay = function (_a) {\n    var disableCloseOnOverlayClick = _a.disableCloseOnOverlayClick, onClose = _a.onClose, props = __rest(_a, [\"disableCloseOnOverlayClick\", \"onClose\"]);\n    function handleOverlayClick(evt) {\n        if (disableCloseOnOverlayClick)\n            return;\n        if (evt.target.id === MODAL_OVERLAY_ID)\n            onClose && onClose(evt);\n    }\n    return (React.createElement(\"div\", __assign({}, styles.overlay(), props, { id: MODAL_OVERLAY_ID, onClick: handleOverlayClick, role: \"region\" })));\n};\nvar Dialog = React.forwardRef(function (props, ref) {\n    var children = props.children, _a = props.disableCloseButton, disableCloseButton = _a === void 0 ? false : _a, _b = props.disableCloseOnEscape, disableCloseOnEscape = _b === void 0 ? false : _b, _c = props.disableCloseOnOverlayClick, disableCloseOnOverlayClick = _c === void 0 ? false : _c, _d = props.disableFocusOnMount, disableFocusOnMount = _d === void 0 ? false : _d, onClose = props.onClose, _e = props.modal, modal = _e === void 0 ? false : _e, _f = props.returnFocus, returnFocus = _f === void 0 ? true : _f, tailPosition = props.tailPosition, \n    /* eslint-disable-next-line camelcase */\n    UNSAFE_stylesFor = props.UNSAFE_stylesFor, rest = __rest(props, [\"children\", \"disableCloseButton\", \"disableCloseOnEscape\", \"disableCloseOnOverlayClick\", \"disableFocusOnMount\", \"onClose\", \"modal\", \"returnFocus\", \"tailPosition\", \"UNSAFE_stylesFor\"]);\n    var autofocus = !disableFocusOnMount;\n    var trapped = !!modal || !!onClose;\n    var closeOnEscape = isFunction(onClose) && !disableCloseOnEscape;\n    var portal = usePortal();\n    // TODO: combine fns\n    function handleKeyUp(evt) {\n        if (!isEscape(evt))\n            return;\n        onClose && onClose(evt);\n    }\n    var content = (React.createElement(FocusManager, __assign({}, styles.dialog(modal, tailPosition), rest, (closeOnEscape && { onKeyUp: handleKeyUp }), (modal && { 'aria-label': undefined }), { autofocus: autofocus, trapped: trapped, returnFocus: returnFocus, ref: ref }),\n        React.createElement(Theme, { name: Theme.names.light },\n            React.createElement(\"div\", __assign({}, styles.content(props)),\n                !disableCloseButton && isFunction(onClose) && (\n                // eslint-disable-next-line react/jsx-handler-names\n                React.createElement(CloseButton, { onClick: onClose })),\n                children))));\n    return (React.createElement(React.Fragment, null, modal\n        ? createUniversalPortal(React.createElement(Overlay, { \"aria-label\": rest['aria-label'], disableCloseOnOverlayClick: disableCloseOnOverlayClick, onClose: onClose }, content), portal.current)\n        : content));\n});\nDialog.displayName = 'Dialog';\nDialog.tailPositions = vars.tailPositions;\nexport var tailPositions = Dialog.tailPositions;\nexport default Dialog;\nfunction isEscape(evt) {\n    return evt.key === 'Escape';\n}\n//# sourceMappingURL=index.js.map"]},"metadata":{},"sourceType":"module"}