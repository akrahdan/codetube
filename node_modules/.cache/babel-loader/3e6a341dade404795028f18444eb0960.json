{"ast":null,"code":"var _jsxFileName = \"/Users/akrah/Documents/dev/readux/src/codefluent/src/portal/scenes/Instructor/Projects/createProject.tsx\",\n    _s = $RefreshSig$();\n\nimport './course.scss';\nimport { getRouteComponent } from './getRouteComponent';\nimport { CATEGORY, CHOICE, DESCRIPTION, TITLE } from './routes';\nimport ProjectCategory from './Category';\nimport ProjectTitle from './Title';\nimport ProjectDescription from './Description';\nimport logo from \"static/images/brand/logo/codefluent.svg\";\nimport { useState } from 'react';\nimport { useHistory } from 'react-router';\nimport classNames from 'classnames';\nimport { useCreateCourseMutation } from 'services/courses';\nimport { useCreateProjectMutation } from 'services/projects';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const routesMeta = {\n  [`${CATEGORY}`]: {\n    scene: ProjectCategory,\n    pageName: undefined\n  },\n  [`${TITLE}`]: {\n    scene: ProjectTitle,\n    pageName: undefined\n  },\n  [`${DESCRIPTION}`]: {\n    scene: ProjectDescription,\n    pageName: undefined\n  }\n};\nconst initialState = {\n  title: '',\n  description: '',\n  category: ''\n};\nexport const CreateProject = props => {\n  _s();\n\n  const [locationType, setLocationType] = useState('title');\n  const [createCourse] = useCreateCourseMutation();\n  const [createProject] = useCreateProjectMutation();\n  const [value, setValue] = useState('');\n  const [width, setWidth] = useState(25);\n  const [step, setStep] = useState(1);\n  const [courseId, setCourseId] = useState(null);\n  const [projectId, setProjectId] = useState(null);\n  const [course, setCourse] = useState();\n  const [project, setProject] = useState();\n  const {\n    push\n  } = useHistory();\n  const headings = [TITLE, CATEGORY, DESCRIPTION];\n\n  const handleCreateCourse = async courseRequest => {\n    try {\n      const result = await createCourse(courseRequest).unwrap();\n\n      if (result) {\n        setCourseId(result.id);\n        push(`/instructor/project/${result.id}/manage/goals`);\n      }\n\n      console.log('Course: ', result);\n    } catch (error) {\n      console.log(\"Error:\", error);\n    }\n  };\n\n  const handleCreateProject = async projectRequest => {\n    try {\n      const result = await createProject(projectRequest).unwrap();\n\n      if (result) {\n        setProjectId(result.id);\n        push(`/instructor/project/${result.id}/manage/goals`);\n      }\n\n      console.log('Course: ', result);\n    } catch (error) {\n      console.log(\"Error:\", error);\n    }\n  };\n\n  const {\n    scene: Scene\n  } = getRouteComponent(routesMeta, locationType);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"full-page-takeover--window--1ei3d\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"full-page-takeover--page--2QirY\",\n      \"data-purpose\": \"page\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"full-page-takeover--header--2mfbT\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"full-page-takeover--logo-block--1Op9u\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              className: \"udemy-logo full-page-takeover--rebrand-logo--36Lru\",\n              alt: \"codefluent\",\n              width: 91,\n              height: 34,\n              src: logo\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"full-page-takeover--header-divider--3XSTc\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"full-page-takeover--header-text-block--1PdFS\",\n            \"data-purpose\": \"header-text\",\n            children: [\"Step \", step, \" of 4\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"full-page-takeover--header-buttons--1lu2t\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                push('/');\n              },\n              type: \"button\",\n              className: \"btn btn-tertiary\",\n              children: \"Exit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 121,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          \"data-purpose\": \"header-bottom\",\n          className: \"full-page-takeover--header-bottom--progress--2Hfvp\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"full-page-takeover--header-bottom--progress-highlight--1Pr6t\",\n            style: {\n              width: `${width}%`\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Scene, {\n        course: course,\n        handleChange: v => setValue(v),\n        updateCourse: setCourse\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        \"data-purpose\": \"footer\",\n        className: \"full-page-takeover--footer--2wFgA\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-xxs-6 full-page-takeover--button-container--1rnpO\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"udlite-in-udheavy\",\n                children: locationType != CHOICE && /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => {\n                    const heading = headings[step - 1];\n                    const wd = (step - 1) * 100 / headings.length;\n                    setWidth(wd);\n                    setStep(step - 1);\n                    setLocationType(heading);\n                  },\n                  type: \"button\",\n                  \"data-purpose\": \"left-button\",\n                  className: \"udlite-btn udlite-btn-large udlite-btn-ghost udlite-heading-md udlite-link-neutral full-page-takeover--left-button--3-75z\",\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"Previous\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 163,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 150,\n                  columnNumber: 48\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 149,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-xxs-6 full-page-takeover--button-container--1rnpO\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"udlite-in-udheavy\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  onClick: () => {\n                    if (step >= headings.length) {\n                      handleCreateProject(project);\n                    } else {\n                      const heading = headings[step];\n                      const wd = (step + 1) * 100 / headings.length;\n                      setWidth(wd);\n                      setStep(step + 1);\n                      setLocationType(heading);\n                      setValue('');\n                    }\n                  },\n                  className: classNames(\"udlite-btn udlite-btn-large udlite-btn-primary udlite-heading-md full-page-takeover--right-button--i1q_g\", {\n                    'udlite-btn-disabled': project && !project[locationType] && !value\n                  }),\n                  disabled: course && !course[locationType] && !value,\n                  tabIndex: -1,\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: locationType == DESCRIPTION ? 'Create Course' : ' Continue'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 190,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 169,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 168,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 167,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 98,\n    columnNumber: 5\n  }, this);\n};\n\n_s(CreateProject, \"ualkpLfuPv7M8JhrlkFtyiG7R38=\", false, function () {\n  return [useCreateCourseMutation, useCreateProjectMutation, useHistory];\n});\n\n_c = CreateProject;\nexport default CreateProject;\n\nvar _c;\n\n$RefreshReg$(_c, \"CreateProject\");","map":{"version":3,"sources":["/Users/akrah/Documents/dev/readux/src/codefluent/src/portal/scenes/Instructor/Projects/createProject.tsx"],"names":["getRouteComponent","CATEGORY","CHOICE","DESCRIPTION","TITLE","ProjectCategory","ProjectTitle","ProjectDescription","useState","useHistory","classNames","useCreateCourseMutation","useCreateProjectMutation","routesMeta","scene","pageName","undefined","initialState","title","description","category","CreateProject","props","locationType","setLocationType","createCourse","createProject","value","setValue","width","setWidth","step","setStep","courseId","setCourseId","projectId","setProjectId","course","setCourse","project","setProject","push","headings","handleCreateCourse","courseRequest","result","unwrap","id","console","log","error","handleCreateProject","projectRequest","Scene","logo","v","heading","wd","length"],"mappings":"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","sourcesContent":["import './course.scss';\nimport { RouteMeta } from 'libs/location/routing';\nimport { getRouteComponent } from './getRouteComponent';\nimport { CATEGORY, CHOICE, DESCRIPTION, TITLE } from './routes';\n\nimport ProjectCategory from './Category';\nimport ProjectTitle from './Title';\nimport ProjectDescription from './Description';\n\nimport logo from 'static/images/brand/logo/codefluent.svg';\nimport { useEffect, useState } from 'react';\n\n\nimport { useHistory } from 'react-router';\n\nimport classNames from 'classnames';\nimport { CourseRequest } from 'services/courses'\nimport { ProjectEntityResponse } from 'services/projects';\nimport { useCreateCourseMutation } from 'services/courses';\nimport {useCreateProjectMutation  } from 'services/projects'\nexport const routesMeta: Record<string, RouteMeta> = {\n\n  [`${CATEGORY}`]: {\n    scene: ProjectCategory,\n    pageName: undefined,\n  },\n\n  [`${TITLE}`]: {\n    scene: ProjectTitle,\n    pageName: undefined,\n  },\n\n  [`${DESCRIPTION}`]: {\n    scene: ProjectDescription,\n    pageName: undefined,\n  },\n\n\n\n\n\n}\nconst initialState = {\n  title: '',\n  description: '',\n  category: ''\n}\nexport const CreateProject = (props) => {\n  const [locationType, setLocationType] = useState('title')\n  \n  const [createCourse] = useCreateCourseMutation()\n  const [ createProject ] = useCreateProjectMutation()\n  const [value, setValue] = useState('');\n  const [width, setWidth] = useState(25)\n  const [step, setStep] = useState(1)\n  const [courseId, setCourseId] = useState(null);\n  const [projectId, setProjectId]= useState(null);\n  const [course, setCourse] = useState<Partial<CourseRequest>>()\n  const [ project, setProject ] = useState<Partial<ProjectEntityResponse>>()\n\n  const { push } = useHistory()\n  const headings = [ TITLE, CATEGORY, DESCRIPTION,]\n  const handleCreateCourse = async (courseRequest: Partial<CourseRequest>) => {\n    try {\n     \n      const result = await createCourse(courseRequest).unwrap()\n      if (result) {\n        setCourseId(result.id)\n        push(`/instructor/project/${result.id}/manage/goals`)\n      }\n      console.log('Course: ', result)\n    }\n    catch (error) {\n      console.log(\"Error:\", error)\n    }\n\n  }\n\n  const handleCreateProject = async (projectRequest: Partial<ProjectEntityResponse>) => {\n    try {\n     \n      const result = await createProject(projectRequest).unwrap()\n      if (result) {\n        setProjectId(result.id)\n        push(`/instructor/project/${result.id}/manage/goals`)\n      }\n      console.log('Course: ', result)\n    }\n    catch (error) {\n      console.log(\"Error:\", error)\n    }\n\n  } \n\n  const { scene: Scene } = getRouteComponent(routesMeta, locationType)\n \n  return (\n    <div className=\"full-page-takeover--window--1ei3d\">\n      <div className=\"full-page-takeover--page--2QirY\" data-purpose=\"page\">\n        <div>\n          \n          <div className=\"full-page-takeover--header--2mfbT\">\n            <div className=\"full-page-takeover--logo-block--1Op9u\">\n              <img\n                className=\"udemy-logo full-page-takeover--rebrand-logo--36Lru\"\n                alt=\"codefluent\"\n                width={91}\n                height={34}\n\n                src={logo}\n              />\n            </div>\n            <div className=\"full-page-takeover--header-divider--3XSTc\" />\n            <div\n              className=\"full-page-takeover--header-text-block--1PdFS\"\n              data-purpose=\"header-text\"\n            >\n              Step {step} of 4\n            </div>\n            <div className=\"full-page-takeover--header-buttons--1lu2t\">\n              <button\n                onClick={() => {\n                  push('/')\n                }}\n                type=\"button\"\n                className=\"btn btn-tertiary\"\n              >\n                Exit\n              </button>\n            </div>\n          </div>\n          <div\n            data-purpose=\"header-bottom\"\n            className=\"full-page-takeover--header-bottom--progress--2Hfvp\"\n          >\n            <div\n              className=\"full-page-takeover--header-bottom--progress-highlight--1Pr6t\"\n              style={{ width: `${width}%` }}\n            />\n          </div>\n        </div>\n        <Scene course={course} handleChange={(v) => setValue(v)\n        }\n          updateCourse={setCourse} />\n        <div data-purpose=\"footer\" className=\"full-page-takeover--footer--2wFgA\">\n          <div className=\"container\">\n            <div className=\"row\">\n              <div className=\"col-xxs-6 full-page-takeover--button-container--1rnpO\">\n                <div className=\"udlite-in-udheavy\">\n                  {(locationType != CHOICE) && <button\n                    onClick={() => {\n                      const heading = headings[step - 1]\n                      const wd = ((step - 1) * 100 / (headings.length))\n                      setWidth(wd);\n                      setStep(step - 1)\n                      setLocationType(heading)\n\n                    }}\n                    type=\"button\"\n                    data-purpose=\"left-button\"\n                    className=\"udlite-btn udlite-btn-large udlite-btn-ghost udlite-heading-md udlite-link-neutral full-page-takeover--left-button--3-75z\"\n                  >\n                    <span>Previous</span>\n                  </button>}\n                </div>\n              </div>\n              <div className=\"col-xxs-6 full-page-takeover--button-container--1rnpO\">\n                <div className=\"udlite-in-udheavy\">\n                  <button\n                    type=\"button\"\n                    onClick={() => {\n                      if (step >= headings.length) {\n                        handleCreateProject(project)\n                      } else {\n                        const heading = headings[step]\n                        const wd = ((step + 1) * 100 / (headings.length))\n                        setWidth(wd);\n                        setStep(step + 1)\n                        setLocationType(heading)\n                        setValue('')\n                      }\n                    }}\n\n                    className={classNames(\"udlite-btn udlite-btn-large udlite-btn-primary udlite-heading-md full-page-takeover--right-button--i1q_g\", {\n                      'udlite-btn-disabled': project && !project[locationType] && !value\n                    })}\n                    disabled={ course && !course[locationType] && !value}\n                    tabIndex={-1}\n                  >\n                    <span>{locationType == DESCRIPTION ? 'Create Course' : ' Continue'}</span>\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default CreateProject;\n"]},"metadata":{},"sourceType":"module"}