{"ast":null,"code":"var _jsxFileName = \"/Users/akrah/Documents/dev/readux/src/codefluent/src/portal/scenes/Payments/paypal.tsx\",\n    _s = $RefreshSig$();\n\nimport classNames from \"classnames\";\nimport { PayPalButtons, FUNDING } from \"@paypal/react-paypal-js\";\nimport { useEffect, useState } from \"react\";\nimport { useCheckoutMutation } from \"services/projects\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const Paypal = ({\n  active\n}) => {\n  _s();\n\n  const [amount, setAmount] = useState(\"2.00\");\n  const [orderID, setOrderID] = useState(\"\");\n  const [onApproveMessage, setOnApproveMessage] = useState(\"\");\n  const [onErrorMessage, setOnErrorMessage] = useState(\"\");\n  const [checkout] = useCheckoutMutation();\n\n  const createOrder = (data, actions) => {\n    return actions.order.create({\n      purchase_units: [{\n        amount: {\n          value: amount\n        }\n      }]\n    }).then(orderID => {\n      checkout({\n        orderID\n      });\n      setOrderID(orderID);\n      return orderID;\n    });\n  };\n\n  const onApprove = (data, actions) => {\n    return actions.order.capture().then(function (details) {\n      setOnApproveMessage(`Transaction completed by ${details.payer.name.given_name}!`);\n    });\n  };\n\n  const onError = err => {\n    setOnErrorMessage(err.toString());\n  };\n\n  useEffect(() => {\n    console.log(\"OrderId\", orderID);\n  }, [orderID]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: classNames(\"react-tabs__tab-panel\", {\n      \"react-tabs__tab-panel--selected\": active\n    }),\n    role: \"tabpanel\",\n    id: \"react-tabs-3\",\n    \"aria-labelledby\": \"react-tabs-2\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"cf-text-h6 cf-py-9 cf-text--center cf-invert\",\n        children: \"You will continue to PayPal to complete your purchase\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cf-input cf-col-12\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"cf-text-x-small cf-theme-light\",\n          children: \"By completing your order through PayPal, you will have full access to to the assigned project and live classes.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cf-my-4\",\n        children: /*#__PURE__*/_jsxDEV(PayPalButtons, {\n          fundingSource: FUNDING.PAYPAL,\n          style: {\n            color: \"black\",\n            shape: \"pill\",\n            label: \"checkout\"\n          },\n          createOrder: createOrder,\n          onApprove: onApprove,\n          onError: onError,\n          forceReRender: [amount]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Paypal, \"Xo5wm4mBqBJJgd8Tf2jtDFZpCQ4=\", false, function () {\n  return [useCheckoutMutation];\n});\n\n_c = Paypal;\n\nvar _c;\n\n$RefreshReg$(_c, \"Paypal\");","map":{"version":3,"sources":["/Users/akrah/Documents/dev/readux/src/codefluent/src/portal/scenes/Payments/paypal.tsx"],"names":["classNames","PayPalButtons","FUNDING","useEffect","useState","useCheckoutMutation","Paypal","active","amount","setAmount","orderID","setOrderID","onApproveMessage","setOnApproveMessage","onErrorMessage","setOnErrorMessage","checkout","createOrder","data","actions","order","create","purchase_units","value","then","onApprove","capture","details","payer","name","given_name","onError","err","toString","console","log","PAYPAL","color","shape","label"],"mappings":"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","sourcesContent":["import classNames from \"classnames\";\nimport { PayPalButtons, FUNDING } from \"@paypal/react-paypal-js\";\nimport { CreateOrderActions, OnApproveData, OnApproveActions } from '@paypal/paypal-js/types/components/buttons'\nimport { useEffect, useState } from \"react\";\nimport { useCheckoutMutation } from \"services/projects\";\nexport const Paypal = ({ active }) => {\n  const [amount, setAmount] = useState(\"2.00\");\n  const [orderID, setOrderID] = useState(\"\");\n  const [onApproveMessage, setOnApproveMessage] = useState(\"\");\n  const [onErrorMessage, setOnErrorMessage] = useState(\"\");\n  const [ checkout ] = useCheckoutMutation()\n  const createOrder = (\n    data: Record<string, unknown>,\n    actions: CreateOrderActions\n  ) => {\n    return actions.order\n      .create({\n        purchase_units: [\n          {\n            amount: {\n              value: amount,\n            },\n          },\n        ],\n      })\n      .then((orderID) => {\n        checkout({\n          orderID\n        })\n        setOrderID(orderID);\n        return orderID;\n      });\n  }\n\n  const onApprove = (data: OnApproveData, actions: OnApproveActions) => {\n    return actions.order.capture().then(function (details) {\n      setOnApproveMessage(\n        `Transaction completed by ${details.payer.name.given_name}!`\n      );\n    });\n  }\n\n  const onError = (err: Record<string, unknown>) => {\n    setOnErrorMessage(err.toString());\n  }\n\n  useEffect(()=> {\n    console.log(\"OrderId\", orderID)\n  }, [orderID])\n\n  return (\n   \n    <div\n      className={classNames(\"react-tabs__tab-panel\", {\n        \"react-tabs__tab-panel--selected\": active,\n      })}\n      role=\"tabpanel\"\n      id=\"react-tabs-3\"\n      aria-labelledby=\"react-tabs-2\"\n    >\n      <div>\n        <p className=\"cf-text-h6 cf-py-9 cf-text--center cf-invert\">\n          You will continue to PayPal to complete your purchase\n        </p>\n        <div className=\"cf-input cf-col-12\">\n          <p className=\"cf-text-x-small cf-theme-light\">\n            By completing your order through PayPal, you will have full access\n            to to the assigned project and live classes.\n          </p>\n        </div>\n        <div className=\"cf-my-4\">\n          <PayPalButtons\n            fundingSource={FUNDING.PAYPAL}\n            style={{ color: \"black\", shape: \"pill\", label: \"checkout\" }}\n            createOrder={createOrder}\n            onApprove={onApprove}\n            onError={onError}\n            forceReRender={[amount]}\n          />\n        </div>\n      </div>\n    </div>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}