{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport Halo from '@pluralsight/ps-design-system-halo';\nimport Icon from '@pluralsight/ps-design-system-icon';\nimport { useTheme } from '@pluralsight/ps-design-system-theme';\nimport glamorDefault, * as glamorExports from 'glamor';\nimport React from 'react';\nimport stylesheet from '../css/index';\nimport { CaretDown } from './caret-down';\nimport { ErrorIcon } from './error-icon';\nimport * as vars from '../vars/index';\nvar glamor = glamorDefault || glamorExports;\nvar styles = {\n  field: function (_a, themeName) {\n    var appearance = _a.appearance,\n        error = _a.error,\n        size = _a.size;\n    var label = 'psds-dropdown__field';\n    var isSmall = size === vars.sizes.small;\n    return glamor.compose(glamor.css(stylesheet[\".\" + label]), isSmall && glamor.css(stylesheet[\".\" + label + \".psds-dropdown--small\"]), glamor.css(stylesheet[\".\" + label + \"--appearance-\" + appearance]), glamor.css(stylesheet[\".\" + label + \".psds-theme--\" + themeName]), error && glamor.css(stylesheet[\".\" + label + \"-error.psds-theme--\" + themeName]));\n  },\n  fieldAligner: function () {\n    return glamor.css(stylesheet['.psds-dropdown__field-aligner']);\n  },\n  fieldContainer: function () {\n    return glamor.css(stylesheet['.psds-dropdown__field-container']);\n  },\n  halo: function () {\n    return glamor.css(stylesheet['.psds-dropdown__field-halo']);\n  },\n  icon: function (appearance, themeName) {\n    var label = 'psds-dropdown__icon';\n    return glamor.compose(glamor.css(stylesheet[\".\" + label]), glamor.css(stylesheet[\".\" + label + \"--appearance-\" + appearance]), glamor.css(stylesheet[\".\" + label + \".psds-theme--\" + themeName]));\n  },\n  inner: function () {\n    return glamor.css(stylesheet['.psds-dropdown__field-inner']);\n  }\n};\nexport var Button = React.forwardRef(function (_a, ref) {\n  var appearance = _a.appearance,\n      children = _a.children,\n      disabled = _a.disabled,\n      error = _a.error,\n      isOpen = _a.isOpen,\n      onClick = _a.onClick,\n      setMenuPosition = _a.setMenuPosition,\n      size = _a.size,\n      rest = __rest(_a, [\"appearance\", \"children\", \"disabled\", \"error\", \"isOpen\", \"onClick\", \"setMenuPosition\", \"size\"]);\n\n  var themeName = useTheme();\n  var fieldContainerRef = React.useRef(null);\n  React.useLayoutEffect(function () {\n    if (!isOpen || !fieldContainerRef.current) return;\n\n    var _a = fieldContainerRef.current.getBoundingClientRect(),\n        left = _a.left,\n        bottom = _a.bottom,\n        width = _a.width;\n\n    var requestId = requestAnimationFrame(function () {\n      return setMenuPosition({\n        left: left,\n        top: bottom,\n        width: width\n      });\n    });\n    return function () {\n      return cancelAnimationFrame(requestId);\n    };\n  }, [fieldContainerRef, isOpen, setMenuPosition]);\n  return React.createElement(\"div\", __assign({}, styles.fieldContainer(), {\n    ref: fieldContainerRef\n  }), React.createElement(Halo, __assign({\n    error: error,\n    gapSize: Halo.gapSizes.small\n  }, styles.halo()), React.createElement(\"div\", __assign({}, styles.fieldAligner()), React.createElement(\"button\", __assign({}, rest, styles.field({\n    appearance: appearance,\n    error: error,\n    size: size\n  }, themeName), {\n    disabled: disabled,\n    onClick: disabled ? undefined : onClick,\n    ref: ref\n  }), React.createElement(\"span\", __assign({}, styles.inner()), children), React.createElement(\"div\", __assign({}, styles.icon(appearance, themeName)), React.createElement(Icon, null, React.createElement(CaretDown, null)))))), React.createElement(ErrorIcon, {\n    error: !!error\n  }));\n});\nButton.displayName = 'Dropdown.Button';","map":{"version":3,"sources":["../../../src/react/button.tsx"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport Halo from '@pluralsight/ps-design-system-halo';\nimport Icon from '@pluralsight/ps-design-system-icon';\nimport { useTheme } from '@pluralsight/ps-design-system-theme';\nimport glamorDefault, * as glamorExports from 'glamor';\nimport React from 'react';\nimport stylesheet from '../css/index';\nimport { CaretDown } from './caret-down';\nimport { ErrorIcon } from './error-icon';\nimport * as vars from '../vars/index';\nvar glamor = glamorDefault || glamorExports;\nvar styles = {\n    field: function (_a, themeName) {\n        var appearance = _a.appearance, error = _a.error, size = _a.size;\n        var label = 'psds-dropdown__field';\n        var isSmall = size === vars.sizes.small;\n        return glamor.compose(glamor.css(stylesheet[\".\" + label]), isSmall && glamor.css(stylesheet[\".\" + label + \".psds-dropdown--small\"]), glamor.css(stylesheet[\".\" + label + \"--appearance-\" + appearance]), glamor.css(stylesheet[\".\" + label + \".psds-theme--\" + themeName]), error &&\n            glamor.css(stylesheet[\".\" + label + \"-error.psds-theme--\" + themeName]));\n    },\n    fieldAligner: function () { return glamor.css(stylesheet['.psds-dropdown__field-aligner']); },\n    fieldContainer: function () {\n        return glamor.css(stylesheet['.psds-dropdown__field-container']);\n    },\n    halo: function () { return glamor.css(stylesheet['.psds-dropdown__field-halo']); },\n    icon: function (appearance, themeName) {\n        var label = 'psds-dropdown__icon';\n        return glamor.compose(glamor.css(stylesheet[\".\" + label]), glamor.css(stylesheet[\".\" + label + \"--appearance-\" + appearance]), glamor.css(stylesheet[\".\" + label + \".psds-theme--\" + themeName]));\n    },\n    inner: function () { return glamor.css(stylesheet['.psds-dropdown__field-inner']); }\n};\nexport var Button = React.forwardRef(function (_a, ref) {\n    var appearance = _a.appearance, children = _a.children, disabled = _a.disabled, error = _a.error, isOpen = _a.isOpen, onClick = _a.onClick, setMenuPosition = _a.setMenuPosition, size = _a.size, rest = __rest(_a, [\"appearance\", \"children\", \"disabled\", \"error\", \"isOpen\", \"onClick\", \"setMenuPosition\", \"size\"]);\n    var themeName = useTheme();\n    var fieldContainerRef = React.useRef(null);\n    React.useLayoutEffect(function () {\n        if (!isOpen || !fieldContainerRef.current)\n            return;\n        var _a = fieldContainerRef.current.getBoundingClientRect(), left = _a.left, bottom = _a.bottom, width = _a.width;\n        var requestId = requestAnimationFrame(function () {\n            return setMenuPosition({ left: left, top: bottom, width: width });\n        });\n        return function () { return cancelAnimationFrame(requestId); };\n    }, [fieldContainerRef, isOpen, setMenuPosition]);\n    return (React.createElement(\"div\", __assign({}, styles.fieldContainer(), { ref: fieldContainerRef }),\n        React.createElement(Halo, __assign({ error: error, gapSize: Halo.gapSizes.small }, styles.halo()),\n            React.createElement(\"div\", __assign({}, styles.fieldAligner()),\n                React.createElement(\"button\", __assign({}, rest, styles.field({ appearance: appearance, error: error, size: size }, themeName), { disabled: disabled, onClick: disabled ? undefined : onClick, ref: ref }),\n                    React.createElement(\"span\", __assign({}, styles.inner()), children),\n                    React.createElement(\"div\", __assign({}, styles.icon(appearance, themeName)),\n                        React.createElement(Icon, null,\n                            React.createElement(CaretDown, null)))))),\n        React.createElement(ErrorIcon, { error: !!error })));\n});\nButton.displayName = 'Dropdown.Button';\n//# sourceMappingURL=button.js.map"]},"metadata":{},"sourceType":"module"}