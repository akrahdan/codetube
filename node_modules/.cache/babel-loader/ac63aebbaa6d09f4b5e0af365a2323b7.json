{"ast":null,"code":"var __spreadArray = this && this.__spreadArray || function (to, from) {\n  for (var i = 0, il = from.length, j = to.length; i < il; i++, j++) to[j] = from[i];\n\n  return to;\n};\n\nvar __create = Object.create;\nvar __defProp = Object.defineProperty;\nvar __getProtoOf = Object.getPrototypeOf;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\n\nvar __defNormalProp = function (obj, key, value) {\n  return key in obj ? __defProp(obj, key, {\n    enumerable: true,\n    configurable: true,\n    writable: true,\n    value: value\n  }) : obj[key] = value;\n};\n\nvar __objSpread = function (a, b) {\n  for (var prop in b || (b = {})) if (__hasOwnProp.call(b, prop)) __defNormalProp(a, prop, b[prop]);\n\n  if (__getOwnPropSymbols) for (var _i = 0, _c = __getOwnPropSymbols(b); _i < _c.length; _i++) {\n    var prop = _c[_i];\n    if (__propIsEnum.call(b, prop)) __defNormalProp(a, prop, b[prop]);\n  }\n  return a;\n};\n\nvar __markAsModule = function (target) {\n  return __defProp(target, \"__esModule\", {\n    value: true\n  });\n};\n\nvar __export = function (target, all) {\n  for (var name in all) __defProp(target, name, {\n    get: all[name],\n    enumerable: true\n  });\n};\n\nvar __reExport = function (target, module2, desc) {\n  if (module2 && typeof module2 === \"object\" || typeof module2 === \"function\") {\n    var _loop_1 = function (key) {\n      if (!__hasOwnProp.call(target, key) && key !== \"default\") __defProp(target, key, {\n        get: function () {\n          return module2[key];\n        },\n        enumerable: !(desc = __getOwnPropDesc(module2, key)) || desc.enumerable\n      });\n    };\n\n    for (var _i = 0, _c = __getOwnPropNames(module2); _i < _c.length; _i++) {\n      var key = _c[_i];\n\n      _loop_1(key);\n    }\n  }\n\n  return target;\n};\n\nvar __toModule = function (module2) {\n  return __reExport(__markAsModule(__defProp(module2 != null ? __create(__getProtoOf(module2)) : {}, \"default\", module2 && module2.__esModule && \"default\" in module2 ? {\n    get: function () {\n      return module2.default;\n    },\n    enumerable: true\n  } : {\n    value: module2,\n    enumerable: true\n  })), module2);\n}; // src/query/react/index.ts\n\n\n__markAsModule(exports);\n\n__export(exports, {\n  ApiProvider: function () {\n    return ApiProvider;\n  },\n  createApi: function () {\n    return createApi;\n  },\n  reactHooksModule: function () {\n    return reactHooksModule;\n  }\n});\n\nvar import_query3 = __toModule(require(\"@reduxjs/toolkit/query\")); // src/query/react/buildHooks.ts\n\n\nvar import_toolkit = __toModule(require(\"@reduxjs/toolkit\"));\n\nvar import_react2 = __toModule(require(\"react\"));\n\nvar import_query = __toModule(require(\"@reduxjs/toolkit/query\"));\n\nvar import_react_redux2 = __toModule(require(\"react-redux\")); // src/query/react/useShallowStableValue.ts\n\n\nvar import_react = __toModule(require(\"react\"));\n\nvar import_react_redux = __toModule(require(\"react-redux\"));\n\nfunction useShallowStableValue(value) {\n  var cache = (0, import_react.useRef)(value);\n  (0, import_react.useEffect)(function () {\n    if (!(0, import_react_redux.shallowEqual)(cache.current, value)) {\n      cache.current = value;\n    }\n  }, [value]);\n  return (0, import_react_redux.shallowEqual)(cache.current, value) ? cache.current : value;\n} // src/query/react/constants.ts\n\n\nvar UNINITIALIZED_VALUE = Symbol(); // src/query/react/buildHooks.ts\n\nvar defaultQueryStateSelector = function (x) {\n  return x;\n};\n\nvar defaultMutationStateSelector = function (x) {\n  return x;\n};\n\nvar queryStatePreSelector = function (currentState, lastResult) {\n  var _a;\n\n  var data = (_a = currentState.isSuccess ? currentState.data : lastResult == null ? void 0 : lastResult.data) != null ? _a : currentState.data;\n  var isFetching = currentState.isLoading;\n  var isLoading = !data && isFetching;\n  var isSuccess = currentState.isSuccess || isFetching && !!data;\n  return __objSpread(__objSpread({}, currentState), {\n    data: data,\n    isFetching: isFetching,\n    isLoading: isLoading,\n    isSuccess: isSuccess\n  });\n};\n\nvar noPendingQueryStateSelector = function (selected) {\n  if (selected.isUninitialized) {\n    return __objSpread(__objSpread({}, selected), {\n      isUninitialized: false,\n      isFetching: true,\n      isLoading: true,\n      status: import_query.QueryStatus.pending\n    });\n  }\n\n  return selected;\n};\n\nfunction buildHooks(_c) {\n  var api = _c.api,\n      _d = _c.moduleOptions,\n      batch = _d.batch,\n      useDispatch = _d.useDispatch,\n      useSelector = _d.useSelector,\n      useStore = _d.useStore;\n  return {\n    buildQueryHooks: buildQueryHooks,\n    buildMutationHook: buildMutationHook,\n    usePrefetch: usePrefetch\n  };\n\n  function usePrefetch(endpointName, defaultOptions) {\n    var dispatch = useDispatch();\n    var stableDefaultOptions = useShallowStableValue(defaultOptions);\n    return (0, import_react2.useCallback)(function (arg, options) {\n      return dispatch(api.util.prefetch(endpointName, arg, __objSpread(__objSpread({}, stableDefaultOptions), options)));\n    }, [endpointName, dispatch, stableDefaultOptions]);\n  }\n\n  function buildQueryHooks(name) {\n    var useQuerySubscription = function (arg, _c) {\n      var _d = _c === void 0 ? {} : _c,\n          refetchOnReconnect = _d.refetchOnReconnect,\n          refetchOnFocus = _d.refetchOnFocus,\n          refetchOnMountOrArgChange = _d.refetchOnMountOrArgChange,\n          _e = _d.skip,\n          skip = _e === void 0 ? false : _e,\n          _f = _d.pollingInterval,\n          pollingInterval = _f === void 0 ? 0 : _f;\n\n      var initiate = api.endpoints[name].initiate;\n      var dispatch = useDispatch();\n      var stableArg = useShallowStableValue(skip ? import_query.skipToken : arg);\n      var stableSubscriptionOptions = useShallowStableValue({\n        refetchOnReconnect: refetchOnReconnect,\n        refetchOnFocus: refetchOnFocus,\n        pollingInterval: pollingInterval\n      });\n      var promiseRef = (0, import_react2.useRef)();\n      (0, import_react2.useEffect)(function () {\n        var _a;\n\n        var lastPromise = promiseRef.current;\n\n        if (stableArg === import_query.skipToken) {\n          lastPromise == null ? void 0 : lastPromise.unsubscribe();\n          promiseRef.current = void 0;\n          return;\n        }\n\n        var lastSubscriptionOptions = (_a = promiseRef.current) == null ? void 0 : _a.subscriptionOptions;\n\n        if (!lastPromise || lastPromise.arg !== stableArg) {\n          lastPromise == null ? void 0 : lastPromise.unsubscribe();\n          var promise = dispatch(initiate(stableArg, {\n            subscriptionOptions: stableSubscriptionOptions,\n            forceRefetch: refetchOnMountOrArgChange\n          }));\n          promiseRef.current = promise;\n        } else if (stableSubscriptionOptions !== lastSubscriptionOptions) {\n          lastPromise.updateSubscriptionOptions(stableSubscriptionOptions);\n        }\n      }, [dispatch, initiate, refetchOnMountOrArgChange, stableArg, stableSubscriptionOptions]);\n      (0, import_react2.useEffect)(function () {\n        return function () {\n          var _a;\n\n          (_a = promiseRef.current) == null ? void 0 : _a.unsubscribe();\n          promiseRef.current = void 0;\n        };\n      }, []);\n      return (0, import_react2.useMemo)(function () {\n        return {\n          refetch: function () {\n            var _a;\n\n            return void ((_a = promiseRef.current) == null ? void 0 : _a.refetch());\n          }\n        };\n      }, []);\n    };\n\n    var useLazyQuerySubscription = function (_c) {\n      var _d = _c === void 0 ? {} : _c,\n          refetchOnReconnect = _d.refetchOnReconnect,\n          refetchOnFocus = _d.refetchOnFocus,\n          _e = _d.pollingInterval,\n          pollingInterval = _e === void 0 ? 0 : _e;\n\n      var initiate = api.endpoints[name].initiate;\n      var dispatch = useDispatch();\n\n      var _f = (0, import_react2.useState)(UNINITIALIZED_VALUE),\n          arg = _f[0],\n          setArg = _f[1];\n\n      var promiseRef = (0, import_react2.useRef)();\n      var stableSubscriptionOptions = useShallowStableValue({\n        refetchOnReconnect: refetchOnReconnect,\n        refetchOnFocus: refetchOnFocus,\n        pollingInterval: pollingInterval\n      });\n      (0, import_react2.useEffect)(function () {\n        var _a, _b;\n\n        var lastSubscriptionOptions = (_a = promiseRef.current) == null ? void 0 : _a.subscriptionOptions;\n\n        if (stableSubscriptionOptions !== lastSubscriptionOptions) {\n          (_b = promiseRef.current) == null ? void 0 : _b.updateSubscriptionOptions(stableSubscriptionOptions);\n        }\n      }, [stableSubscriptionOptions]);\n      var subscriptionOptionsRef = (0, import_react2.useRef)(stableSubscriptionOptions);\n      (0, import_react2.useEffect)(function () {\n        subscriptionOptionsRef.current = stableSubscriptionOptions;\n      }, [stableSubscriptionOptions]);\n      var trigger = (0, import_react2.useCallback)(function (arg2, preferCacheValue) {\n        if (preferCacheValue === void 0) {\n          preferCacheValue = false;\n        }\n\n        batch(function () {\n          var _a;\n\n          (_a = promiseRef.current) == null ? void 0 : _a.unsubscribe();\n          promiseRef.current = dispatch(initiate(arg2, {\n            subscriptionOptions: subscriptionOptionsRef.current,\n            forceRefetch: !preferCacheValue\n          }));\n          setArg(arg2);\n        });\n      }, [dispatch, initiate]);\n      (0, import_react2.useEffect)(function () {\n        return function () {\n          var _a;\n\n          (_a = promiseRef == null ? void 0 : promiseRef.current) == null ? void 0 : _a.unsubscribe();\n        };\n      }, []);\n      (0, import_react2.useEffect)(function () {\n        if (arg !== UNINITIALIZED_VALUE && !promiseRef.current) {\n          trigger(arg, true);\n        }\n      }, [arg, trigger]);\n      return (0, import_react2.useMemo)(function () {\n        return [trigger, arg];\n      }, [trigger, arg]);\n    };\n\n    var useQueryState = function (arg, _c) {\n      var _d = _c === void 0 ? {} : _c,\n          _e = _d.skip,\n          skip = _e === void 0 ? false : _e,\n          _f = _d.selectFromResult,\n          selectFromResult = _f === void 0 ? defaultQueryStateSelector : _f;\n\n      var select = api.endpoints[name].select;\n      var stableArg = useShallowStableValue(skip ? import_query.skipToken : arg);\n      var lastValue = (0, import_react2.useRef)();\n      var selectDefaultResult = (0, import_react2.useMemo)(function () {\n        return (0, import_toolkit.createSelector)([select(stableArg), function (_, lastResult) {\n          return lastResult;\n        }], queryStatePreSelector);\n      }, [select, stableArg]);\n      var querySelector = (0, import_react2.useMemo)(function () {\n        return (0, import_toolkit.createSelector)([selectDefaultResult], selectFromResult);\n      }, [selectDefaultResult, selectFromResult]);\n      var currentState = useSelector(function (state) {\n        return querySelector(state, lastValue.current);\n      }, import_react_redux2.shallowEqual);\n      var store = useStore();\n      var newLastValue = selectDefaultResult(store.getState(), lastValue.current);\n      (0, import_react2.useLayoutEffect)(function () {\n        lastValue.current = newLastValue;\n      }, [newLastValue]);\n      return currentState;\n    };\n\n    return {\n      useQueryState: useQueryState,\n      useQuerySubscription: useQuerySubscription,\n      useLazyQuerySubscription: useLazyQuerySubscription,\n      useLazyQuery: function (options) {\n        var _c = useLazyQuerySubscription(options),\n            trigger = _c[0],\n            arg = _c[1];\n\n        var queryStateResults = useQueryState(arg, __objSpread(__objSpread({}, options), {\n          skip: arg === UNINITIALIZED_VALUE\n        }));\n        var info = (0, import_react2.useMemo)(function () {\n          return {\n            lastArg: arg\n          };\n        }, [arg]);\n        return (0, import_react2.useMemo)(function () {\n          return [trigger, queryStateResults, info];\n        }, [trigger, queryStateResults, info]);\n      },\n      useQuery: function (arg, options) {\n        var querySubscriptionResults = useQuerySubscription(arg, options);\n        var queryStateResults = useQueryState(arg, __objSpread({\n          selectFromResult: arg === import_query.skipToken || (options == null ? void 0 : options.skip) ? void 0 : noPendingQueryStateSelector\n        }, options));\n        return (0, import_react2.useMemo)(function () {\n          return __objSpread(__objSpread({}, queryStateResults), querySubscriptionResults);\n        }, [queryStateResults, querySubscriptionResults]);\n      }\n    };\n  }\n\n  function buildMutationHook(name) {\n    return function (_c) {\n      var _d = _c === void 0 ? {} : _c,\n          _e = _d.selectFromResult,\n          selectFromResult = _e === void 0 ? defaultMutationStateSelector : _e;\n\n      var _f = api.endpoints[name],\n          select = _f.select,\n          initiate = _f.initiate;\n      var dispatch = useDispatch();\n\n      var _g = (0, import_react2.useState)(),\n          requestId = _g[0],\n          setRequestId = _g[1];\n\n      var promiseRef = (0, import_react2.useRef)();\n      (0, import_react2.useEffect)(function () {\n        return function () {\n          var _a;\n\n          (_a = promiseRef.current) == null ? void 0 : _a.unsubscribe();\n          promiseRef.current = void 0;\n        };\n      }, []);\n      var triggerMutation = (0, import_react2.useCallback)(function (arg) {\n        var promise;\n        batch(function () {\n          var _a;\n\n          (_a = promiseRef == null ? void 0 : promiseRef.current) == null ? void 0 : _a.unsubscribe();\n          promise = dispatch(initiate(arg));\n          promiseRef.current = promise;\n          setRequestId(promise.requestId);\n        });\n        return promise;\n      }, [dispatch, initiate]);\n      var mutationSelector = (0, import_react2.useMemo)(function () {\n        return (0, import_toolkit.createSelector)([select(requestId || import_query.skipToken)], function (subState) {\n          return selectFromResult(subState);\n        });\n      }, [select, requestId, selectFromResult]);\n      var currentState = useSelector(mutationSelector, import_react_redux2.shallowEqual);\n      return (0, import_react2.useMemo)(function () {\n        return [triggerMutation, currentState];\n      }, [triggerMutation, currentState]);\n    };\n  }\n} // src/query/endpointDefinitions.ts\n\n\nvar DefinitionType;\n\n(function (DefinitionType2) {\n  DefinitionType2[\"query\"] = \"query\";\n  DefinitionType2[\"mutation\"] = \"mutation\";\n})(DefinitionType || (DefinitionType = {}));\n\nfunction isQueryDefinition(e) {\n  return e.type === DefinitionType.query;\n}\n\nfunction isMutationDefinition(e) {\n  return e.type === DefinitionType.mutation;\n} // src/query/utils/capitalize.ts\n\n\nfunction capitalize(str) {\n  return str.replace(str[0], str[0].toUpperCase());\n} // src/query/tsHelpers.ts\n\n\nfunction safeAssign(target) {\n  var args = [];\n\n  for (var _i = 1; _i < arguments.length; _i++) {\n    args[_i - 1] = arguments[_i];\n  }\n\n  Object.assign.apply(Object, __spreadArray([target], args));\n} // src/query/react/module.ts\n\n\nvar import_react_redux3 = __toModule(require(\"react-redux\"));\n\nvar reactHooksModuleName = /* @__PURE__ */Symbol();\n\nvar reactHooksModule = function (_c) {\n  var _d = _c === void 0 ? {} : _c,\n      _e = _d.batch,\n      batch = _e === void 0 ? import_react_redux3.batch : _e,\n      _f = _d.useDispatch,\n      useDispatch = _f === void 0 ? import_react_redux3.useDispatch : _f,\n      _g = _d.useSelector,\n      useSelector = _g === void 0 ? import_react_redux3.useSelector : _g,\n      _h = _d.useStore,\n      useStore = _h === void 0 ? import_react_redux3.useStore : _h;\n\n  return {\n    name: reactHooksModuleName,\n    init: function (api, options, context) {\n      var anyApi = api;\n\n      var _c = buildHooks({\n        api: api,\n        moduleOptions: {\n          batch: batch,\n          useDispatch: useDispatch,\n          useSelector: useSelector,\n          useStore: useStore\n        }\n      }),\n          buildQueryHooks = _c.buildQueryHooks,\n          buildMutationHook = _c.buildMutationHook,\n          usePrefetch = _c.usePrefetch;\n\n      safeAssign(anyApi, {\n        usePrefetch: usePrefetch\n      });\n      safeAssign(context, {\n        batch: batch\n      });\n      return {\n        injectEndpoint: function (endpointName, definition) {\n          if (isQueryDefinition(definition)) {\n            var _c = buildQueryHooks(endpointName),\n                useQuery = _c.useQuery,\n                useLazyQuery = _c.useLazyQuery,\n                useLazyQuerySubscription = _c.useLazyQuerySubscription,\n                useQueryState = _c.useQueryState,\n                useQuerySubscription = _c.useQuerySubscription;\n\n            safeAssign(anyApi.endpoints[endpointName], {\n              useQuery: useQuery,\n              useLazyQuery: useLazyQuery,\n              useLazyQuerySubscription: useLazyQuerySubscription,\n              useQueryState: useQueryState,\n              useQuerySubscription: useQuerySubscription\n            });\n            api[\"use\" + capitalize(endpointName) + \"Query\"] = useQuery;\n            api[\"useLazy\" + capitalize(endpointName) + \"Query\"] = useLazyQuery;\n          } else if (isMutationDefinition(definition)) {\n            var useMutation = buildMutationHook(endpointName);\n            safeAssign(anyApi.endpoints[endpointName], {\n              useMutation: useMutation\n            });\n            api[\"use\" + capitalize(endpointName) + \"Mutation\"] = useMutation;\n          }\n        }\n      };\n    }\n  };\n}; // src/query/react/index.ts\n\n\n__reExport(exports, __toModule(require(\"@reduxjs/toolkit/query\"))); // src/query/react/ApiProvider.tsx\n\n\nvar import_toolkit2 = __toModule(require(\"@reduxjs/toolkit\"));\n\nvar import_react3 = __toModule(require(\"react\"));\n\nvar import_react_redux4 = __toModule(require(\"react-redux\"));\n\nvar import_query2 = __toModule(require(\"@reduxjs/toolkit/query\"));\n\nfunction ApiProvider(props) {\n  var store = import_react3.default.useState(function () {\n    var _c;\n\n    return (0, import_toolkit2.configureStore)({\n      reducer: (_c = {}, _c[props.api.reducerPath] = props.api.reducer, _c),\n      middleware: function (gDM) {\n        return gDM().concat(props.api.middleware);\n      }\n    });\n  })[0];\n  (0, import_query2.setupListeners)(store.dispatch, props.setupListeners);\n  return /* @__PURE__ */import_react3.default.createElement(import_react_redux4.Provider, {\n    store: store,\n    context: props.context\n  }, props.children);\n} // src/query/react/index.ts\n\n\nvar createApi = /* @__PURE__ */(0, import_query3.buildCreateApi)((0, import_query3.coreModule)(), reactHooksModule());","map":{"version":3,"sources":["/Users/akrah/Documents/dev/readux/src/codefluent/node_modules/@reduxjs/toolkit/dist/query/react/rtk-query-react.cjs.development.js"],"names":["__spreadArray","to","from","i","il","length","j","__create","Object","create","__defProp","defineProperty","__getProtoOf","getPrototypeOf","__hasOwnProp","prototype","hasOwnProperty","__getOwnPropNames","getOwnPropertyNames","__getOwnPropDesc","getOwnPropertyDescriptor","__getOwnPropSymbols","getOwnPropertySymbols","__propIsEnum","propertyIsEnumerable","__defNormalProp","obj","key","value","enumerable","configurable","writable","__objSpread","a","b","prop","call","_i","_c","__markAsModule","target","__export","all","name","get","__reExport","module2","desc","_loop_1","__toModule","__esModule","default","exports","ApiProvider","createApi","reactHooksModule","import_query3","require","import_toolkit","import_react2","import_query","import_react_redux2","import_react","import_react_redux","useShallowStableValue","cache","useRef","useEffect","shallowEqual","current","UNINITIALIZED_VALUE","Symbol","defaultQueryStateSelector","x","defaultMutationStateSelector","queryStatePreSelector","currentState","lastResult","_a","data","isSuccess","isFetching","isLoading","noPendingQueryStateSelector","selected","isUninitialized","status","QueryStatus","pending","buildHooks","api","_d","moduleOptions","batch","useDispatch","useSelector","useStore","buildQueryHooks","buildMutationHook","usePrefetch","endpointName","defaultOptions","dispatch","stableDefaultOptions","useCallback","arg","options","util","prefetch","useQuerySubscription","refetchOnReconnect","refetchOnFocus","refetchOnMountOrArgChange","_e","skip","_f","pollingInterval","initiate","endpoints","stableArg","skipToken","stableSubscriptionOptions","promiseRef","lastPromise","unsubscribe","lastSubscriptionOptions","subscriptionOptions","promise","forceRefetch","updateSubscriptionOptions","useMemo","refetch","useLazyQuerySubscription","useState","setArg","_b","subscriptionOptionsRef","trigger","arg2","preferCacheValue","useQueryState","selectFromResult","select","lastValue","selectDefaultResult","createSelector","_","querySelector","state","store","newLastValue","getState","useLayoutEffect","useLazyQuery","queryStateResults","info","lastArg","useQuery","querySubscriptionResults","_g","requestId","setRequestId","triggerMutation","mutationSelector","subState","DefinitionType","DefinitionType2","isQueryDefinition","e","type","query","isMutationDefinition","mutation","capitalize","str","replace","toUpperCase","safeAssign","args","arguments","assign","apply","import_react_redux3","reactHooksModuleName","_h","init","context","anyApi","injectEndpoint","definition","useMutation","import_toolkit2","import_react3","import_react_redux4","import_query2","props","configureStore","reducer","reducerPath","middleware","gDM","concat","setupListeners","createElement","Provider","children","buildCreateApi","coreModule"],"mappings":"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","sourcesContent":["var __spreadArray = (this && this.__spreadArray) || function (to, from) {\r\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)\r\n        to[j] = from[i];\r\n    return to;\r\n};\r\nvar __create = Object.create;\r\nvar __defProp = Object.defineProperty;\r\nvar __getProtoOf = Object.getPrototypeOf;\r\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\r\nvar __getOwnPropNames = Object.getOwnPropertyNames;\r\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\r\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\r\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\r\nvar __defNormalProp = function (obj, key, value) { return key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value: value }) : obj[key] = value; };\r\nvar __objSpread = function (a, b) {\r\n    for (var prop in b || (b = {}))\r\n        if (__hasOwnProp.call(b, prop))\r\n            __defNormalProp(a, prop, b[prop]);\r\n    if (__getOwnPropSymbols)\r\n        for (var _i = 0, _c = __getOwnPropSymbols(b); _i < _c.length; _i++) {\r\n            var prop = _c[_i];\r\n            if (__propIsEnum.call(b, prop))\r\n                __defNormalProp(a, prop, b[prop]);\r\n        }\r\n    return a;\r\n};\r\nvar __markAsModule = function (target) { return __defProp(target, \"__esModule\", { value: true }); };\r\nvar __export = function (target, all) {\r\n    for (var name in all)\r\n        __defProp(target, name, { get: all[name], enumerable: true });\r\n};\r\nvar __reExport = function (target, module2, desc) {\r\n    if (module2 && typeof module2 === \"object\" || typeof module2 === \"function\") {\r\n        var _loop_1 = function (key) {\r\n            if (!__hasOwnProp.call(target, key) && key !== \"default\")\r\n                __defProp(target, key, { get: function () { return module2[key]; }, enumerable: !(desc = __getOwnPropDesc(module2, key)) || desc.enumerable });\r\n        };\r\n        for (var _i = 0, _c = __getOwnPropNames(module2); _i < _c.length; _i++) {\r\n            var key = _c[_i];\r\n            _loop_1(key);\r\n        }\r\n    }\r\n    return target;\r\n};\r\nvar __toModule = function (module2) {\r\n    return __reExport(__markAsModule(__defProp(module2 != null ? __create(__getProtoOf(module2)) : {}, \"default\", module2 && module2.__esModule && \"default\" in module2 ? { get: function () { return module2.default; }, enumerable: true } : { value: module2, enumerable: true })), module2);\r\n};\r\n// src/query/react/index.ts\r\n__markAsModule(exports);\r\n__export(exports, {\r\n    ApiProvider: function () { return ApiProvider; },\r\n    createApi: function () { return createApi; },\r\n    reactHooksModule: function () { return reactHooksModule; }\r\n});\r\nvar import_query3 = __toModule(require(\"@reduxjs/toolkit/query\"));\r\n// src/query/react/buildHooks.ts\r\nvar import_toolkit = __toModule(require(\"@reduxjs/toolkit\"));\r\nvar import_react2 = __toModule(require(\"react\"));\r\nvar import_query = __toModule(require(\"@reduxjs/toolkit/query\"));\r\nvar import_react_redux2 = __toModule(require(\"react-redux\"));\r\n// src/query/react/useShallowStableValue.ts\r\nvar import_react = __toModule(require(\"react\"));\r\nvar import_react_redux = __toModule(require(\"react-redux\"));\r\nfunction useShallowStableValue(value) {\r\n    var cache = (0, import_react.useRef)(value);\r\n    (0, import_react.useEffect)(function () {\r\n        if (!(0, import_react_redux.shallowEqual)(cache.current, value)) {\r\n            cache.current = value;\r\n        }\r\n    }, [value]);\r\n    return (0, import_react_redux.shallowEqual)(cache.current, value) ? cache.current : value;\r\n}\r\n// src/query/react/constants.ts\r\nvar UNINITIALIZED_VALUE = Symbol();\r\n// src/query/react/buildHooks.ts\r\nvar defaultQueryStateSelector = function (x) { return x; };\r\nvar defaultMutationStateSelector = function (x) { return x; };\r\nvar queryStatePreSelector = function (currentState, lastResult) {\r\n    var _a;\r\n    var data = (_a = currentState.isSuccess ? currentState.data : lastResult == null ? void 0 : lastResult.data) != null ? _a : currentState.data;\r\n    var isFetching = currentState.isLoading;\r\n    var isLoading = !data && isFetching;\r\n    var isSuccess = currentState.isSuccess || isFetching && !!data;\r\n    return __objSpread(__objSpread({}, currentState), {\r\n        data: data,\r\n        isFetching: isFetching,\r\n        isLoading: isLoading,\r\n        isSuccess: isSuccess\r\n    });\r\n};\r\nvar noPendingQueryStateSelector = function (selected) {\r\n    if (selected.isUninitialized) {\r\n        return __objSpread(__objSpread({}, selected), {\r\n            isUninitialized: false,\r\n            isFetching: true,\r\n            isLoading: true,\r\n            status: import_query.QueryStatus.pending\r\n        });\r\n    }\r\n    return selected;\r\n};\r\nfunction buildHooks(_c) {\r\n    var api = _c.api, _d = _c.moduleOptions, batch = _d.batch, useDispatch = _d.useDispatch, useSelector = _d.useSelector, useStore = _d.useStore;\r\n    return { buildQueryHooks: buildQueryHooks, buildMutationHook: buildMutationHook, usePrefetch: usePrefetch };\r\n    function usePrefetch(endpointName, defaultOptions) {\r\n        var dispatch = useDispatch();\r\n        var stableDefaultOptions = useShallowStableValue(defaultOptions);\r\n        return (0, import_react2.useCallback)(function (arg, options) { return dispatch(api.util.prefetch(endpointName, arg, __objSpread(__objSpread({}, stableDefaultOptions), options))); }, [endpointName, dispatch, stableDefaultOptions]);\r\n    }\r\n    function buildQueryHooks(name) {\r\n        var useQuerySubscription = function (arg, _c) {\r\n            var _d = _c === void 0 ? {} : _c, refetchOnReconnect = _d.refetchOnReconnect, refetchOnFocus = _d.refetchOnFocus, refetchOnMountOrArgChange = _d.refetchOnMountOrArgChange, _e = _d.skip, skip = _e === void 0 ? false : _e, _f = _d.pollingInterval, pollingInterval = _f === void 0 ? 0 : _f;\r\n            var initiate = api.endpoints[name].initiate;\r\n            var dispatch = useDispatch();\r\n            var stableArg = useShallowStableValue(skip ? import_query.skipToken : arg);\r\n            var stableSubscriptionOptions = useShallowStableValue({\r\n                refetchOnReconnect: refetchOnReconnect,\r\n                refetchOnFocus: refetchOnFocus,\r\n                pollingInterval: pollingInterval\r\n            });\r\n            var promiseRef = (0, import_react2.useRef)();\r\n            (0, import_react2.useEffect)(function () {\r\n                var _a;\r\n                var lastPromise = promiseRef.current;\r\n                if (stableArg === import_query.skipToken) {\r\n                    lastPromise == null ? void 0 : lastPromise.unsubscribe();\r\n                    promiseRef.current = void 0;\r\n                    return;\r\n                }\r\n                var lastSubscriptionOptions = (_a = promiseRef.current) == null ? void 0 : _a.subscriptionOptions;\r\n                if (!lastPromise || lastPromise.arg !== stableArg) {\r\n                    lastPromise == null ? void 0 : lastPromise.unsubscribe();\r\n                    var promise = dispatch(initiate(stableArg, {\r\n                        subscriptionOptions: stableSubscriptionOptions,\r\n                        forceRefetch: refetchOnMountOrArgChange\r\n                    }));\r\n                    promiseRef.current = promise;\r\n                }\r\n                else if (stableSubscriptionOptions !== lastSubscriptionOptions) {\r\n                    lastPromise.updateSubscriptionOptions(stableSubscriptionOptions);\r\n                }\r\n            }, [\r\n                dispatch,\r\n                initiate,\r\n                refetchOnMountOrArgChange,\r\n                stableArg,\r\n                stableSubscriptionOptions\r\n            ]);\r\n            (0, import_react2.useEffect)(function () {\r\n                return function () {\r\n                    var _a;\r\n                    (_a = promiseRef.current) == null ? void 0 : _a.unsubscribe();\r\n                    promiseRef.current = void 0;\r\n                };\r\n            }, []);\r\n            return (0, import_react2.useMemo)(function () { return ({\r\n                refetch: function () {\r\n                    var _a;\r\n                    return void ((_a = promiseRef.current) == null ? void 0 : _a.refetch());\r\n                }\r\n            }); }, []);\r\n        };\r\n        var useLazyQuerySubscription = function (_c) {\r\n            var _d = _c === void 0 ? {} : _c, refetchOnReconnect = _d.refetchOnReconnect, refetchOnFocus = _d.refetchOnFocus, _e = _d.pollingInterval, pollingInterval = _e === void 0 ? 0 : _e;\r\n            var initiate = api.endpoints[name].initiate;\r\n            var dispatch = useDispatch();\r\n            var _f = (0, import_react2.useState)(UNINITIALIZED_VALUE), arg = _f[0], setArg = _f[1];\r\n            var promiseRef = (0, import_react2.useRef)();\r\n            var stableSubscriptionOptions = useShallowStableValue({\r\n                refetchOnReconnect: refetchOnReconnect,\r\n                refetchOnFocus: refetchOnFocus,\r\n                pollingInterval: pollingInterval\r\n            });\r\n            (0, import_react2.useEffect)(function () {\r\n                var _a, _b;\r\n                var lastSubscriptionOptions = (_a = promiseRef.current) == null ? void 0 : _a.subscriptionOptions;\r\n                if (stableSubscriptionOptions !== lastSubscriptionOptions) {\r\n                    (_b = promiseRef.current) == null ? void 0 : _b.updateSubscriptionOptions(stableSubscriptionOptions);\r\n                }\r\n            }, [stableSubscriptionOptions]);\r\n            var subscriptionOptionsRef = (0, import_react2.useRef)(stableSubscriptionOptions);\r\n            (0, import_react2.useEffect)(function () {\r\n                subscriptionOptionsRef.current = stableSubscriptionOptions;\r\n            }, [stableSubscriptionOptions]);\r\n            var trigger = (0, import_react2.useCallback)(function (arg2, preferCacheValue) {\r\n                if (preferCacheValue === void 0) { preferCacheValue = false; }\r\n                batch(function () {\r\n                    var _a;\r\n                    (_a = promiseRef.current) == null ? void 0 : _a.unsubscribe();\r\n                    promiseRef.current = dispatch(initiate(arg2, {\r\n                        subscriptionOptions: subscriptionOptionsRef.current,\r\n                        forceRefetch: !preferCacheValue\r\n                    }));\r\n                    setArg(arg2);\r\n                });\r\n            }, [dispatch, initiate]);\r\n            (0, import_react2.useEffect)(function () {\r\n                return function () {\r\n                    var _a;\r\n                    (_a = promiseRef == null ? void 0 : promiseRef.current) == null ? void 0 : _a.unsubscribe();\r\n                };\r\n            }, []);\r\n            (0, import_react2.useEffect)(function () {\r\n                if (arg !== UNINITIALIZED_VALUE && !promiseRef.current) {\r\n                    trigger(arg, true);\r\n                }\r\n            }, [arg, trigger]);\r\n            return (0, import_react2.useMemo)(function () { return [trigger, arg]; }, [trigger, arg]);\r\n        };\r\n        var useQueryState = function (arg, _c) {\r\n            var _d = _c === void 0 ? {} : _c, _e = _d.skip, skip = _e === void 0 ? false : _e, _f = _d.selectFromResult, selectFromResult = _f === void 0 ? defaultQueryStateSelector : _f;\r\n            var select = api.endpoints[name].select;\r\n            var stableArg = useShallowStableValue(skip ? import_query.skipToken : arg);\r\n            var lastValue = (0, import_react2.useRef)();\r\n            var selectDefaultResult = (0, import_react2.useMemo)(function () { return (0, import_toolkit.createSelector)([select(stableArg), function (_, lastResult) { return lastResult; }], queryStatePreSelector); }, [select, stableArg]);\r\n            var querySelector = (0, import_react2.useMemo)(function () { return (0, import_toolkit.createSelector)([selectDefaultResult], selectFromResult); }, [selectDefaultResult, selectFromResult]);\r\n            var currentState = useSelector(function (state) { return querySelector(state, lastValue.current); }, import_react_redux2.shallowEqual);\r\n            var store = useStore();\r\n            var newLastValue = selectDefaultResult(store.getState(), lastValue.current);\r\n            (0, import_react2.useLayoutEffect)(function () {\r\n                lastValue.current = newLastValue;\r\n            }, [newLastValue]);\r\n            return currentState;\r\n        };\r\n        return {\r\n            useQueryState: useQueryState,\r\n            useQuerySubscription: useQuerySubscription,\r\n            useLazyQuerySubscription: useLazyQuerySubscription,\r\n            useLazyQuery: function (options) {\r\n                var _c = useLazyQuerySubscription(options), trigger = _c[0], arg = _c[1];\r\n                var queryStateResults = useQueryState(arg, __objSpread(__objSpread({}, options), {\r\n                    skip: arg === UNINITIALIZED_VALUE\r\n                }));\r\n                var info = (0, import_react2.useMemo)(function () { return ({ lastArg: arg }); }, [arg]);\r\n                return (0, import_react2.useMemo)(function () { return [trigger, queryStateResults, info]; }, [\r\n                    trigger,\r\n                    queryStateResults,\r\n                    info\r\n                ]);\r\n            },\r\n            useQuery: function (arg, options) {\r\n                var querySubscriptionResults = useQuerySubscription(arg, options);\r\n                var queryStateResults = useQueryState(arg, __objSpread({\r\n                    selectFromResult: arg === import_query.skipToken || (options == null ? void 0 : options.skip) ? void 0 : noPendingQueryStateSelector\r\n                }, options));\r\n                return (0, import_react2.useMemo)(function () { return __objSpread(__objSpread({}, queryStateResults), querySubscriptionResults); }, [queryStateResults, querySubscriptionResults]);\r\n            }\r\n        };\r\n    }\r\n    function buildMutationHook(name) {\r\n        return function (_c) {\r\n            var _d = _c === void 0 ? {} : _c, _e = _d.selectFromResult, selectFromResult = _e === void 0 ? defaultMutationStateSelector : _e;\r\n            var _f = api.endpoints[name], select = _f.select, initiate = _f.initiate;\r\n            var dispatch = useDispatch();\r\n            var _g = (0, import_react2.useState)(), requestId = _g[0], setRequestId = _g[1];\r\n            var promiseRef = (0, import_react2.useRef)();\r\n            (0, import_react2.useEffect)(function () {\r\n                return function () {\r\n                    var _a;\r\n                    (_a = promiseRef.current) == null ? void 0 : _a.unsubscribe();\r\n                    promiseRef.current = void 0;\r\n                };\r\n            }, []);\r\n            var triggerMutation = (0, import_react2.useCallback)(function (arg) {\r\n                var promise;\r\n                batch(function () {\r\n                    var _a;\r\n                    (_a = promiseRef == null ? void 0 : promiseRef.current) == null ? void 0 : _a.unsubscribe();\r\n                    promise = dispatch(initiate(arg));\r\n                    promiseRef.current = promise;\r\n                    setRequestId(promise.requestId);\r\n                });\r\n                return promise;\r\n            }, [dispatch, initiate]);\r\n            var mutationSelector = (0, import_react2.useMemo)(function () { return (0, import_toolkit.createSelector)([select(requestId || import_query.skipToken)], function (subState) { return selectFromResult(subState); }); }, [select, requestId, selectFromResult]);\r\n            var currentState = useSelector(mutationSelector, import_react_redux2.shallowEqual);\r\n            return (0, import_react2.useMemo)(function () { return [triggerMutation, currentState]; }, [\r\n                triggerMutation,\r\n                currentState\r\n            ]);\r\n        };\r\n    }\r\n}\r\n// src/query/endpointDefinitions.ts\r\nvar DefinitionType;\r\n(function (DefinitionType2) {\r\n    DefinitionType2[\"query\"] = \"query\";\r\n    DefinitionType2[\"mutation\"] = \"mutation\";\r\n})(DefinitionType || (DefinitionType = {}));\r\nfunction isQueryDefinition(e) {\r\n    return e.type === DefinitionType.query;\r\n}\r\nfunction isMutationDefinition(e) {\r\n    return e.type === DefinitionType.mutation;\r\n}\r\n// src/query/utils/capitalize.ts\r\nfunction capitalize(str) {\r\n    return str.replace(str[0], str[0].toUpperCase());\r\n}\r\n// src/query/tsHelpers.ts\r\nfunction safeAssign(target) {\r\n    var args = [];\r\n    for (var _i = 1; _i < arguments.length; _i++) {\r\n        args[_i - 1] = arguments[_i];\r\n    }\r\n    Object.assign.apply(Object, __spreadArray([target], args));\r\n}\r\n// src/query/react/module.ts\r\nvar import_react_redux3 = __toModule(require(\"react-redux\"));\r\nvar reactHooksModuleName = /* @__PURE__ */ Symbol();\r\nvar reactHooksModule = function (_c) {\r\n    var _d = _c === void 0 ? {} : _c, _e = _d.batch, batch = _e === void 0 ? import_react_redux3.batch : _e, _f = _d.useDispatch, useDispatch = _f === void 0 ? import_react_redux3.useDispatch : _f, _g = _d.useSelector, useSelector = _g === void 0 ? import_react_redux3.useSelector : _g, _h = _d.useStore, useStore = _h === void 0 ? import_react_redux3.useStore : _h;\r\n    return ({\r\n        name: reactHooksModuleName,\r\n        init: function (api, options, context) {\r\n            var anyApi = api;\r\n            var _c = buildHooks({\r\n                api: api,\r\n                moduleOptions: { batch: batch, useDispatch: useDispatch, useSelector: useSelector, useStore: useStore }\r\n            }), buildQueryHooks = _c.buildQueryHooks, buildMutationHook = _c.buildMutationHook, usePrefetch = _c.usePrefetch;\r\n            safeAssign(anyApi, { usePrefetch: usePrefetch });\r\n            safeAssign(context, { batch: batch });\r\n            return {\r\n                injectEndpoint: function (endpointName, definition) {\r\n                    if (isQueryDefinition(definition)) {\r\n                        var _c = buildQueryHooks(endpointName), useQuery = _c.useQuery, useLazyQuery = _c.useLazyQuery, useLazyQuerySubscription = _c.useLazyQuerySubscription, useQueryState = _c.useQueryState, useQuerySubscription = _c.useQuerySubscription;\r\n                        safeAssign(anyApi.endpoints[endpointName], {\r\n                            useQuery: useQuery,\r\n                            useLazyQuery: useLazyQuery,\r\n                            useLazyQuerySubscription: useLazyQuerySubscription,\r\n                            useQueryState: useQueryState,\r\n                            useQuerySubscription: useQuerySubscription\r\n                        });\r\n                        api[\"use\" + capitalize(endpointName) + \"Query\"] = useQuery;\r\n                        api[\"useLazy\" + capitalize(endpointName) + \"Query\"] = useLazyQuery;\r\n                    }\r\n                    else if (isMutationDefinition(definition)) {\r\n                        var useMutation = buildMutationHook(endpointName);\r\n                        safeAssign(anyApi.endpoints[endpointName], {\r\n                            useMutation: useMutation\r\n                        });\r\n                        api[\"use\" + capitalize(endpointName) + \"Mutation\"] = useMutation;\r\n                    }\r\n                }\r\n            };\r\n        }\r\n    });\r\n};\r\n// src/query/react/index.ts\r\n__reExport(exports, __toModule(require(\"@reduxjs/toolkit/query\")));\r\n// src/query/react/ApiProvider.tsx\r\nvar import_toolkit2 = __toModule(require(\"@reduxjs/toolkit\"));\r\nvar import_react3 = __toModule(require(\"react\"));\r\nvar import_react_redux4 = __toModule(require(\"react-redux\"));\r\nvar import_query2 = __toModule(require(\"@reduxjs/toolkit/query\"));\r\nfunction ApiProvider(props) {\r\n    var store = import_react3.default.useState(function () {\r\n        var _c;\r\n        return (0, import_toolkit2.configureStore)({\r\n            reducer: (_c = {},\r\n                _c[props.api.reducerPath] = props.api.reducer,\r\n                _c),\r\n            middleware: function (gDM) { return gDM().concat(props.api.middleware); }\r\n        });\r\n    })[0];\r\n    (0, import_query2.setupListeners)(store.dispatch, props.setupListeners);\r\n    return /* @__PURE__ */ import_react3.default.createElement(import_react_redux4.Provider, {\r\n        store: store,\r\n        context: props.context\r\n    }, props.children);\r\n}\r\n// src/query/react/index.ts\r\nvar createApi = /* @__PURE__ */ (0, import_query3.buildCreateApi)((0, import_query3.coreModule)(), reactHooksModule());\r\n//# sourceMappingURL=module.js.map"]},"metadata":{},"sourceType":"script"}