{"ast":null,"code":"import _slicedToArray from\"/Users/akrah/Documents/dev/readux/src/codefluent/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{SectionContent}from'./Section';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var Curriculum=function Curriculum(_ref){var sections=_ref.sections;var _useState=useState(),_useState2=_slicedToArray(_useState,2),lectures=_useState2[0],setLectures=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),hours=_useState4[0],setHours=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),minutes=_useState6[0],setMinutes=_useState6[1];useEffect(function(){if(sections){var _lectures=sections.flatMap(function(lec){return lec.lectures;});setLectures(_lectures);var sum=_lectures===null||_lectures===void 0?void 0:_lectures.reduce(function(acc,curr){return acc+curr.duration;},0);if(sum){var _hours=Math.floor(sum/3600);var _minutes=Math.floor((sum-_hours*3600)/60);setMinutes(_minutes);setHours(_hours);}}},[sections]);return/*#__PURE__*/_jsx(\"div\",{className:\"course-landing-page__main-content component-margin\",children:/*#__PURE__*/_jsx(\"div\",{className:\"clp-component-render\",children:/*#__PURE__*/_jsx(\"div\",{className:\"clp-component-render\",children:/*#__PURE__*/_jsx(\"div\",{className:\"ud-component--course-landing-page-udlite--curriculum\",children:/*#__PURE__*/_jsxs(\"div\",{\"data-purpose\":\"course-curriculum\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"udlite-heading-xl curriculum--header--1d_Nv\",\"data-purpose\":\"curriculum-header\",children:\"Course content\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"curriculum--sub-header--23ncD\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"udlite-text-sm\",\"data-purpose\":\"curriculum-stats\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"curriculum--content-length--1XzLS\",children:[sections===null||sections===void 0?void 0:sections.length,\" sections\",\" \\u2022 \",lectures===null||lectures===void 0?void 0:lectures.length,\" lectures\",\" \\u2022\",\" \",/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsxs(\"span\",{children:[hours,\"h\\xA0\",minutes,\"m\"]}),\" total length\"]})]})}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",\"data-purpose\":\"expand-toggle\",className:\"udlite-btn udlite-btn-medium udlite-btn-ghost udlite-heading-sm\",children:/*#__PURE__*/_jsx(\"span\",{children:\"Expand all sections\"})})]}),/*#__PURE__*/_jsx(\"div\",{children:sections===null||sections===void 0?void 0:sections.map(function(section){return/*#__PURE__*/_jsx(SectionContent,{section:section},section.id);})}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"udlite-btn udlite-btn-medium udlite-btn-secondary udlite-heading-sm curriculum--show-more--2tshH\",\"data-purpose\":\"show-more\",children:/*#__PURE__*/_jsx(\"span\",{children:\"24 more sections\"})})]})})})})});};","map":{"version":3,"sources":["/Users/akrah/Documents/dev/readux/src/codefluent/src/portal/scenes/Courses/Curriculum/index.tsx"],"names":["React","useEffect","useState","SectionContent","Curriculum","sections","lectures","setLectures","hours","setHours","minutes","setMinutes","flatMap","lec","sum","reduce","acc","curr","duration","Math","floor","length","map","section","id"],"mappings":"uKAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CAEA,OAASC,cAAT,KAA+B,WAA/B,C,wFAIA,MAAO,IAAMC,CAAAA,UAAqC,CAAG,QAAxCA,CAAAA,UAAwC,MAAkB,IAAfC,CAAAA,QAAe,MAAfA,QAAe,eACnCH,QAAQ,EAD2B,wCAC7DI,QAD6D,eACnDC,WADmD,8BAEzCL,QAAQ,CAAC,CAAD,CAFiC,yCAE7DM,KAF6D,eAEtDC,QAFsD,8BAGrCP,QAAQ,CAAC,CAAD,CAH6B,yCAG7DQ,OAH6D,eAGpDC,UAHoD,eAMrEV,SAAS,CAAC,UAAM,CACb,GAAGI,QAAH,CAAa,CACZ,GAAMC,CAAAA,SAAQ,CAAGD,QAAQ,CAACO,OAAT,CAAiB,SAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACP,QAAR,EAApB,CAAjB,CAEAC,WAAW,CAACD,SAAD,CAAX,CACA,GAAMQ,CAAAA,GAAG,CAAGR,SAAH,SAAGA,SAAH,iBAAGA,SAAQ,CAAES,MAAV,CAAiB,SAACC,GAAD,CAAMC,IAAN,QAAeD,CAAAA,GAAG,CAAGC,IAAI,CAACC,QAA1B,EAAjB,CAAqD,CAArD,CAAZ,CACA,GAAGJ,GAAH,CAAQ,CACN,GAAMN,CAAAA,MAAK,CAAGW,IAAI,CAACC,KAAL,CAAWN,GAAG,CAAG,IAAjB,CAAd,CACA,GAAMJ,CAAAA,QAAO,CAAGS,IAAI,CAACC,KAAL,CAAW,CAACN,GAAG,CAAGN,MAAK,CAAC,IAAb,EAAqB,EAAhC,CAAhB,CACAG,UAAU,CAACD,QAAD,CAAV,CACAD,QAAQ,CAACD,MAAD,CAAR,CACD,CAED,CACH,CAdQ,CAcN,CAACH,QAAD,CAdM,CAAT,CAgBA,mBACE,YACE,SAAS,CAAC,oDADZ,uBAIE,YAAK,SAAS,CAAC,sBAAf,uBACE,YAAK,SAAS,CAAC,sBAAf,uBACE,YACE,SAAS,CAAC,sDADZ,uBAIE,aAAK,eAAa,mBAAlB,wBACE,WACE,SAAS,CAAC,6CADZ,CAEE,eAAa,mBAFf,4BADF,cAOE,aAAK,SAAS,CAAC,+BAAf,wBACE,YAAK,SAAS,CAAC,gBAAf,CAAgC,eAAa,kBAA7C,uBACE,cAAM,SAAS,CAAC,mCAAhB,WACGA,QADH,SACGA,QADH,iBACGA,QAAQ,CAAEgB,MADb,wBAC+Cf,QAD/C,SAC+CA,QAD/C,iBAC+CA,QAAQ,CAAEe,MADzD,uBACmF,GADnF,cAEE,qCACE,wBAAOb,KAAP,SAAqBE,OAArB,OADF,mBAFF,GADF,EADF,cASE,eACE,IAAI,CAAC,QADP,CAEE,eAAa,eAFf,CAGE,SAAS,CAAC,iEAHZ,uBAKE,6CALF,EATF,GAPF,cAwBE,qBACIL,QADJ,SACIA,QADJ,iBACIA,QAAQ,CAAEiB,GAAV,CAAc,SAAAC,OAAO,qBAAI,KAAC,cAAD,EAAiC,OAAO,CAAEA,OAA1C,EAAqBA,OAAO,CAACC,EAA7B,CAAJ,EAArB,CADJ,EAxBF,cA2BE,eACE,IAAI,CAAC,QADP,CAEE,SAAS,CAAC,kGAFZ,CAGE,eAAa,WAHf,uBAKE,0CALF,EA3BF,GAJF,EADF,EADF,EAJF,EADF,CAmDD,CAzEM","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Lecture, Section } from \"services/courses\";\nimport { SectionContent } from './Section'\ntype CurriculumProps = {\n  sections: Section[]\n}\nexport const Curriculum: React.FC<CurriculumProps> = ({ sections }) => {\n  const [ lectures, setLectures ] = useState<Lecture[]>()\n  const [ hours, setHours ] = useState(0)\n  const [ minutes, setMinutes ] = useState(0)\n\n\n  useEffect(() => {\n     if(sections) {\n      const lectures = sections.flatMap(lec => lec.lectures)\n     \n      setLectures(lectures)\n      const sum = lectures?.reduce((acc, curr) => acc + curr.duration, 0)\n      if(sum) {\n        const hours = Math.floor(sum / 3600)\n        const minutes = Math.floor((sum - hours*3600) / 60)\n        setMinutes(minutes)\n        setHours(hours)\n      }\n   \n     }\n  }, [sections])\n\n  return (\n    <div\n      className=\"course-landing-page__main-content component-margin\"\n     \n    >\n      <div className=\"clp-component-render\">\n        <div className=\"clp-component-render\">\n          <div\n            className=\"ud-component--course-landing-page-udlite--curriculum\"\n            \n          >\n            <div data-purpose=\"course-curriculum\">\n              <h2\n                className=\"udlite-heading-xl curriculum--header--1d_Nv\"\n                data-purpose=\"curriculum-header\"\n              >\n                Course content\n              </h2>\n              <div className=\"curriculum--sub-header--23ncD\">\n                <div className=\"udlite-text-sm\" data-purpose=\"curriculum-stats\">\n                  <span className=\"curriculum--content-length--1XzLS\">\n                    {sections?.length} sections{/* */} • {/* */}{lectures?.length} lectures{/* */} •{\" \"}\n                    <span>\n                      <span>{hours}h&nbsp;{minutes}m</span> total length\n                    </span>\n                  </span>\n                </div>\n                <button\n                  type=\"button\"\n                  data-purpose=\"expand-toggle\"\n                  className=\"udlite-btn udlite-btn-medium udlite-btn-ghost udlite-heading-sm\"\n                >\n                  <span>Expand all sections</span>\n                </button>\n              </div>\n              <div>\n                { sections?.map(section => <SectionContent key={section.id} section={section} /> )}\n              </div>\n              <button\n                type=\"button\"\n                className=\"udlite-btn udlite-btn-medium udlite-btn-secondary udlite-heading-sm curriculum--show-more--2tshH\"\n                data-purpose=\"show-more\"\n              >\n                <span>24 more sections</span>\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}