{"ast":null,"code":"import _slicedToArray from\"/Users/akrah/Documents/dev/codefluent/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"/Users/akrah/Documents/dev/codefluent/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject,_templateObject2;import{theme}from'@codecademy/gamut-styles';import styled from'@emotion/styled';import React,{Children,useState}from'react';import{PageSection}from'..';import{jsx as _jsx}from\"react/jsx-runtime\";var UnstyledUnorderedList=styled.ul(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  list-style: none;\\n  padding: 0;\\n  margin: 0;\\n\"])));var StyledListItem=styled.li(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  &:not(:last-child) {\\n    margin-bottom: \",\";\\n  }\\n\"])),theme.spacing[24]);export var ListSection=function ListSection(_ref){var title=_ref.title,headerButton=_ref.headerButton,headerSecondaryButton=_ref.headerSecondaryButton,_ref$initialDisplayAm=_ref.initialDisplayAmount,initialDisplayAmount=_ref$initialDisplayAm===void 0?3:_ref$initialDisplayAm,onShowAllOrLessClick=_ref.onShowAllOrLessClick,children=_ref.children;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showAll=_useState2[0],setShowAll=_useState2[1];var handleShowAll=function handleShowAll(){onShowAllOrLessClick===null||onShowAllOrLessClick===void 0?void 0:onShowAllOrLessClick(!showAll);setShowAll(!showAll);};var renderListItems=function renderListItems(){var listItems=Children.map(children,function(child){return/*#__PURE__*/_jsx(StyledListItem,{children:child});});if(!listItems)return null;if(showAll)return listItems;return listItems.slice(0,initialDisplayAmount);};var renderFooterButton=function renderFooterButton(){if(Children.toArray(children).length<=initialDisplayAmount)return null;var buttonText=\"Show \".concat(showAll?'Less':'All');return{text:buttonText,onClick:handleShowAll,'aria-label':\"\".concat(buttonText,\", \").concat(title)};};return/*#__PURE__*/_jsx(PageSection,{title:title,footerButton:renderFooterButton(),headerButton:headerButton,headerSecondaryButton:headerSecondaryButton,children:/*#__PURE__*/_jsx(UnstyledUnorderedList,{\"aria-label\":title,\"aria-live\":\"polite\",children:renderListItems()})});};","map":{"version":3,"sources":["/Users/akrah/Documents/dev/codefluent/src/components/gamut-overrides/ListSection/index.tsx"],"names":["theme","styled","React","Children","useState","PageSection","UnstyledUnorderedList","ul","StyledListItem","li","spacing","ListSection","title","headerButton","headerSecondaryButton","initialDisplayAmount","onShowAllOrLessClick","children","showAll","setShowAll","handleShowAll","renderListItems","listItems","map","child","slice","renderFooterButton","toArray","length","buttonText","text","onClick"],"mappings":"6WAAA,OAASA,KAAT,KAAsB,0BAAtB,CACA,MAAOC,CAAAA,MAAP,KAAmB,iBAAnB,CACA,MAAOC,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,QAA1B,KAA0C,OAA1C,CAEA,OAASC,WAAT,KAA2C,IAA3C,C,2CAqBA,GAAMC,CAAAA,qBAAqB,CAAGL,MAAM,CAACM,EAAV,qHAA3B,CAMA,GAAMC,CAAAA,cAAc,CAAGP,MAAM,CAACQ,EAAV,2HAECT,KAAK,CAACU,OAAN,CAAc,EAAd,CAFD,CAApB,CAMA,MAAO,IAAMC,CAAAA,WAAuC,CAAG,QAA1CA,CAAAA,WAA0C,MAOjD,IANJC,CAAAA,KAMI,MANJA,KAMI,CALJC,YAKI,MALJA,YAKI,CAJJC,qBAII,MAJJA,qBAII,4BAHJC,oBAGI,CAHJA,oBAGI,gCAHmB,CAGnB,uBAFJC,oBAEI,MAFJA,oBAEI,CADJC,QACI,MADJA,QACI,eAC0Bb,QAAQ,CAAC,KAAD,CADlC,wCACGc,OADH,eACYC,UADZ,eAGJ,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,EAAM,CAC1BJ,oBAAoB,OAApB,EAAAA,oBAAoB,SAApB,QAAAA,oBAAoB,CAAG,CAACE,OAAJ,CAApB,CACAC,UAAU,CAAC,CAACD,OAAF,CAAV,CACD,CAHD,CAKA,GAAMG,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,EAAM,CAC5B,GAAMC,CAAAA,SAAS,CAAGnB,QAAQ,CAACoB,GAAT,CAAaN,QAAb,CAAuB,SAACO,KAAD,qBACvC,KAAC,cAAD,WAAiBA,KAAjB,EADuC,EAAvB,CAAlB,CAIA,GAAI,CAACF,SAAL,CAAgB,MAAO,KAAP,CAChB,GAAIJ,OAAJ,CAAa,MAAOI,CAAAA,SAAP,CACb,MAAOA,CAAAA,SAAS,CAACG,KAAV,CAAgB,CAAhB,CAAmBV,oBAAnB,CAAP,CACD,CARD,CAUA,GAAMW,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,EAAM,CAC/B,GAAIvB,QAAQ,CAACwB,OAAT,CAAiBV,QAAjB,EAA2BW,MAA3B,EAAqCb,oBAAzC,CAA+D,MAAO,KAAP,CAC/D,GAAMc,CAAAA,UAAU,gBAAWX,OAAO,CAAG,MAAH,CAAY,KAA9B,CAAhB,CACA,MAAO,CACLY,IAAI,CAAED,UADD,CAELE,OAAO,CAAEX,aAFJ,CAGL,uBAAiBS,UAAjB,cAAgCjB,KAAhC,CAHK,CAAP,CAKD,CARD,CAUA,mBACE,KAAC,WAAD,EACE,KAAK,CAAEA,KADT,CAEE,YAAY,CAAEc,kBAAkB,EAFlC,CAGE,YAAY,CAAEb,YAHhB,CAIE,qBAAqB,CAAEC,qBAJzB,uBAME,KAAC,qBAAD,EAAuB,aAAYF,KAAnC,CAA0C,YAAU,QAApD,UACGS,eAAe,EADlB,EANF,EADF,CAYD,CA/CM","sourcesContent":["import { theme } from '@codecademy/gamut-styles';\nimport styled from '@emotion/styled';\nimport React, { Children, useState } from 'react';\n\nimport { PageSection, SectionButton } from '..';\n\nexport type ListSectionProps = {\n  title: string;\n  headerButton?: SectionButton;\n  headerSecondaryButton?: SectionButton;\n  /**\n   * Number of items to be initally displayed\n   *\n   * @remarks\n   * If the initial display amount matches the number of list items, Show All button will not appear.\n   */\n  initialDisplayAmount?: number;\n\n  /**\n   * Optional callback function that will be called when the user clicks the \"Show All\" / \"Show less\" button.\n   * This is usually used for things like metrics tracking.\n   */\n  onShowAllOrLessClick?: (showAll: boolean) => void;\n};\n\nconst UnstyledUnorderedList = styled.ul`\n  list-style: none;\n  padding: 0;\n  margin: 0;\n`;\n\nconst StyledListItem = styled.li`\n  &:not(:last-child) {\n    margin-bottom: ${theme.spacing[24]};\n  }\n`;\n\nexport const ListSection: React.FC<ListSectionProps> = ({\n  title,\n  headerButton,\n  headerSecondaryButton,\n  initialDisplayAmount = 3,\n  onShowAllOrLessClick,\n  children,\n}) => {\n  const [showAll, setShowAll] = useState(false);\n\n  const handleShowAll = () => {\n    onShowAllOrLessClick?.(!showAll);\n    setShowAll(!showAll);\n  };\n\n  const renderListItems = () => {\n    const listItems = Children.map(children, (child) => (\n      <StyledListItem>{child}</StyledListItem>\n    ));\n\n    if (!listItems) return null;\n    if (showAll) return listItems;\n    return listItems.slice(0, initialDisplayAmount);\n  };\n\n  const renderFooterButton = () => {\n    if (Children.toArray(children).length <= initialDisplayAmount) return null;\n    const buttonText = `Show ${showAll ? 'Less' : 'All'}`;\n    return {\n      text: buttonText,\n      onClick: handleShowAll,\n      'aria-label': `${buttonText}, ${title}`,\n    };\n  };\n\n  return (\n    <PageSection\n      title={title}\n      footerButton={renderFooterButton()}\n      headerButton={headerButton}\n      headerSecondaryButton={headerSecondaryButton}\n    >\n      <UnstyledUnorderedList aria-label={title} aria-live=\"polite\">\n        {renderListItems()}\n      </UnstyledUnorderedList>\n    </PageSection>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}