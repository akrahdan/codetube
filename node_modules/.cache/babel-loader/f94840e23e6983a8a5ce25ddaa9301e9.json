{"ast":null,"code":"import _regeneratorRuntime from\"/Users/akrah/Documents/dev/readux/src/codefluent/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/akrah/Documents/dev/readux/src/codefluent/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/akrah/Documents/dev/readux/src/codefluent/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _defineProperty from\"/Users/akrah/Documents/dev/readux/src/codefluent/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";var _routesMeta;import'./course.scss';import{getRouteComponent}from'./getRouteComponent';import{CATEGORY,CHOICE,DESCRIPTION,TITLE}from'./routes';import ProjectCategory from'./Category';import ProjectTitle from'./Title';import ProjectDescription from'./Description';import logo from\"static/images/brand/logo/codefluent.svg\";import{useState}from'react';import{useHistory}from'react-router';import classNames from'classnames';import{useCreateProjectMutation}from'services/projects';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var routesMeta=(_routesMeta={},_defineProperty(_routesMeta,\"\".concat(CATEGORY),{scene:ProjectCategory,pageName:undefined}),_defineProperty(_routesMeta,\"\".concat(TITLE),{scene:ProjectTitle,pageName:undefined}),_defineProperty(_routesMeta,\"\".concat(DESCRIPTION),{scene:ProjectDescription,pageName:undefined}),_routesMeta);var initialState={title:'',description:'',category:''};export var CreateProject=function CreateProject(props){var _useState=useState('title'),_useState2=_slicedToArray(_useState,2),locationType=_useState2[0],setLocationType=_useState2[1];var _useCreateProjectMuta=useCreateProjectMutation(),_useCreateProjectMuta2=_slicedToArray(_useCreateProjectMuta,1),createProject=_useCreateProjectMuta2[0];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),value=_useState4[0],setValue=_useState4[1];var _useState5=useState(25),_useState6=_slicedToArray(_useState5,2),width=_useState6[0],setWidth=_useState6[1];var _useState7=useState(1),_useState8=_slicedToArray(_useState7,2),step=_useState8[0],setStep=_useState8[1];var _useState9=useState(null),_useState10=_slicedToArray(_useState9,2),projectId=_useState10[0],setProjectId=_useState10[1];var _useState11=useState(),_useState12=_slicedToArray(_useState11,2),project=_useState12[0],setProject=_useState12[1];var _useHistory=useHistory(),push=_useHistory.push;var headings=[TITLE,CATEGORY,DESCRIPTION];var handleCreateProject=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(projectRequest){var result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return createProject(projectRequest).unwrap();case 3:result=_context.sent;if(result){setProjectId(result.id);window.location.replace(\"/instructor/project/\".concat(result.id,\"/manage/goals\"));}console.log('Project: ',result);_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.log(\"Error:\",_context.t0);case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return function handleCreateProject(_x){return _ref.apply(this,arguments);};}();var _getRouteComponent=getRouteComponent(routesMeta,locationType),Scene=_getRouteComponent.scene;return/*#__PURE__*/_jsx(\"div\",{className:\"full-page-takeover--window--1ei3d\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"full-page-takeover--page--2QirY\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"full-page-takeover--header--2mfbT\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"full-page-takeover--logo-block--1Op9u\",children:/*#__PURE__*/_jsx(\"img\",{className:\"udemy-logo full-page-takeover--rebrand-logo--36Lru\",alt:\"codefluent\",width:91,height:34,src:logo})}),/*#__PURE__*/_jsx(\"div\",{className:\"full-page-takeover--header-divider--3XSTc\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"full-page-takeover--header-text-block--1PdFS\",\"data-purpose\":\"header-text\",children:[\"Step \",step,\" of 3\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"full-page-takeover--header-buttons--1lu2t\",children:/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){window.location.replace('/');},type:\"button\",className:\"btn btn-tertiary\",children:\"Exit\"})})]}),/*#__PURE__*/_jsx(\"div\",{\"data-purpose\":\"header-bottom\",className:\"full-page-takeover--header-bottom--progress--2Hfvp\",children:/*#__PURE__*/_jsx(\"div\",{className:\"full-page-takeover--header-bottom--progress-highlight--1Pr6t\",style:{width:\"\".concat(width,\"%\")}})})]}),/*#__PURE__*/_jsx(Scene,{project:project,handleChange:function handleChange(v){return setValue(v);},updateProject:setProject}),/*#__PURE__*/_jsx(\"div\",{\"data-purpose\":\"footer\",className:\"full-page-takeover--footer--2wFgA\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-xxs-6 full-page-takeover--button-container--1rnpO\",children:/*#__PURE__*/_jsx(\"div\",{className:\"udlite-in-udheavy\",children:locationType!=CHOICE&&/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){var heading=headings[step-1];var wd=(step-1)*100/headings.length;setWidth(wd);setStep(step-1);setLocationType(heading);},type:\"button\",\"data-purpose\":\"left-button\",className:\"udlite-btn udlite-btn-large udlite-btn-ghost udlite-heading-md udlite-link-neutral full-page-takeover--left-button--3-75z\",children:/*#__PURE__*/_jsx(\"span\",{children:\"Previous\"})})})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-xxs-6 full-page-takeover--button-container--1rnpO\",children:/*#__PURE__*/_jsx(\"div\",{className:\"udlite-in-udheavy\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:function onClick(){if(step>=headings.length){handleCreateProject(project);}else{var heading=headings[step];var wd=(step+1)*100/headings.length;setWidth(wd);setStep(step+1);setLocationType(heading);setValue('');}},className:classNames(\"udlite-btn udlite-btn-large udlite-btn-primary udlite-heading-md full-page-takeover--right-button--i1q_g\",{'udlite-btn-disabled':project&&!project[locationType]&&!value}),disabled:project&&!project[locationType]&&!value,tabIndex:-1,children:/*#__PURE__*/_jsx(\"span\",{children:locationType==DESCRIPTION?'Create Project':' Continue'})})})})]})})})]})});};export default CreateProject;","map":{"version":3,"sources":["/Users/akrah/Documents/dev/readux/src/codefluent/src/portal/scenes/Instructor/Projects/createProject.tsx"],"names":["getRouteComponent","CATEGORY","CHOICE","DESCRIPTION","TITLE","ProjectCategory","ProjectTitle","ProjectDescription","useState","useHistory","classNames","useCreateProjectMutation","routesMeta","scene","pageName","undefined","initialState","title","description","category","CreateProject","props","locationType","setLocationType","createProject","value","setValue","width","setWidth","step","setStep","projectId","setProjectId","project","setProject","push","headings","handleCreateProject","projectRequest","unwrap","result","id","window","location","replace","console","log","Scene","logo","v","heading","wd","length"],"mappings":"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","sourcesContent":["import './course.scss';\nimport { RouteMeta } from 'libs/location/routing';\nimport { getRouteComponent } from './getRouteComponent';\nimport { CATEGORY, CHOICE, DESCRIPTION, TITLE } from './routes';\n\nimport ProjectCategory from './Category';\nimport ProjectTitle from './Title';\nimport ProjectDescription from './Description';\n\nimport logo from 'static/images/brand/logo/codefluent.svg';\nimport { useEffect, useState } from 'react';\n\n\nimport { useHistory } from 'react-router';\n\nimport classNames from 'classnames';\n\nimport { ProjectEntityResponse } from 'services/projects';\n\nimport {useCreateProjectMutation  } from 'services/projects'\nexport const routesMeta: Record<string, RouteMeta> = {\n\n  [`${CATEGORY}`]: {\n    scene: ProjectCategory,\n    pageName: undefined,\n  },\n\n  [`${TITLE}`]: {\n    scene: ProjectTitle,\n    pageName: undefined,\n  },\n\n  [`${DESCRIPTION}`]: {\n    scene: ProjectDescription,\n    pageName: undefined,\n  },\n\n\n\n\n\n}\nconst initialState = {\n  title: '',\n  description: '',\n  category: ''\n}\nexport const CreateProject = (props) => {\n  const [locationType, setLocationType] = useState('title')\n  \n  const [ createProject ] = useCreateProjectMutation()\n  const [value, setValue] = useState('');\n  const [width, setWidth] = useState(25)\n  const [step, setStep] = useState(1)\n\n  const [projectId, setProjectId]= useState(null);\n  const [ project, setProject ] = useState<Partial<ProjectEntityResponse>>()\n\n  const { push } = useHistory()\n  const headings = [ TITLE, CATEGORY, DESCRIPTION,]\n\n\n  const handleCreateProject = async (projectRequest: Partial<ProjectEntityResponse>) => {\n    try {\n     \n      const result = await createProject(projectRequest).unwrap()\n      if (result) {\n        setProjectId(result.id)\n        window.location.replace(`/instructor/project/${result.id}/manage/goals`)\n      }\n      console.log('Project: ', result)\n    }\n    catch (error) {\n      console.log(\"Error:\", error)\n    }\n\n  } \n\n  const { scene: Scene } = getRouteComponent(routesMeta, locationType)\n \n  return (\n    <div className=\"full-page-takeover--window--1ei3d\">\n      <div className=\"full-page-takeover--page--2QirY\" >\n        <div>\n          \n          <div className=\"full-page-takeover--header--2mfbT\">\n            <div className=\"full-page-takeover--logo-block--1Op9u\">\n              <img\n                className=\"udemy-logo full-page-takeover--rebrand-logo--36Lru\"\n                alt=\"codefluent\"\n                width={91}\n                height={34}\n\n                src={logo}\n              />\n            </div>\n            <div className=\"full-page-takeover--header-divider--3XSTc\" />\n            <div\n              className=\"full-page-takeover--header-text-block--1PdFS\"\n              data-purpose=\"header-text\"\n            >\n              Step {step} of 3\n            </div>\n            <div className=\"full-page-takeover--header-buttons--1lu2t\">\n              <button\n                onClick={() => {\n                  window.location.replace('/')\n                }}\n                type=\"button\"\n                className=\"btn btn-tertiary\"\n              >\n                Exit\n              </button>\n            </div>\n          </div>\n          <div\n            data-purpose=\"header-bottom\"\n            className=\"full-page-takeover--header-bottom--progress--2Hfvp\"\n          >\n            <div\n              className=\"full-page-takeover--header-bottom--progress-highlight--1Pr6t\"\n              style={{ width: `${width}%` }}\n            />\n          </div>\n        </div>\n        <Scene project={project} handleChange={(v) => setValue(v)\n        }\n          updateProject={setProject} />\n        <div data-purpose=\"footer\" className=\"full-page-takeover--footer--2wFgA\">\n          <div className=\"container\">\n            <div className=\"row\">\n              <div className=\"col-xxs-6 full-page-takeover--button-container--1rnpO\">\n                <div className=\"udlite-in-udheavy\">\n                  {(locationType != CHOICE) && <button\n                    onClick={() => {\n                      const heading = headings[step - 1]\n                      const wd = ((step - 1) * 100 / (headings.length))\n                      setWidth(wd);\n                      setStep(step - 1)\n                      setLocationType(heading)\n\n                    }}\n                    type=\"button\"\n                    data-purpose=\"left-button\"\n                    className=\"udlite-btn udlite-btn-large udlite-btn-ghost udlite-heading-md udlite-link-neutral full-page-takeover--left-button--3-75z\"\n                  >\n                    <span>Previous</span>\n                  </button>}\n                </div>\n              </div>\n              <div className=\"col-xxs-6 full-page-takeover--button-container--1rnpO\">\n                <div className=\"udlite-in-udheavy\">\n                  <button\n                    type=\"button\"\n                    onClick={() => {\n                      if (step >= headings.length) {\n                        handleCreateProject(project)\n                      } else {\n                        const heading = headings[step]\n                        const wd = ((step + 1) * 100 / (headings.length))\n                        setWidth(wd);\n                        setStep(step + 1)\n                        setLocationType(heading)\n                        setValue('')\n                      }\n                    }}\n\n                    className={classNames(\"udlite-btn udlite-btn-large udlite-btn-primary udlite-heading-md full-page-takeover--right-button--i1q_g\", {\n                      'udlite-btn-disabled': project && !project[locationType] && !value\n                    })}\n                    disabled={ project && !project[locationType] && !value}\n                    tabIndex={-1}\n                  >\n                    <span>{locationType == DESCRIPTION ? 'Create Project' : ' Continue'}</span>\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default CreateProject;\n"]},"metadata":{},"sourceType":"module"}