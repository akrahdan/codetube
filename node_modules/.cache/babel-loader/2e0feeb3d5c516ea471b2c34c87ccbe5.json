{"ast":null,"code":"import _taggedTemplateLiteral from\"/Users/akrah/Documents/dev/codefluent/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject,_templateObject2;import{MiniDeleteIcon}from'@codecademy/gamut-icons';import{Bell,ChatBox,EmailAt,Envelope,Heart,Megaphone,New}from'@codecademy/gamut-illustrations';import{colors}from'@codecademy/gamut-styles';import styled from'@emotion/styled';import React from'react';import{Box,FlexBox,IconButton,Pattern,Text}from'..';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var StyledLink=styled.a(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  text-decoration: none;\\n  display: block;\\n  z-index: 1;\\n\\n  &:before,\\n  &:after {\\n    top: -1px;\\n    left: 0;\\n    z-index: 0;\\n    content: '';\\n    position: absolute;\\n    width: 100%;\\n    height: calc(100% + 2px);\\n    transition: background 250ms;\\n  }\\n  &:focus {\\n    outline: none;\\n  }\\n  &:focus-visible {\\n    &:after {\\n      border-radius: 4px;\\n      border: 2px solid \",\";\\n    }\\n  }\\n  &:hover {\\n    text-decoration: none;\\n    &:before {\\n      background-color: \",\";\\n    }\\n  }\\n\"])),function(_ref){var theme=_ref.theme;return theme.colors.navy;},function(_ref2){var theme=_ref2.theme;return theme.colors['gray-100'];});var StyledImg=styled.img(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  border-radius: 50%;\\n  border: 1px solid \",\";\\n  height: 3rem;\\n  width: 3rem;\\n\"])),function(_ref3){var theme=_ref3.theme;return theme.colors.navy;});var isInternalLink=function isInternalLink(href){try{return new URL(href).hostname===window.location.hostname;}catch(e){}return false;};export var NotificationItem=function NotificationItem(_ref4){var handleDismiss=_ref4.handleDismiss,notification=_ref4.notification,handleClick=_ref4.handleClick;var date=notification.date,imageUrl=notification.imageUrl,link=notification.link,text=notification.text,type=notification.type,id=notification.id;var notificationItemId=\"NotificationItem\".concat(id);var renderIllustration=function renderIllustration(Illustration){return/*#__PURE__*/_jsx(Box,{display:\"inline-flex\",\"aria-hidden\":true,children:/*#__PURE__*/_jsx(Illustration,{height:48,width:48})});};var renderIcon=function renderIcon(){if(imageUrl)return/*#__PURE__*/_jsx(StyledImg,{src:imageUrl,alt:\"\"});switch(type){case'marketing_blast':return renderIllustration(Megaphone);case'curriculum_blast':return renderIllustration(New);case'forum_comment':return renderIllustration(ChatBox);case'forum_message':return renderIllustration(Envelope);case'forum_like':return renderIllustration(Heart);case'forum_mention':return renderIllustration(EmailAt);default:return renderIllustration(Bell);}};var notificationContent=/*#__PURE__*/_jsxs(FlexBox,{zIndex:1,position:\"relative\",textColor:\"text\",children:[renderIcon(),/*#__PURE__*/_jsxs(Box,{flex:1,pl:12,children:[/*#__PURE__*/_jsx(Text,{id:notificationItemId,variant:\"p-small\",children:text}),/*#__PURE__*/_jsx(Text,{variant:\"p-small\",textColor:\"gray-600\",ml:4,children:date})]})]});var dismissIcon=/*#__PURE__*/_jsx(IconButton,{icon:MiniDeleteIcon,color:colors.navy,onClick:handleDismiss,\"aria-label\":\"dismiss notification\",\"aria-describedby\":notificationItemId,size:\"small\",variant:\"secondary\",\"z-index\":1});var separatorPattern=/*#__PURE__*/_jsx(Box,{px:32,m:0,\"aria-hidden\":\"true\",children:/*#__PURE__*/_jsx(Pattern,{name:\"checkerDense\",height:\"1px\",display:\"flex\"})});return/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsxs(FlexBox,{py:24,px:32,alignItems:\"flex-start\",justifyContent:\"space-between\",position:\"relative\",children:[link?/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(StyledLink,{href:link,\"aria-label\":\"\".concat(text,\", \").concat(date,\" ago\"),rel:isInternalLink(link)?'':'noopener noreferrer',target:isInternalLink(link)?'':'_blank',onClick:function onClick(event){return handleClick===null||handleClick===void 0?void 0:handleClick(event);},children:notificationContent})}):/*#__PURE__*/_jsx(_Fragment,{children:notificationContent}),/*#__PURE__*/_jsx(FlexBox,{alignItems:\"flex-start\",zIndex:1,children:handleDismiss&&dismissIcon})]}),separatorPattern]});};","map":{"version":3,"sources":["/Users/akrah/Documents/dev/codefluent/src/components/overrides/NotificationList/NotificationItem.tsx"],"names":["MiniDeleteIcon","Bell","ChatBox","EmailAt","Envelope","Heart","Megaphone","New","colors","styled","React","Box","FlexBox","IconButton","Pattern","Text","StyledLink","a","theme","navy","StyledImg","img","isInternalLink","href","URL","hostname","window","location","e","NotificationItem","handleDismiss","notification","handleClick","date","imageUrl","link","text","type","id","notificationItemId","renderIllustration","Illustration","renderIcon","notificationContent","dismissIcon","separatorPattern","event"],"mappings":"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","sourcesContent":["import { MiniDeleteIcon } from '@codecademy/gamut-icons';\nimport {\n  Bell,\n  ChatBox,\n  EmailAt,\n  Envelope,\n  Heart,\n  IllustrationProps,\n  Megaphone,\n  New,\n} from '@codecademy/gamut-illustrations';\nimport { colors } from '@codecademy/gamut-styles';\nimport styled from '@emotion/styled';\nimport React, { ReactElement } from 'react';\n\nimport { Box, FlexBox, IconButton, Pattern, Text } from '..';\nimport { Notification } from './typings';\n\nconst StyledLink = styled.a`\n  text-decoration: none;\n  display: block;\n  z-index: 1;\n\n  &:before,\n  &:after {\n    top: -1px;\n    left: 0;\n    z-index: 0;\n    content: '';\n    position: absolute;\n    width: 100%;\n    height: calc(100% + 2px);\n    transition: background 250ms;\n  }\n  &:focus {\n    outline: none;\n  }\n  &:focus-visible {\n    &:after {\n      border-radius: 4px;\n      border: 2px solid ${({ theme }) => theme.colors.navy};\n    }\n  }\n  &:hover {\n    text-decoration: none;\n    &:before {\n      background-color: ${({ theme }) => theme.colors['gray-100']};\n    }\n  }\n`;\n\nconst StyledImg = styled.img`\n  border-radius: 50%;\n  border: 1px solid ${({ theme }) => theme.colors.navy};\n  height: 3rem;\n  width: 3rem;\n`;\n\nconst isInternalLink = (href: string) => {\n  try {\n    return new URL(href).hostname === window.location.hostname;\n  } catch (e) {}\n  return false;\n};\n\nexport type NotificationItemProps = {\n  notification: Notification;\n  handleClick?: (event: object) => void;\n  handleDismiss?: () => void;\n};\n\nexport const NotificationItem: React.FC<NotificationItemProps> = ({\n  handleDismiss,\n  notification,\n  handleClick,\n}) => {\n  const { date, imageUrl, link, text, type, id } = notification;\n  const notificationItemId = `NotificationItem${id}`;\n\n  const renderIllustration = (Illustration: React.FC<IllustrationProps>) => (\n    <Box display=\"inline-flex\" aria-hidden>\n      <Illustration height={48} width={48} />\n    </Box>\n  );\n\n  const renderIcon = () => {\n    if (imageUrl) return <StyledImg src={imageUrl} alt=\"\" />;\n\n    switch (type) {\n      case 'marketing_blast':\n        return renderIllustration(Megaphone);\n      case 'curriculum_blast':\n        return renderIllustration(New);\n      case 'forum_comment':\n        return renderIllustration(ChatBox);\n      case 'forum_message':\n        return renderIllustration(Envelope);\n      case 'forum_like':\n        return renderIllustration(Heart);\n      case 'forum_mention':\n        return renderIllustration(EmailAt);\n      default:\n        return renderIllustration(Bell);\n    }\n  };\n\n  const notificationContent: ReactElement = (\n    <FlexBox zIndex={1} position=\"relative\" textColor=\"text\">\n      {renderIcon()}\n      <Box flex={1} pl={12}>\n        <Text id={notificationItemId} variant=\"p-small\">\n          {text}\n        </Text>\n        <Text variant=\"p-small\" textColor=\"gray-600\" ml={4}>\n          {date}\n        </Text>\n      </Box>\n    </FlexBox>\n  );\n\n  const dismissIcon: ReactElement = (\n    <IconButton\n      icon={MiniDeleteIcon}\n      color={colors.navy}\n      onClick={handleDismiss}\n      aria-label=\"dismiss notification\"\n      aria-describedby={notificationItemId}\n      size=\"small\"\n      variant=\"secondary\"\n      z-index={1}\n    />\n  );\n\n  const separatorPattern = (\n    <Box px={32} m={0} aria-hidden=\"true\">\n      <Pattern name=\"checkerDense\" height=\"1px\" display=\"flex\" />\n    </Box>\n  );\n\n  return (\n    <li>\n      <FlexBox\n        py={24}\n        px={32}\n        alignItems=\"flex-start\"\n        justifyContent=\"space-between\"\n        position=\"relative\"\n      >\n        {link ? (\n          <>\n            <StyledLink\n              href={link}\n              aria-label={`${text}, ${date} ago`}\n              rel={isInternalLink(link) ? '' : 'noopener noreferrer'}\n              target={isInternalLink(link) ? '' : '_blank'}\n              onClick={(event) => handleClick?.(event)}\n            >\n              {notificationContent}\n            </StyledLink>\n          </>\n        ) : (\n          <>{notificationContent}</>\n        )}\n        <FlexBox alignItems=\"flex-start\" zIndex={1}>\n          {handleDismiss && dismissIcon}\n        </FlexBox>\n      </FlexBox>\n      {separatorPattern}\n    </li>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}