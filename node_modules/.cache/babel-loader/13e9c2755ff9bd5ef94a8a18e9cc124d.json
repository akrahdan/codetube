{"ast":null,"code":"import _slicedToArray from\"/Users/akrah/Documents/dev/readux/src/codefluent/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{ContentContainer,Video}from'@codecademy/gamut';import{isEmpty}from'lodash';import React,{useContext,useState}from'react';import{CardGrid}from'portal/components/CardGrid';import{CourseCard}from'components/CourseCard';// import { trackUserClick } from '~/libs/eventTracking';\nimport CMSContext from'portal/scenes/Paths/ContentfulContext';// import { selectUserJWT } from '~/state/currentUser/selectors';\nimport{Items}from'./sample';import{HalfCircle}from'./icons/HalfCircle';import styles from'./styles.module.scss';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var byProject=function byProject(item){return item.type==='project';};var byVideo=function byVideo(item){return item.type==='video';};export var Projects=function Projects(_ref){var courses=_ref.courses,linkCallback=_ref.linkCallback;var _useContext=useContext(CMSContext),contentIds=_useContext.content_item_ids,sideShapesColor=_useContext.side_shapes_color,projectsHeadline=_useContext.projects_headline,videoHeadline=_useContext.video_headline;var onCardClicked=function onCardClicked(course){window.location=linkCallback(course);};var _useState=useState([]),_useState2=_slicedToArray(_useState,2),contentItems=_useState2[0],setContentItems=_useState2[1];// const jwt = useSelector(selectUserJWT);\n// useEffect(() => {\n//   (async () => {\n//     if (contentIds) {\n//       const { data } = await contentServiceRequest({\n//         endpoint: 'content-items/search',\n//         version: 1,\n//         data: {\n//           id: contentIds,\n//           minimal: false,\n//         },\n//         method: 'POST',\n//         jwt,\n//       });\n//       setContentItems(data);\n//     }\n//   })();\n// }, [contentIds, jwt]);\n// const renderProjects = () =>\n//   contentItems\n//     .filter(byProject)\n//     .map((project: ProjectContentItem, index: number) => (\n//       <ProjectCard\n//         project={project}\n//         index={index}\n//         key={project.id}\n//         className={styles.projectCard}\n//         trackingData={{ target: 'path_marketing_page_projects' }}\n//         hoverShadow\n//       />\n//     ));\nvar renderProjects=function renderProjects(){return courses.map(function(course,index){return/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(CourseCard,{project:course,index:index,onClick:function onClick(){return onCardClicked(course);},className:styles.projectCard,trackingData:{target:'path_marketing_page_projects'},hoverShadow:true},course.id)});});};var renderVideos=function renderVideos(){return Items.map(function(video){return/*#__PURE__*/_jsxs(\"div\",{style:{width:'100%'},children:[/*#__PURE__*/_jsx(Video,{videoUrl:video.video_url,videoTitle:video.title,className:styles.video,onPlay:function onPlay(){return(// trackUserClick({\n//   page_name: 'marketingpathlandingpage',\n//   context: 'projects_section',\n//   target: 'play_video',\n//   video_url: video.video_url,\n// })\nconsole.log());}}),/*#__PURE__*/_jsx(\"p\",{className:styles.videoTitle,children:video.title})]},video.id);});};var projects=renderProjects();var video=renderVideos();if(isEmpty(projects)&&isEmpty(video))return null;return/*#__PURE__*/_jsxs(\"div\",{className:styles.container,children:[/*#__PURE__*/_jsx(\"div\",{className:styles.backgroundHalfCircle,children:/*#__PURE__*/_jsx(HalfCircle,{fill:sideShapesColor!==null&&sideShapesColor!==void 0?sideShapesColor:'#C8D7FA'})}),/*#__PURE__*/_jsx(ContentContainer,{children:/*#__PURE__*/_jsx(\"div\",{className:styles.contentItemsContainer,children:!isEmpty(projects)&&/*#__PURE__*/_jsxs(\"div\",{className:styles.projectContainer,children:[/*#__PURE__*/_jsx(\"h2\",{children:projectsHeadline||'Courses That Are Included'}),/*#__PURE__*/_jsx(\"div\",{className:styles.displayHorizontal,children:/*#__PURE__*/_jsx(CardGrid,{as:\"ul\",columns:3,children:projects})})]})})})]});};","map":{"version":3,"sources":["/Users/akrah/Documents/dev/readux/src/codefluent/src/portal/scenes/Paths/PathMarketingPage/Projects/index.tsx"],"names":["ContentContainer","Video","isEmpty","React","useContext","useState","CardGrid","CourseCard","CMSContext","Items","HalfCircle","styles","byProject","item","type","byVideo","Projects","courses","linkCallback","contentIds","content_item_ids","sideShapesColor","side_shapes_color","projectsHeadline","projects_headline","videoHeadline","video_headline","onCardClicked","course","window","location","contentItems","setContentItems","renderProjects","map","index","projectCard","target","id","renderVideos","video","width","video_url","title","console","log","videoTitle","projects","container","backgroundHalfCircle","contentItemsContainer","projectContainer","displayHorizontal"],"mappings":"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","sourcesContent":["import { ContentContainer, Video } from '@codecademy/gamut';\nimport cx from 'classnames';\nimport { isEmpty } from 'lodash';\nimport React, { useContext, useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { CardGrid } from 'portal/components/CardGrid';\nimport { CourseCard } from 'components/CourseCard';\nimport { contentServiceRequest } from 'libs/contentServiceRequest';\n// import { trackUserClick } from '~/libs/eventTracking';\nimport CMSContext from 'portal/scenes/Paths/ContentfulContext';\n// import { selectUserJWT } from '~/state/currentUser/selectors';\nimport { ProjectContentItem, VideoContentItem } from 'typings/entities';\nimport { Items, ProjectItems } from './sample';\nimport { HalfCircle } from './icons/HalfCircle';\nimport styles from './styles.module.scss';\nimport type { Course } from 'services/projects';\nimport { CoursePlayerResponse, CourseResponse } from 'services/courses';\n\ntype ContentItemTypes = VideoContentItem | ProjectContentItem;\n\ninterface Video {\n  id: string;\n  type: string;\n  video_url: string;\n  time: number;\n  title: string;\n}\n\n\n\nexport type ProjectProps = {\n  courses: CoursePlayerResponse[]\n  linkCallback: (project: CoursePlayerResponse) => any;\n}\n\nconst byProject = (item: ContentItemTypes): item is ProjectContentItem =>\n  item.type === 'project';\n\nconst byVideo = (item: ContentItemTypes): item is VideoContentItem =>\n  item.type === 'video';\n\nexport const Projects = ({\n  courses,\n  linkCallback,\n}: ProjectProps) => {\n  const {\n    content_item_ids: contentIds,\n    side_shapes_color: sideShapesColor,\n    projects_headline: projectsHeadline,\n    video_headline: videoHeadline,\n  } = useContext(CMSContext);\n\n  const onCardClicked = (course: CoursePlayerResponse) => {\n    window.location = linkCallback(course);\n  };\n\n  const [contentItems, setContentItems] = useState<ContentItemTypes[]>([]);\n  // const jwt = useSelector(selectUserJWT);\n\n  // useEffect(() => {\n  //   (async () => {\n  //     if (contentIds) {\n  //       const { data } = await contentServiceRequest({\n  //         endpoint: 'content-items/search',\n  //         version: 1,\n  //         data: {\n  //           id: contentIds,\n  //           minimal: false,\n  //         },\n  //         method: 'POST',\n  //         jwt,\n  //       });\n\n  //       setContentItems(data);\n  //     }\n  //   })();\n  // }, [contentIds, jwt]);\n\n  // const renderProjects = () =>\n  //   contentItems\n  //     .filter(byProject)\n  //     .map((project: ProjectContentItem, index: number) => (\n  //       <ProjectCard\n  //         project={project}\n  //         index={index}\n  //         key={project.id}\n  //         className={styles.projectCard}\n  //         trackingData={{ target: 'path_marketing_page_projects' }}\n  //         hoverShadow\n  //       />\n  //     ));\n\n  const renderProjects = () =>\n    courses\n      .map((course: CoursePlayerResponse, index: number) => (\n        <li>\n          <CourseCard\n            project={course}\n            index={index}\n            key={course.id}\n            onClick={() => onCardClicked(course)}\n            className={styles.projectCard}\n            trackingData={{ target: 'path_marketing_page_projects' }}\n            hoverShadow\n          />\n        </li>\n\n\n      ));\n\n\n\n  const renderVideos = () =>\n    Items.map((video: VideoContentItem) => (\n      <div key={video.id} style={{ width: '100%' }}>\n        <Video\n          videoUrl={video.video_url}\n          videoTitle={video.title}\n          className={styles.video}\n          onPlay={() =>\n            // trackUserClick({\n            //   page_name: 'marketingpathlandingpage',\n            //   context: 'projects_section',\n            //   target: 'play_video',\n            //   video_url: video.video_url,\n            // })\n            console.log()}\n        />\n        <p className={styles.videoTitle}>{video.title}</p>\n      </div>\n    ));\n\n  const projects = renderProjects();\n  const video = renderVideos();\n\n  if (isEmpty(projects) && isEmpty(video)) return null;\n\n  return (\n    <div className={styles.container}>\n      <div className={styles.backgroundHalfCircle}>\n        <HalfCircle fill={sideShapesColor ?? '#C8D7FA'} />\n      </div>\n\n      <ContentContainer>\n        <div className={styles.contentItemsContainer}>\n          {!isEmpty(projects) && (\n            <div className={styles.projectContainer}>\n              <h2>{projectsHeadline || 'Courses That Are Included'}</h2>\n              <div className={styles.displayHorizontal}>\n                <CardGrid as=\"ul\" columns={3}>\n                  {projects}      \n                </CardGrid>\n\n              </div>\n            </div>\n          )}\n\n        </div>\n      </ContentContainer>\n    </div>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}