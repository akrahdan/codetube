{"ast":null,"code":"import _slicedToArray from\"/Users/akrah/Documents/dev/readux/src/codefluent/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import classNames from\"classnames\";import{PayPalButtons,FUNDING}from\"@paypal/react-paypal-js\";import{useState}from\"react\";import{useCheckoutMutation}from\"services/projects\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var Paypal=function Paypal(_ref){var active=_ref.active;var _useState=useState(\"43.00\"),_useState2=_slicedToArray(_useState,2),amount=_useState2[0],setAmount=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),orderID=_useState4[0],setOrderID=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),onApproveMessage=_useState6[0],setOnApproveMessage=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),onErrorMessage=_useState8[0],setOnErrorMessage=_useState8[1];var _useCheckoutMutation=useCheckoutMutation(),_useCheckoutMutation2=_slicedToArray(_useCheckoutMutation,1),checkout=_useCheckoutMutation2[0];var createOrder=function createOrder(data,actions){return actions.order.create({purchase_units:[{amount:{value:amount}}]}).then(function(orderID){return orderID;});};var onApprove=function onApprove(data,actions){return checkout({orderID:data.orderID}).then(function(res){console.log(res);setOrderID(orderID);});};var onError=function onError(err){setOnErrorMessage(err.toString());};return/*#__PURE__*/_jsx(\"div\",{className:classNames(\"react-tabs__tab-panel\",{\"react-tabs__tab-panel--selected\":active}),role:\"tabpanel\",id:\"react-tabs-3\",\"aria-labelledby\":\"react-tabs-2\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"cf-text-h6 cf-py-9 cf-text--center cf-invert\",children:\"You will continue to PayPal to complete your purchase\"}),/*#__PURE__*/_jsx(\"div\",{className:\"cf-input cf-col-12\",children:/*#__PURE__*/_jsx(\"p\",{className:\"cf-text-x-small cf-theme-light\",children:\"By completing your order through PayPal, you will have full access to to the assigned project and live classes.\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"cf-my-4\",children:/*#__PURE__*/_jsx(PayPalButtons,{fundingSource:FUNDING.PAYPAL,style:{color:\"black\",shape:\"pill\",label:\"checkout\"},createOrder:createOrder,onApprove:onApprove,onError:onError,forceReRender:[amount]})})]})});};","map":{"version":3,"sources":["/Users/akrah/Documents/dev/readux/src/codefluent/src/portal/scenes/Payments/paypal.tsx"],"names":["classNames","PayPalButtons","FUNDING","useState","useCheckoutMutation","Paypal","active","amount","setAmount","orderID","setOrderID","onApproveMessage","setOnApproveMessage","onErrorMessage","setOnErrorMessage","checkout","createOrder","data","actions","order","create","purchase_units","value","then","onApprove","res","console","log","onError","err","toString","PAYPAL","color","shape","label"],"mappings":"uKAAA,MAAOA,CAAAA,UAAP,KAAuB,YAAvB,CACA,OAASC,aAAT,CAAwBC,OAAxB,KAAuC,yBAAvC,CAEA,OAAoBC,QAApB,KAAoC,OAApC,CACA,OAASC,mBAAT,KAAoC,mBAApC,C,wFACA,MAAO,IAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,MAAgB,IAAbC,CAAAA,MAAa,MAAbA,MAAa,eACRH,QAAQ,CAAC,OAAD,CADA,wCAC7BI,MAD6B,eACrBC,SADqB,8BAENL,QAAQ,CAAC,EAAD,CAFF,yCAE7BM,OAF6B,eAEpBC,UAFoB,8BAGYP,QAAQ,CAAC,EAAD,CAHpB,yCAG7BQ,gBAH6B,eAGXC,mBAHW,8BAIQT,QAAQ,CAAC,EAAD,CAJhB,yCAI7BU,cAJ6B,eAIbC,iBAJa,wCAKjBV,mBAAmB,EALF,8DAK7BW,QAL6B,0BAMpC,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAClBC,IADkB,CAElBC,OAFkB,CAGf,CACH,MAAOA,CAAAA,OAAO,CAACC,KAAR,CACJC,MADI,CACG,CACNC,cAAc,CAAE,CACd,CACEd,MAAM,CAAE,CACNe,KAAK,CAAEf,MADD,CADV,CADc,CADV,CADH,EAUJgB,IAVI,CAUC,SAACd,OAAD,CAAa,CAEjB,MAAOA,CAAAA,OAAP,CAED,CAdI,CAAP,CAeD,CAnBD,CAqBA,GAAMe,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAACP,IAAD,CAAsBC,OAAtB,CAAoD,CACpE,MAAOH,CAAAA,QAAQ,CAAC,CACZN,OAAO,CAAEQ,IAAI,CAACR,OADF,CAAD,CAAR,CAEFc,IAFE,CAEG,SAACE,GAAD,CAAS,CACfC,OAAO,CAACC,GAAR,CAAYF,GAAZ,EACAf,UAAU,CAACD,OAAD,CAAV,CAED,CANI,CAAP,CAQD,CATD,CAWA,GAAMmB,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAACC,GAAD,CAAkC,CAChDf,iBAAiB,CAACe,GAAG,CAACC,QAAJ,EAAD,CAAjB,CACD,CAFD,CAMA,mBAEE,YACE,SAAS,CAAE9B,UAAU,CAAC,uBAAD,CAA0B,CAC7C,kCAAmCM,MADU,CAA1B,CADvB,CAIE,IAAI,CAAC,UAJP,CAKE,EAAE,CAAC,cALL,CAME,kBAAgB,cANlB,uBAQE,oCACE,UAAG,SAAS,CAAC,8CAAb,mEADF,cAIE,YAAK,SAAS,CAAC,oBAAf,uBACE,UAAG,SAAS,CAAC,gCAAb,6HADF,EAJF,cAUE,YAAK,SAAS,CAAC,SAAf,uBACE,KAAC,aAAD,EACE,aAAa,CAAEJ,OAAO,CAAC6B,MADzB,CAEE,KAAK,CAAE,CAAEC,KAAK,CAAE,OAAT,CAAkBC,KAAK,CAAE,MAAzB,CAAiCC,KAAK,CAAE,UAAxC,CAFT,CAGE,WAAW,CAAElB,WAHf,CAIE,SAAS,CAAEQ,SAJb,CAKE,OAAO,CAAEI,OALX,CAME,aAAa,CAAE,CAACrB,MAAD,CANjB,EADF,EAVF,GARF,EAFF,CAiCD,CA7EM","sourcesContent":["import classNames from \"classnames\";\nimport { PayPalButtons, FUNDING } from \"@paypal/react-paypal-js\";\nimport { CreateOrderActions, OnApproveData, OnApproveActions } from '@paypal/paypal-js/types/components/buttons'\nimport { useEffect, useState } from \"react\";\nimport { useCheckoutMutation } from \"services/projects\";\nexport const Paypal = ({ active }) => {\n  const [amount, setAmount] = useState(\"43.00\");\n  const [orderID, setOrderID] = useState(\"\");\n  const [onApproveMessage, setOnApproveMessage] = useState(\"\");\n  const [onErrorMessage, setOnErrorMessage] = useState(\"\");\n  const [checkout] = useCheckoutMutation()\n  const createOrder = (\n    data: Record<string, unknown>,\n    actions: CreateOrderActions\n  ) => {\n    return actions.order\n      .create({\n        purchase_units: [\n          {\n            amount: {\n              value: amount,\n            },\n          },\n        ],\n      })\n      .then((orderID) => {\n\n        return orderID;\n\n      });\n  }\n\n  const onApprove = (data: OnApproveData, actions: OnApproveActions) => {\n    return checkout({\n        orderID: data.orderID\n      }).then((res) => {\n        console.log(res)\n        setOrderID(orderID);\n\n      })\n    \n  }\n\n  const onError = (err: Record<string, unknown>) => {\n    setOnErrorMessage(err.toString());\n  }\n\n \n\n  return (\n\n    <div\n      className={classNames(\"react-tabs__tab-panel\", {\n        \"react-tabs__tab-panel--selected\": active,\n      })}\n      role=\"tabpanel\"\n      id=\"react-tabs-3\"\n      aria-labelledby=\"react-tabs-2\"\n    >\n      <div>\n        <p className=\"cf-text-h6 cf-py-9 cf-text--center cf-invert\">\n          You will continue to PayPal to complete your purchase\n        </p>\n        <div className=\"cf-input cf-col-12\">\n          <p className=\"cf-text-x-small cf-theme-light\">\n            By completing your order through PayPal, you will have full access\n            to to the assigned project and live classes.\n          </p>\n        </div>\n        <div className=\"cf-my-4\">\n          <PayPalButtons\n            fundingSource={FUNDING.PAYPAL}\n            style={{ color: \"black\", shape: \"pill\", label: \"checkout\" }}\n            createOrder={createOrder}\n            onApprove={onApprove}\n            onError={onError}\n            forceReRender={[amount]}\n          />\n        </div>\n      </div>\n    </div>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}