{"ast":null,"code":"import _slicedToArray from\"/Users/akrah/Documents/dev/readux/src/codefluent/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";// import { NavLink } from \"react-router-dom\";\nimport{selectLocationPathName,selectLocationPayload}from\"state/location/selectors\";import{selectCourse}from\"state/course/courseSplice\";import{selectSections}from\"state/curriculum/currriculumSplice\";import{useFetchCourseQuery,useFetchPricingQuery,useSubmitReviewMutation,useFetchSectionsQuery}from\"services/courses\";import{useAlert}from\"react-alert\";import{useAppSelector}from\"store/hooks\";import{selectPricing}from\"state/course/courseSplice\";import{selectExperience,selectGoals,selectRequirements}from\"state/target/targetSplice\";import{useEffect,useState}from\"react\";import{NavLink}from\"redux-first-router-link\";import classNames from\"classnames\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var ManageSidebar=function ManageSidebar(_ref){var courseId=_ref.courseId;var locationPayload=useAppSelector(selectLocationPayload);var locationType=useAppSelector(selectLocationPathName);var selectedExperience=useAppSelector(selectExperience);var selectedGoals=useAppSelector(selectGoals);var selectedRequirements=useAppSelector(selectRequirements);var _useState=useState(locationType),_useState2=_slicedToArray(_useState,2),active=_useState2[0],setActive=_useState2[1];var course=useAppSelector(selectCourse);var selectedSections=useAppSelector(selectSections);var pricing=useAppSelector(selectPricing);var alert=useAlert();var _useState3=useState(course),_useState4=_slicedToArray(_useState3,2),courseUpdate=_useState4[0],setCourseUpdate=_useState4[1];var _useState5=useState(pricing),_useState6=_slicedToArray(_useState5,2),price=_useState6[0],setPrice=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),review=_useState8[0],setReview=_useState8[1];var _useState9=useState(selectedExperience),_useState10=_slicedToArray(_useState9,2),experience=_useState10[0],setExperience=_useState10[1];var _useState11=useState(selectedGoals),_useState12=_slicedToArray(_useState11,2),goals=_useState12[0],setGoals=_useState12[1];var _useState13=useState(selectedRequirements),_useState14=_slicedToArray(_useState13,2),requirements=_useState14[0],setRequirements=_useState14[1];var _useFetchCourseQuery=useFetchCourseQuery(locationPayload.id),courseQuery=_useFetchCourseQuery.data;var _useFetchSectionsQuer=useFetchSectionsQuery(locationPayload.id),sectionsQuery=_useFetchSectionsQuer.data;var _useFetchPricingQuery=useFetchPricingQuery(locationPayload.id),pricingQuery=_useFetchPricingQuery.data;var _useSubmitReviewMutat=useSubmitReviewMutation(),_useSubmitReviewMutat2=_slicedToArray(_useSubmitReviewMutat,1),submitReview=_useSubmitReviewMutat2[0];var _useState15=useState(),_useState16=_slicedToArray(_useState15,2),sections=_useState16[0],setSections=_useState16[1];var _useState17=useState(),_useState18=_slicedToArray(_useState17,2),clips=_useState18[0],setClips=_useState18[1];var _useState19=useState(0),_useState20=_slicedToArray(_useState19,2),duration=_useState20[0],setDuration=_useState20[1];useEffect(function(){setActive(locationType);},[locationType]);useEffect(function(){setCourseUpdate(course||courseQuery);//setSections(course?.s)\n},[course,courseQuery]);useEffect(function(){setSections(selectedSections);var lectures=selectedSections===null||selectedSections===void 0?void 0:selectedSections.flatMap(function(sec){return sec===null||sec===void 0?void 0:sec.lectures;});if(lectures&&(lectures===null||lectures===void 0?void 0:lectures.length)){var _clips=lectures===null||lectures===void 0?void 0:lectures.flatMap(function(lecture){return lecture===null||lecture===void 0?void 0:lecture.video_url;});setClips(_clips);}},[selectedSections]);useEffect(function(){setPrice(pricing);},[pricing]);useEffect(function(){setExperience(selectedExperience);setRequirements(selectedRequirements);setGoals(selectedGoals);},[selectedExperience,selectedGoals,selectedRequirements]);return/*#__PURE__*/_jsxs(\"div\",{className:\"app--nav--QVTHS\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"side-nav--side-nav--h8FTL\",\"data-purpose\":\"side-menu\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"nav-collapse\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",id:\"menu-base\",className:\"nav-collapse__toggle\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"menu-base\",\"data-type\":\"button\",className:\"nav-collapse__toggle-btn btn btn-tertiary\",children:/*#__PURE__*/_jsx(\"span\",{className:\"cfi cfi-reorder\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"nav-container\",children:/*#__PURE__*/_jsxs(\"ul\",{className:\"nav-steps nav nav-tabs nav-stacked\",children:[/*#__PURE__*/_jsxs(\"li\",{className:\"active sub-nav\",children:[/*#__PURE__*/_jsx(\"strong\",{className:\"sub-nav__title\",children:\"Plan your course\"}),/*#__PURE__*/_jsx(\"div\",{className:\"nav-container\",children:/*#__PURE__*/_jsx(\"ul\",{className:\"nav\",children:/*#__PURE__*/_jsx(\"li\",{role:\"presentation\",className:classNames({'active':active==\"/instructor/course/\".concat(courseId,\"/manage/goals\"),'checked':experience&&experience.filter(function(item){return item.name;}).length&&goals&&goals.filter(function(item){return item.name;}).length&&requirements&&requirements.filter(function(item){return item.name;}).length}),children:/*#__PURE__*/_jsx(NavLink,{to:\"/instructor/course/\".concat(courseId,\"/manage/goals\"),children:\"Target your students\"})})})})]}),/*#__PURE__*/_jsxs(\"li\",{className:\"active sub-nav\",children:[/*#__PURE__*/_jsx(\"strong\",{className:\"sub-nav__title\",children:\"Create your content\"}),/*#__PURE__*/_jsx(\"div\",{className:\"nav-container\",children:/*#__PURE__*/_jsx(\"ul\",{className:\"nav\",children:/*#__PURE__*/_jsx(\"li\",{role:\"presentation\",className:classNames({'active':active==\"/instructor/course/\".concat(courseId,\"/manage/curriculum\"),'checked':(clips===null||clips===void 0?void 0:clips.length)>4}),children:/*#__PURE__*/_jsx(NavLink,{to:\"/instructor/course/\".concat(courseId,\"/manage/curriculum\"),children:\"Curriculum\"})})})})]}),/*#__PURE__*/_jsxs(\"li\",{className:\"active sub-nav\",children:[/*#__PURE__*/_jsx(\"strong\",{className:\"sub-nav__title\",children:\"Publish your course\"}),/*#__PURE__*/_jsx(\"div\",{className:\"nav-container\",children:/*#__PURE__*/_jsxs(\"ul\",{className:\"nav\",children:[/*#__PURE__*/_jsx(\"li\",{role:\"presentation\",className:classNames({'active':active==\"/instructor/course/\".concat(courseId,\"/manage/basics\"),'checked':courseUpdate&&Object.keys(courseUpdate).every(function(k){return courseUpdate[k];})}),children:/*#__PURE__*/_jsx(NavLink,{to:\"/instructor/course/\".concat(courseId,\"/manage/basics\"),children:\"Course landing page\"})}),/*#__PURE__*/_jsx(\"li\",{role:\"presentation\",className:classNames({'active':active==\"/instructor/course/\".concat(courseId,\"/manage/pricing\"),'checked':price&&price.amount&&price.currency}),children:/*#__PURE__*/_jsx(NavLink,{to:\"/instructor/course/\".concat(courseId,\"/manage/pricing\"),children:\"Pricing\"})}),/*#__PURE__*/_jsx(\"li\",{role:\"presentation\",className:classNames({'active':active==\"/instructor/course/\".concat(courseId,\"/manage/messages\")}),children:/*#__PURE__*/_jsx(NavLink,{to:\"/instructor/course/\".concat(courseId,\"/manage/messages\"),children:\"Course messages\"})})]})})]})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"side-nav--publish-button--yW0v1\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){setReview(!review);submitReview({id:locationPayload.id,state:'PENDING'}).then(function(res){console.log(res.data);setReview(false);if(res.data&&res.data.state==\"LIVE\"){alert.show(\"Congratulations! Your course is now published on Codefluent\");}});},type:\"button\",className:\"btn btn-lg btn-primary\",children:\"Submit for Review\"}),/*#__PURE__*/_jsx(\"div\",{})]})]}),review&&/*#__PURE__*/_jsx(\"div\",{className:\"fxc popup-backdrop\",children:/*#__PURE__*/_jsx(\"span\",{\"aria-label\":\"Loading\",className:\"text-white cfi-large cfi cfi-circle-loader\"})})]});};","map":{"version":3,"sources":["/Users/akrah/Documents/dev/readux/src/codefluent/src/portal/scenes/Instructor/Courses/Sidebar/ManageSidebar.tsx"],"names":["selectLocationPathName","selectLocationPayload","selectCourse","selectSections","useFetchCourseQuery","useFetchPricingQuery","useSubmitReviewMutation","useFetchSectionsQuery","useAlert","useAppSelector","selectPricing","selectExperience","selectGoals","selectRequirements","useEffect","useState","NavLink","classNames","ManageSidebar","courseId","locationPayload","locationType","selectedExperience","selectedGoals","selectedRequirements","active","setActive","course","selectedSections","pricing","alert","courseUpdate","setCourseUpdate","price","setPrice","review","setReview","experience","setExperience","goals","setGoals","requirements","setRequirements","id","courseQuery","data","sectionsQuery","pricingQuery","submitReview","sections","setSections","clips","setClips","duration","setDuration","lectures","flatMap","sec","length","lecture","video_url","filter","item","name","Object","keys","every","k","amount","currency","state","then","res","console","log","show"],"mappings":"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","sourcesContent":["// import { NavLink } from \"react-router-dom\";\n\nimport { selectLocationPathName, selectLocationPayload } from \"state/location/selectors\";\nimport { selectCourse } from \"state/course/courseSplice\";\nimport { selectSections } from \"state/curriculum/currriculumSplice\";\nimport {Section, useFetchCourseQuery, useFetchPricingQuery, useSubmitReviewMutation, useFetchSectionsQuery } from \"services/courses\";\nimport type { Review } from \"services/courses\";\nimport { useAlert } from \"react-alert\";\nimport type { CourseResponse, Requirement, Experience, Goal } from \"services/courses\";\n\nimport { useAppSelector } from \"store/hooks\";\nimport { selectPricing } from \"state/course/courseSplice\";\nimport { selectExperience, selectGoals, selectRequirements } from \"state/target/targetSplice\";\nimport { useEffect, useState } from \"react\";\nimport { NavLink } from \"redux-first-router-link\";\nimport * as paths from \"portal/state/location/paths\";\nimport classNames from \"classnames\";\nexport const ManageSidebar = ({ courseId }) => {\n\n  const locationPayload = useAppSelector(selectLocationPayload)\n  const locationType = useAppSelector(selectLocationPathName)\n  const selectedExperience = useAppSelector(selectExperience)\n  const selectedGoals = useAppSelector(selectGoals)\n  const selectedRequirements = useAppSelector(selectRequirements)\n\n  const [active, setActive] = useState(locationType);\n  const course = useAppSelector(selectCourse)\n  const selectedSections = useAppSelector(selectSections)\n  const pricing = useAppSelector(selectPricing)\n  const alert = useAlert()\n  const [courseUpdate, setCourseUpdate] = useState<CourseResponse>(course)\n  const [price, setPrice] = useState(pricing)\n  const [review, setReview] = useState(false)\n  const [experience, setExperience] = useState<Experience[]>(selectedExperience)\n  const [goals, setGoals] = useState<Goal[]>(selectedGoals)\n  const [requirements, setRequirements] = useState<Requirement[]>(selectedRequirements)\n  const { data: courseQuery } = useFetchCourseQuery(locationPayload.id)\n  const { data: sectionsQuery } = useFetchSectionsQuery(locationPayload.id)\n  const { data: pricingQuery } = useFetchPricingQuery(locationPayload.id)\n  const [submitReview] = useSubmitReviewMutation()\n  const [sections, setSections] = useState<Section[]>()\n  const [clips, setClips] = useState<String[]>()\n  const [duration, setDuration ] = useState(0)\n\n  useEffect(() => {\n    \n    setActive(locationType)\n  }, [locationType])\n  useEffect(() => {\n    setCourseUpdate(course || courseQuery)\n\n    //setSections(course?.s)\n  }, [course, courseQuery])\n\n  useEffect(() => {\n      setSections(selectedSections)\n      const  lectures = selectedSections?.flatMap(sec => sec?.lectures)\n      if(lectures && lectures?.length) {\n\n        const clips = lectures?.flatMap(lecture => lecture?.video_url)\n        \n        setClips(clips)\n\n      }\n\n  }, [selectedSections])\n\n  useEffect(() => {\n    setPrice(pricing)\n  }, [pricing])\n\n  useEffect(() => {\n    setExperience(selectedExperience)\n    setRequirements(selectedRequirements)\n    setGoals(selectedGoals)\n  }, [selectedExperience, selectedGoals, selectedRequirements])\n\n  return (\n    <div className=\"app--nav--QVTHS\">\n      <div className=\"side-nav--side-nav--h8FTL\" data-purpose=\"side-menu\">\n        <div className=\"nav-collapse\">\n          <input\n            type=\"checkbox\"\n            id=\"menu-base\"\n            className=\"nav-collapse__toggle\"\n          />\n          <label\n            htmlFor=\"menu-base\"\n            data-type=\"button\"\n            className=\"nav-collapse__toggle-btn btn btn-tertiary\"\n          >\n            <span className=\"cfi cfi-reorder\" />\n          </label>\n          <div className=\"nav-container\">\n            <ul className=\"nav-steps nav nav-tabs nav-stacked\">\n              <li className=\"active sub-nav\">\n                <strong className=\"sub-nav__title\">Plan your course</strong>\n                <div className=\"nav-container\">\n                  <ul className=\"nav\">\n                    <li role=\"presentation\" className={classNames({\n                      'active': active == `/instructor/course/${courseId}/manage/goals`,\n                      'checked': experience && experience.filter(item => item.name).length && goals\n                        && goals.filter(item => item.name).length && requirements && requirements.filter(item => item.name).length\n                    })}>\n                      <NavLink\n                        to={`/instructor/course/${courseId}/manage/goals`}\n                      >\n                        Target your students\n                      </NavLink>\n                    </li>\n                  </ul>\n                </div>\n              </li>\n              <li className=\"active sub-nav\">\n                <strong className=\"sub-nav__title\">Create your content</strong>\n                <div className=\"nav-container\">\n                  <ul className=\"nav\">\n                    <li role=\"presentation\" className={classNames({\n                      'active': active == `/instructor/course/${courseId}/manage/curriculum`,\n                      'checked': clips?.length > 4\n                    })}>\n                      <NavLink\n\n                        to={`/instructor/course/${courseId}/manage/curriculum`}\n                      >\n                        Curriculum\n                      </NavLink>\n                    </li>\n                  </ul>\n                </div>\n              </li>\n              <li className=\"active sub-nav\">\n                <strong className=\"sub-nav__title\">Publish your course</strong>\n                <div className=\"nav-container\">\n                  <ul className=\"nav\">\n                    <li role=\"presentation\" className={classNames({\n                      'active': active == `/instructor/course/${courseId}/manage/basics`,\n                      'checked': courseUpdate && Object.keys(courseUpdate).every((k) => courseUpdate[k])\n                    })}>\n                      <NavLink\n\n                        to={`/instructor/course/${courseId}/manage/basics`}\n                      >\n                        Course landing page\n                      </NavLink>\n                    </li>\n                    <li role=\"presentation\" className={classNames({\n                      'active': active == `/instructor/course/${courseId}/manage/pricing`,\n                      'checked': price && price.amount && price.currency\n                    })}>\n                      <NavLink\n\n                        to={`/instructor/course/${courseId}/manage/pricing`}\n                      >\n                        Pricing\n                      </NavLink>\n                    </li>\n\n                    <li role=\"presentation\" className={classNames({\n                      'active': active == `/instructor/course/${courseId}/manage/messages`\n                    })}>\n                      <NavLink\n\n                        to={`/instructor/course/${courseId}/manage/messages`}\n                      >\n                        Course messages\n                      </NavLink>\n                    </li>\n                  </ul>\n                </div>\n              </li>\n            </ul>\n          </div>\n        </div>\n        <div className=\"side-nav--publish-button--yW0v1\">\n          <button onClick={() => {\n            setReview(!review)\n\n            submitReview({\n              id: locationPayload.id,\n              state: 'PENDING'\n            \n            }).then((res: { data: Review}) => {\n              console.log(res.data)\n              setReview(false)\n             \n              if(res.data && res.data.state == \"LIVE\") {\n                alert.show(\"Congratulations! Your course is now published on Codefluent\")\n              }\n            })\n          }\n          } type=\"button\" className=\"btn btn-lg btn-primary\">\n            Submit for Review\n          </button>\n          <div />\n        </div>\n      </div>\n      {review && (<div className=\"fxc popup-backdrop\">\n        <span\n          aria-label=\"Loading\"\n          className=\"text-white cfi-large cfi cfi-circle-loader\"\n        />\n      </div>)}\n    </div>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}