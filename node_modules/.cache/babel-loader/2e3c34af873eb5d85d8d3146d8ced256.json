{"ast":null,"code":"import _classCallCheck from\"/Users/akrah/Documents/dev/readux/src/codefluent/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/akrah/Documents/dev/readux/src/codefluent/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/akrah/Documents/dev/readux/src/codefluent/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/akrah/Documents/dev/readux/src/codefluent/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import classNames from'classnames';import React,{Component,Fragment}from'react';import{connect}from'react-redux';import{setActiveMenu as _setActiveMenu}from'state/player/playerSlice';import PlaybackSpeedSelector from'../playback-speed-selector/playback-speed-selector';import ControlBarButton from'./control-bar-button/control-bar-button';import Tooltip from'../tooltip/tooltip';import css from'./control-bar.module.scss';import buttonCss from'./playback-speed-button.module.scss';import{Menus}from'../constants';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Button=/*#__PURE__*/function(_Component){_inherits(Button,_Component);var _super=_createSuper(Button);function Button(){_classCallCheck(this,Button);return _super.apply(this,arguments);}_createClass(Button,[{key:\"render\",value:function render(){var playbackSpeed=this.props.playbackSpeed;return/*#__PURE__*/_jsxs(\"div\",{className:buttonCss.text,children:[/*#__PURE__*/_jsx(\"span\",{className:\"visually-hidden\",children:\"playback speed: \"}),\"\".concat(playbackSpeed.toFixed(1),\"x\")]});}}]);return Button;}(Component);var ConnectedButton=connect(function(state){return{playbackSpeed:state.player.playbackSpeed};})(Button);export var PlaybackSpeedButton=/*#__PURE__*/function(_Component2){_inherits(PlaybackSpeedButton,_Component2);var _super2=_createSuper(PlaybackSpeedButton);function PlaybackSpeedButton(props){var _this;_classCallCheck(this,PlaybackSpeedButton);_this=_super2.call(this,props);_this.toggleMenu=function(e){var _this$props=_this.props,activeMenu=_this$props.activeMenu,setActiveMenu=_this$props.setActiveMenu;activeMenu===Menus.PLAYBACK_SPEED?setActiveMenu&&setActiveMenu(Menus.NONE):setActiveMenu&&setActiveMenu(Menus.PLAYBACK_SPEED);};_this.element=/*#__PURE__*/React.createRef();return _this;}_createClass(PlaybackSpeedButton,[{key:\"render\",value:function render(){var _this$props2=this.props,_this$props2$layout=_this$props2.layout,layout=_this$props2$layout===void 0?'720p':_this$props2$layout,activeMenu=_this$props2.activeMenu;return/*#__PURE__*/_jsxs(\"div\",{ref:this.element,onClick:function onClick(e){return e.stopPropagation();},onTouchStart:this.cancelAction,children:[/*#__PURE__*/_jsx(PlaybackSpeedSelector,{}),/*#__PURE__*/_jsx(Tooltip,{text:\"Speed\",isDisabled:activeMenu===Menus.PLAYBACK_SPEED,children:/*#__PURE__*/_jsx(ControlBarButton,{active:activeMenu===Menus.PLAYBACK_SPEED,className:classNames(css.controlBarText,buttonCss.playbackSpeed,buttonCss[\"layout\".concat(layout)]),onAction:this.toggleMenu,ariaHaspopup:\"true\",ariaOwns:\"eplayer-speed-selector\",ariaExpanded:activeMenu===Menus.PLAYBACK_SPEED,children:/*#__PURE__*/_jsx(ConnectedButton,{})})})]});}}]);return PlaybackSpeedButton;}(Component);export default connect(function(state){return{layout:state.player.layout,activeMenu:state.player.activeMenu};},function(dispatch){return{setActiveMenu:function setActiveMenu(payload){return dispatch(_setActiveMenu(payload));}};})(PlaybackSpeedButton);","map":{"version":3,"sources":["/Users/akrah/Documents/dev/readux/src/codefluent/src/portal/scenes/CoursePlayer/control-bar/playback-speed-button.js"],"names":["classNames","React","Component","Fragment","connect","setActiveMenu","PlaybackSpeedSelector","ControlBarButton","Tooltip","css","buttonCss","Menus","Button","playbackSpeed","props","text","toFixed","ConnectedButton","state","player","PlaybackSpeedButton","toggleMenu","e","activeMenu","PLAYBACK_SPEED","NONE","element","createRef","layout","stopPropagation","cancelAction","controlBarText","dispatch","payload"],"mappings":"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","sourcesContent":["import classNames from 'classnames'\nimport React, { Component, Fragment } from 'react';\nimport { connect } from 'react-redux';\nimport { setActiveMenu } from 'state/player/playerSlice';\n\nimport PlaybackSpeedSelector from '../playback-speed-selector/playback-speed-selector'\nimport ControlBarButton from './control-bar-button/control-bar-button'\nimport Tooltip from '../tooltip/tooltip'\n\nimport css from './control-bar.module.scss'\nimport buttonCss from './playback-speed-button.module.scss'\n\nimport { Menus } from '../constants'\n\nclass Button extends Component {\n  render() {\n    const { playbackSpeed } = this.props\n\n    return (\n      <div className={buttonCss.text}>\n        <span className=\"visually-hidden\">playback speed: </span>\n        {`${playbackSpeed.toFixed(1)}x`}\n       \n      </div>\n    )\n  }\n}\n\nconst ConnectedButton = connect(\n  (state) =>({\n    playbackSpeed: state.player.playbackSpeed\n  })\n)(Button);\n\nexport class PlaybackSpeedButton extends Component {\n  constructor(props) {\n    super(props)\n    this.element = React.createRef()\n  }\n\n  toggleMenu = (e) => {\n    const { activeMenu, setActiveMenu } = this.props\n\n    activeMenu === Menus.PLAYBACK_SPEED\n      ? setActiveMenu && setActiveMenu(Menus.NONE)\n      : setActiveMenu && setActiveMenu(Menus.PLAYBACK_SPEED)\n  }\n\n  render() {\n    const { layout = '720p', activeMenu } = this.props\n    \n    return (\n      <div ref={this.element} onClick={(e) => e.stopPropagation()} onTouchStart={this.cancelAction}>\n        <PlaybackSpeedSelector />\n        <Tooltip text=\"Speed\" isDisabled={activeMenu === Menus.PLAYBACK_SPEED}>\n          <ControlBarButton\n            active={activeMenu === Menus.PLAYBACK_SPEED}\n            className={classNames(css.controlBarText, buttonCss.playbackSpeed, buttonCss[`layout${layout}`])}\n            onAction={this.toggleMenu}\n            ariaHaspopup=\"true\"\n            ariaOwns=\"eplayer-speed-selector\"\n            ariaExpanded={activeMenu === Menus.PLAYBACK_SPEED}\n          >\n            <ConnectedButton />\n          </ControlBarButton>\n        </Tooltip>\n      </div>\n    )\n  }\n}\n\nexport default connect(\n  (state) => ({\n    layout: state.player.layout,\n    activeMenu: state.player.activeMenu,\n  }),\n  (dispatch) => ({\n    setActiveMenu: payload => dispatch(setActiveMenu(payload)),\n  })\n)(PlaybackSpeedButton)\n"]},"metadata":{},"sourceType":"module"}