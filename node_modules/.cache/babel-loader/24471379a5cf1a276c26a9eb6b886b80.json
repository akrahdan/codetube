{"ast":null,"code":"var _jsxFileName = \"/Users/akrah/Documents/dev/readux/src/codefluent/src/portal/scenes/CoursePlayer/Container/index.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport ReactResizeDetector, { withResizeDetector } from 'react-resize-detector';\nimport css from './container.module.css';\nimport { setContainerSize } from 'state/player/playerSlice';\nimport { isIE } from '../utilities/is-ie';\nimport { FullscreenState } from '../constants';\nimport { setFullscreen, isFullscreen, collapseFullscreen } from '../fullscreen-helper';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst resize = container => (width, height) => {\n  const {\n    props: {\n      setContainerSize\n    }\n  } = container;\n  setContainerSize({\n    width,\n    height\n  });\n};\n\nexport class Container extends Component {\n  constructor(props) {\n    super(props);\n    this.resize = resize(this);\n  }\n\n  updateFullscreenState(fullscreenState) {\n    const container = this.content;\n    const videoElement = document.getElementById('video-element');\n\n    if (fullscreenState === FullscreenState.FULLSCREEN && !isFullscreen()) {\n      setFullscreen(container, videoElement);\n    } else {\n      collapseFullscreen(videoElement);\n    }\n  }\n\n  componentWillReceiveProps(nextProps) {\n    const currentFullscreenState = this.props.fullscreenState;\n    const nextFullscreenState = nextProps.fullscreenState;\n\n    if (currentFullscreenState === nextFullscreenState) {\n      return;\n    }\n\n    this.updateFullscreenState(nextFullscreenState);\n    return nextProps;\n  }\n\n  render() {\n    let {\n      containerSize,\n      interactionMode,\n      playerSize,\n      refreshRate,\n      fullscreenState,\n      width,\n      height\n    } = this.props;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: css.container,\n      style: fullscreenState === FullscreenState.FULLSCREEN ? { ...containerSize\n      } : {},\n      ref: el => this.element = el,\n      \"interaction-mode\": interactionMode,\n      \"is-ie\": `${isIE()}`,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: css.content,\n        style: fullscreenState === FullscreenState.NORMAL ? { ...playerSize\n        } : {\n          width: '100%',\n          height: '100%'\n        },\n        ref: el => this.content = el,\n        children: this.props.children\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 7\n      }, this)\n    }, \"container\", false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this);\n  }\n\n}\nexport default withResizeDetector(connect(state => ({\n  containerSize: state.player.containerSize,\n  breakpoint: state.player.breakpoint,\n  interactionMode: state.player.interactionMode,\n  playerSize: state.player.playerSize,\n  fullscreenState: state.player.fullscreenState\n}), dispatch => ({\n  setContainersize: size => dispatch(setContainerSize(size))\n}))(Container));","map":{"version":3,"sources":["/Users/akrah/Documents/dev/readux/src/codefluent/src/portal/scenes/CoursePlayer/Container/index.js"],"names":["React","Component","connect","ReactResizeDetector","withResizeDetector","css","setContainerSize","isIE","FullscreenState","setFullscreen","isFullscreen","collapseFullscreen","resize","container","width","height","props","Container","constructor","updateFullscreenState","fullscreenState","content","videoElement","document","getElementById","FULLSCREEN","componentWillReceiveProps","nextProps","currentFullscreenState","nextFullscreenState","render","containerSize","interactionMode","playerSize","refreshRate","el","element","NORMAL","children","state","player","breakpoint","dispatch","setContainersize","size"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { connect } from 'react-redux'\n\nimport ReactResizeDetector, { withResizeDetector} from 'react-resize-detector'\nimport css from './container.module.css'\nimport { setContainerSize } from 'state/player/playerSlice'\nimport { isIE } from '../utilities/is-ie';\nimport { FullscreenState } from '../constants'\nimport { setFullscreen, isFullscreen, collapseFullscreen } from '../fullscreen-helper'\n\nconst resize = container => (width, height) => {\n  \n  const {\n    props: { setContainerSize },\n  } = container\n  setContainerSize({ width, height })\n}\n\nexport class Container extends Component {\n  constructor(props) {\n    super(props)\n\n    this.resize = resize(this)\n  }\n\n  updateFullscreenState(fullscreenState) {\n    const container = this.content\n    const videoElement = document.getElementById('video-element')\n\n    if (fullscreenState === FullscreenState.FULLSCREEN && !isFullscreen()) {\n      setFullscreen(container, videoElement)\n    } else {\n      collapseFullscreen(videoElement)\n    }\n  }\n\n  componentWillReceiveProps(nextProps) {\n    const currentFullscreenState = this.props.fullscreenState\n    const nextFullscreenState = nextProps.fullscreenState\n\n    if (currentFullscreenState === nextFullscreenState) {\n      return\n    }\n\n    this.updateFullscreenState(nextFullscreenState)\n\n    return nextProps\n  }\n\n  render() {\n    let { containerSize, interactionMode, playerSize, refreshRate, fullscreenState, width, height } = this.props\n    \n    return (\n      <div\n      key=\"container\"\n      className={css.container}\n      style={fullscreenState === FullscreenState.FULLSCREEN ? { ...containerSize } : {}}\n      ref={el => (this.element = el)}\n      interaction-mode={interactionMode}\n      is-ie={`${isIE()}`}\n    >\n      <div className={css.content} style={fullscreenState === FullscreenState.NORMAL ? { ...playerSize } : { width: '100%', height: '100%' }} ref={el => (this.content = el)}>\n        {this.props.children}\n      </div>\n    </div>\n    );\n  }\n}\n\nexport default withResizeDetector(connect(\n  state => ({\n    containerSize: state.player.containerSize,\n    breakpoint: state.player.breakpoint,\n    interactionMode: state.player.interactionMode,\n    playerSize: state.player.playerSize,\n    fullscreenState: state.player.fullscreenState,\n  }),\n  dispatch => ({\n    setContainersize: (size) => dispatch(setContainerSize(size)),\n  })\n)(Container))"]},"metadata":{},"sourceType":"module"}