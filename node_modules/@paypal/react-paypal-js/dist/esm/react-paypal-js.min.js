function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}
/*!
 * react-paypal-js v7.2.1 (2021-07-28T21:34:39.268Z)
 * Copyright 2020-present, PayPal, Inc. All rights reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */import t,{createContext as n,useContext as r,useReducer as o,useEffect as a,useRef as i,useState as u}from"react";var s=function(){return(s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function c(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function l(e,t,n){if(n||2===arguments.length)for(var r,o=0,a=t.length;o<a;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||t)}function d(e){var t="https://www.paypal.com/sdk/js";e.sdkBaseURL&&(t=e.sdkBaseURL,delete e.sdkBaseURL);var n=function(e,t){var n="",r="";Array.isArray(e)?e.length>1?(n="*",r=e.toString()):n=e.toString():"string"==typeof e&&e.length>0?n=e:"string"==typeof t&&t.length>0&&(n="*",r=t);return{"merchant-id":n,"data-merchant-id":r}}(e["merchant-id"],e["data-merchant-id"]),r=Object.assign({},e,n),o=Object.keys(r).filter((function(e){return void 0!==r[e]&&null!==r[e]&&""!==r[e]})).reduce((function(e,t){var n=r[t].toString();return"data-"===t.substring(0,5)?e.dataAttributes[t]=n:e.queryParams[t]=n,e}),{queryParams:{},dataAttributes:{}}),a=o.queryParams,i=o.dataAttributes;return{url:t+"?"+f(a),dataAttributes:i}}function f(e){var t="";return Object.keys(e).forEach((function(n){0!==t.length&&(t+="&"),t+=n+"="+e[n]})),t}function p(e,t){void 0===t&&(t={});var n=document.createElement("script");return n.src=e,Object.keys(t).forEach((function(e){n.setAttribute(e,t[e]),"data-csp-nonce"===e&&n.setAttribute("nonce",t["data-csp-nonce"])})),n}function v(t,n){if(void 0===n&&(n=y()),h(t,n),"undefined"==typeof window)return n.resolve(null);var r=d(t),o=r.url,a=r.dataAttributes,i=a["data-namespace"]||"paypal",u=m(i);return function(e,t){var n=document.querySelector('script[src="'+e+'"]');if(null===n)return null;var r=p(e,t),o=Object.assign({},n.dataset);if(delete o.uidAuto,Object.keys(o).length!==Object.keys(r.dataset).length)return null;var a=!0;return Object.keys(o).forEach((function(e){o[e]!==r.dataset[e]&&(a=!1)})),a?n:null}(o,a)&&u?n.resolve(u):function(t,n){void 0===n&&(n=y());h(t,n);var r=t.url,o=t.attributes;if("string"!=typeof r||0===r.length)throw new Error("Invalid url.");if(void 0!==o&&"object"!==e(o))throw new Error("Expected attributes to be an object.");return new n((function(e,t){if("undefined"==typeof window)return e();!function(e){var t=e.url,n=e.attributes,r=e.onSuccess,o=e.onError,a=p(t,n);a.onerror=o,a.onload=r,document.head.insertBefore(a,document.head.firstElementChild)}({url:r,attributes:o,onSuccess:function(){return e()},onError:function(){return t(new Error('The script "'+r+'" failed to load.'))}})}))}({url:o,attributes:a},n).then((function(){var e=m(i);if(e)return e;throw new Error("The window."+i+" global variable is not available.")}))}function y(){if("undefined"==typeof Promise)throw new Error("Promise is undefined. To resolve the issue, use a Promise polyfill.");return Promise}function m(e){return window[e]}function h(t,n){if("object"!==e(t)||null===t)throw new Error("Expected an options object.");if(void 0!==n&&"function"!=typeof n)throw new Error("Expected PromisePonyfill to be a function.")}function b(e){return void 0===e&&(e="paypal"),window[e]}var P="initial",g="pending",w="rejected",E="resolved",S=n(null),A=n(null);function O(e,t){switch(t.type){case"setLoadingStatus":return{options:s({},e.options),loadingStatus:t.value};case"resetOptions":return function(e){var t=document.querySelector('script[data-react-paypal-script-id="'+e+'"]');if(null===t)return;t.parentNode&&t.parentNode.removeChild(t)}(e.options["data-react-paypal-script-id"]),delete t.value["data-react-paypal-script-id"],{loadingStatus:g,options:s(s({},t.value),{"data-react-paypal-script-id":""+R(t.value)})};default:return e}}function R(e){return"react-paypal-js-"+function(e){for(var t=0,n=0;n<e.length;n++)t+=e[n].charCodeAt(0)*Math.pow(n%10+1,5);return Math.floor(Math.pow(Math.sqrt(t),5))}(JSON.stringify(e))}function k(){var e=r(S),t=r(A);if(null===e||null===t)throw new Error("usePayPalScriptReducer must be used within a PayPalScriptProvider");var n=e.loadingStatus,o=c(e,["loadingStatus"]);return[s(s({},o),{isInitial:n===P,isPending:n===g,isResolved:n===E,isRejected:n===w}),t]}var j=function(e){var n=e.options,r=e.children,i=e.deferLoading,u=void 0!==i&&i;var c=o(O,{options:n,deferLoading:u},(function(e){var t=e.options,n=e.deferLoading;return{options:s(s({},t),{"data-react-paypal-script-id":""+R(t)}),loadingStatus:n?P:g}})),l=c[0],d=c[1];return a((function(){if(!1===u&&l.loadingStatus===P)return d({type:"setLoadingStatus",value:g});if(l.loadingStatus===g){var e=!0;return v(l.options).then((function(){e&&d({type:"setLoadingStatus",value:E})})).catch((function(){e&&d({type:"setLoadingStatus",value:w})})),function(){e=!1}}}),[n,u,l.loadingStatus]),t.createElement(S.Provider,{value:l},t.createElement(A.Provider,{value:d},r))},M=function(e){var n=e.className,r=void 0===n?"":n,o=e.disabled,d=void 0!==o&&o,f=e.children,p=void 0===f?null:f,v=e.forceReRender,y=void 0===v?[]:v,m=c(e,["className","disabled","children","forceReRender"]),h=i(null),P=i(null),g=k()[0],w=g.isResolved,E=g.options,S=u(null),A=S[0],O=S[1],R=u(!0),j=R[0],M=R[1],L=u(null)[1];function N(){null!==P.current&&P.current.close().catch((function(){}))}a((function(){if(!1===w)return N;var e=b(E["data-namespace"]);if(void 0===e||void 0===e.Buttons)return L((function(){throw new Error(function(e){var t=e.components,n=void 0===t?"":t,r=e["data-namespace"],o="Unable to render <PayPalButtons /> because window."+(void 0===r?"paypal":r)+".Buttons is undefined.";if(n.length&&!n.includes("buttons")){o+="\nTo fix the issue, add 'buttons' to the list of components passed to the parent PayPalScriptProvider:\n`<PayPalScriptProvider options={{ components: '"+(n+",buttons")+"'}}>`."}return o}(E))})),N;return P.current=e.Buttons(s(s({},m),{onInit:function(e,t){O(t),"function"==typeof m.onInit&&m.onInit(e,t)}})),!1===P.current.isEligible()?(M(!1),N):(null===h.current||P.current.render(h.current).catch((function(e){null!==h.current&&0!==h.current.children.length&&L((function(){throw new Error("Failed to render <PayPalButtons /> component. "+e)}))})),N)}),l(l([w],y),[m.fundingSource])),a((function(){null!==A&&(!0===d?A.disable().catch((function(){})):A.enable().catch((function(){})))}),[d,A]);var T=d?{opacity:.38}:{},I=(r+" "+(d?"paypal-buttons-disabled":"")).trim();return!1===j?p:t.createElement("div",{ref:h,style:T,className:I})};var L=function(e){var n=e.className,r=void 0===n?"":n,o=c(e,["className"]),l=k()[0],d=l.isResolved,f=l.options,p=i(null),v=i(null),y=u(null)[1];return a((function(){if(!1!==d&&null===v.current){var e=b(f["data-namespace"]);void 0!==e&&void 0!==e.Marks?(v.current=e.Marks(s({},o)),!1!==v.current.isEligible()&&null!==p.current&&v.current.render(p.current).catch((function(e){null!==p.current&&0!==p.current.children.length&&y((function(){throw new Error("Failed to render <PayPalMarks /> component. "+e)}))}))):y((function(){throw new Error(function(e){var t=e.components,n=void 0===t?"":t,r=e["data-namespace"],o="Unable to render <PayPalMarks /> because window."+(void 0===r?"paypal":r)+".Marks is undefined.";if(!n.includes("marks")){o+="\nTo fix the issue, add 'marks' to the list of components passed to the parent PayPalScriptProvider:\n`<PayPalScriptProvider options={{ components: '"+(n?n+",marks":"marks")+"'}}>`."}return o}(f))}))}}),[d,o.fundingSource]),t.createElement("div",{ref:p,className:r})};var N=function(e){var n=e.className,r=void 0===n?"":n,o=e.forceReRender,d=void 0===o?[]:o,f=c(e,["className","forceReRender"]),p=k()[0],v=p.isResolved,y=p.options,m=i(null),h=i(null),P=u(null)[1];return a((function(){if(!1!==v){var e=b(y["data-namespace"]);void 0!==e&&void 0!==e.Messages?(h.current=e.Messages(s({},f)),null!==m.current&&h.current.render(m.current).catch((function(e){null!==m.current&&0!==m.current.children.length&&P((function(){throw new Error("Failed to render <PayPalMessages /> component. "+e)}))}))):P((function(){throw new Error(function(e){var t=e.components,n=void 0===t?"":t,r=e["data-namespace"],o="Unable to render <PayPalMessages /> because window."+(void 0===r?"paypal":r)+".Messages is undefined.";if(!n.includes("messages")){o+="\nTo fix the issue, add 'messages' to the list of components passed to the parent PayPalScriptProvider:\n`<PayPalScriptProvider options={{ components: '"+(n?n+",messages":"messages")+"'}}>`."}return o}(y))}))}}),l([v],d)),t.createElement("div",{ref:m,className:r})};var T={PAYPAL:"paypal",VENMO:"venmo",APPLEPAY:"applepay",ITAU:"itau",CREDIT:"credit",PAYLATER:"paylater",CARD:"card",IDEAL:"ideal",SEPA:"sepa",BANCONTACT:"bancontact",GIROPAY:"giropay",SOFORT:"sofort",EPS:"eps",MYBANK:"mybank",P24:"p24",VERKKOPANKKI:"verkkopankki",PAYU:"payu",BLIK:"blik",TRUSTLY:"trustly",ZIMPLER:"zimpler",MAXIMA:"maxima",OXXO:"oxxo",BOLETO:"boleto",WECHATPAY:"wechatpay",MERCADOPAGO:"mercadopago"};export{T as FUNDING,M as PayPalButtons,L as PayPalMarks,N as PayPalMessages,j as PayPalScriptProvider,k as usePayPalScriptReducer};
