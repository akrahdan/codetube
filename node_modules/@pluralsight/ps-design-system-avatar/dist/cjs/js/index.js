"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.transformSrc = exports.getColorByName = exports.getInitials = void 0;
var sha1_1 = __importDefault(require("tiny-hashes/sha1"));
var index_1 = require("../vars/index");
exports.getInitials = function (fullname) {
    if (!fullname || !fullname.length)
        return ':)';
    return fullname[0].toUpperCase();
};
exports.getColorByName = function (name) {
    var stableRandNumber = parseInt(sha1_1.default(name).replace(/[^0-9]/g, '')[0], 10);
    return index_1.colors[stableRandNumber] || index_1.colors[0];
};
exports.transformSrc = function (src) {
    if (src === void 0) { src = ''; }
    var hasGravatar = /gravatar/.exec(src);
    if (!hasGravatar)
        return src;
    var sep = /\?/.exec(src) ? '&' : '?';
    var fallback = encodeURIComponent(index_1.fallbackPixel);
    return "" + src + sep + "d=" + fallback;
};
//# sourceMappingURL=index.js.map